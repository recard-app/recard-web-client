@use '../globals' as *;

// =============================================================================
// CARDZEN THEME OVERRIDES
// Scoped under [data-theme="cardzen"] -- cannot affect Default theme.
// All values use SCSS variables (-> CSS custom properties) from ThemeColors,
// so if the Cardzen palette changes, these overrides adapt automatically.
// =============================================================================

// --- shadcn/ui CSS variable overrides ---
// Override the oklch defaults in main.css :root with Cardzen dark values.
// :root[data-theme] gives specificity 0-2-0, beating :root (0-1-0).
:root[data-theme="cardzen"] {
  --background: #{$neutral-light-gray};
  --foreground: #{$neutral-black};
  --card: #{$neutral-white};
  --card-foreground: #{$neutral-black};
  --popover: #{$dropdown-white};
  --popover-foreground: #{$neutral-black};
  --primary: #{$primary-color};
  --primary-foreground: #{$neutral-white};
  --secondary: #{$neutral-lightest-gray};
  --secondary-foreground: #{$neutral-black};
  --muted: #{$neutral-lightest-gray};
  --muted-foreground: #{$neutral-dark-gray};
  --accent: #{$primary-light};
  --accent-foreground: #{$neutral-black};
  --destructive: #{$error};
  --border: #{$neutral-gray};
  --input: #{$neutral-gray};
  --ring: #{$primary-color};
}

// --- Component-specific overrides ---

[data-theme="cardzen"] {
  // Chat component cards -- pop against dark container background
  .chat-component-item {
    background-color: $background-lighter-gray;
    border-color: $border-medium-gray;
  }

  // User message bubble -- bright gold text on dark gold bg.
  // Needs .prompt-history to beat component specificity (0-4-0 vs 0-3-0).
  .prompt-history .entry-user .entry-content {
    color: $primary-color;
  }

  // Drawer content -- use card surface, not page canvas
  [data-slot="drawer-content"] {
    background-color: $neutral-white !important;
  }

  // Drawer handle -- visible against card surface
  [data-slot="drawer-handle"] {
    background: $neutral-gray;
  }

  // Credit modal bottom-row button -- override light tint that mixes toward white.
  // In dark mode, mix toward the dark surface color instead.
  .credit-modal-bottom-row button.outline {
    background-color: color-mix(in srgb, currentColor 15%, $neutral-white) !important;

    &:hover:not(:disabled) {
      background-color: color-mix(in srgb, currentColor 25%, $neutral-white) !important;
    }
  }

  // Sidebar profile plan text -- $neutral-medium-gray (#5C5650) fails WCAG AA
  // on dark surface. Brighten to $text-subtle-gray (#908A82) = 4.99:1.
  .app-sidebar .profile-trigger .profile-plan {
    color: $text-subtle-gray;
  }

  // Daily digest timestamp -- same $neutral-medium-gray issue.
  .daily-digest__timestamp {
    color: $text-subtle-gray;
  }

  // Landing page -- $neutral-medium-gray inline styles fail WCAG AA on dark
  // page canvas. Override with !important to beat inline style specificity.
  .landing-ctas span,
  .landing-page > footer {
    color: $text-subtle-gray !important;
  }
}
