@use '../../../styling/globals' as *;

// Universal drawer handle
[data-slot="drawer-handle"] {
  width: 48px;
  height: 6px;
  border-radius: $radius-full;
  background: $neutral-light-gray;
  margin: $space-2 auto;
  flex-shrink: 0;
  min-height: 6px;
  min-width: 48px;
}

// Provide a bit more top spacing when the drawer opens from bottom
[data-slot="drawer-content"][data-vaul-drawer-direction="bottom"] > [data-slot="drawer-handle"],
[data-slot="drawer-content"][data-vaul-drawer-direction="top"] > [data-slot="drawer-handle"] {
  margin-top: $space-3;
}

// Remove blue focus/outline from drawer content and all focusable elements inside
[data-slot="drawer-content"],
[data-slot="drawer-content"]:focus,
[data-slot="drawer-content"]:focus-visible,
[data-slot="drawer-content"] *:focus,
[data-slot="drawer-content"] *:focus-visible {
  outline: none !important;
  box-shadow: none !important;
  border: none !important;
}

// Remove any browser default focus styles from the drawer overlay as well
[data-slot="drawer-overlay"],
[data-slot="drawer-overlay"]:focus,
[data-slot="drawer-overlay"]:focus-visible {
  outline: none !important;
  box-shadow: none !important;
}

// Smooth transitions for drawer content changes
[data-slot="drawer-content"] {
  transition: height 0.3s ease-out, max-height 0.3s ease-out;
}

// Smooth transitions for content that loads asynchronously
.drawer-content-scroll,
.dialog-content-scroll {
  transition: opacity 0.2s ease-out;
}

// Add a minimum height to prevent jarring transitions when content loads
.mobile-credit-details-drawer {
  min-height: 300px;
  transition: height 0.4s cubic-bezier(0.4, 0, 0.2, 1);
}

// Ensure smooth opacity transitions when content appears
.mobile-credit-details-drawer .drawer-content-scroll {
  opacity: 1;
  transition: opacity 0.3s ease-out 0.1s; // Small delay to ensure content is ready
}

// When content is loading/missing, reduce opacity slightly
.mobile-credit-details-drawer .drawer-content-scroll:empty {
  opacity: 0.5;
}