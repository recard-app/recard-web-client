@use '../../styling/globals' as *;

.preferences-module {
  // Card visuals now supplied by ContentContainer `framed` variant
  padding: $space-2 0;

  h2 { margin-bottom: $space-4; }

  // Loading overlay outside content
  .loading-overlay {
    position: relative;
    background: rgba($neutral-white, 0.9);
    padding: $space-4;
    border-radius: $radius-lg;
    margin-bottom: $space-4;
    box-shadow: $shadow-sm;
  }

  .preferences-content {
    position: relative;
    display: grid;
    gap: $space-8;

    .preferences-textarea.loading,
    .chat-history-select.loading,
    .show-completed-select.loading {
      opacity: 0.6;
      cursor: not-allowed;
    }

    .preferences-textarea:disabled,
    .chat-history-select:disabled,
    .show-completed-select:disabled {
      background-color: $neutral-light-gray;
      color: $neutral-medium-gray;
    }

    .special-instructions-field {
      display: flex;
      flex-direction: column;

      .character-counter {
        font-size: $font-xs;
        color: $neutral-medium-gray;
        text-align: right;
        margin-top: $space-1;

        &.warning {
          color: $warning-yellow;
        }

        &.error {
          color: $error;
          font-weight: $font-medium;
        }
      }
    }

    .chat-history-preference,
    .show-completed-preference,
    .chat-mode-preference {
      display: flex;
      flex-direction: column;
      gap: $space-1;
      margin-bottom: $space-4;
    }

    .chat-mode-preference {
      .chat-mode-description {
        font-size: $font-xs;
        color: $neutral-medium-gray;
        margin: 0;
        margin-top: $space-half;
        font-style: italic;
      }
    }

    .save-button {
      width: fit-content;
    }
  }
}
