var kR=Object.defineProperty;var DR=(t,e,n)=>e in t?kR(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Ai=(t,e,n)=>DR(t,typeof e!="symbol"?e+"":e,n);function jR(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(t,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function ol(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var m0={exports:{}},ju={},g0={exports:{}},pt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mE;function MR(){if(mE)return pt;mE=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),y=Symbol.iterator;function T(W){return W===null||typeof W!="object"?null:(W=y&&W[y]||W["@@iterator"],typeof W=="function"?W:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,D={};function j(W,J,ue){this.props=W,this.context=J,this.refs=D,this.updater=ue||k}j.prototype.isReactComponent={},j.prototype.setState=function(W,J){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,J,"setState")},j.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function L(){}L.prototype=j.prototype;function U(W,J,ue){this.props=W,this.context=J,this.refs=D,this.updater=ue||k}var B=U.prototype=new L;B.constructor=U,N(B,j.prototype),B.isPureReactComponent=!0;var m=Array.isArray,S=Object.prototype.hasOwnProperty,x={current:null},_={key:!0,ref:!0,__self:!0,__source:!0};function b(W,J,ue){var _e,Te={},ce=null,pe=null;if(J!=null)for(_e in J.ref!==void 0&&(pe=J.ref),J.key!==void 0&&(ce=""+J.key),J)S.call(J,_e)&&!_.hasOwnProperty(_e)&&(Te[_e]=J[_e]);var Re=arguments.length-2;if(Re===1)Te.children=ue;else if(1<Re){for(var Ie=Array(Re),je=0;je<Re;je++)Ie[je]=arguments[je+2];Te.children=Ie}if(W&&W.defaultProps)for(_e in Re=W.defaultProps,Re)Te[_e]===void 0&&(Te[_e]=Re[_e]);return{$$typeof:t,type:W,key:ce,ref:pe,props:Te,_owner:x.current}}function R(W,J){return{$$typeof:t,type:W.type,key:J,ref:W.ref,props:W.props,_owner:W._owner}}function P(W){return typeof W=="object"&&W!==null&&W.$$typeof===t}function A(W){var J={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function(ue){return J[ue]})}var H=/\/+/g;function O(W,J){return typeof W=="object"&&W!==null&&W.key!=null?A(""+W.key):J.toString(36)}function K(W,J,ue,_e,Te){var ce=typeof W;(ce==="undefined"||ce==="boolean")&&(W=null);var pe=!1;if(W===null)pe=!0;else switch(ce){case"string":case"number":pe=!0;break;case"object":switch(W.$$typeof){case t:case e:pe=!0}}if(pe)return pe=W,Te=Te(pe),W=_e===""?"."+O(pe,0):_e,m(Te)?(ue="",W!=null&&(ue=W.replace(H,"$&/")+"/"),K(Te,J,ue,"",function(je){return je})):Te!=null&&(P(Te)&&(Te=R(Te,ue+(!Te.key||pe&&pe.key===Te.key?"":(""+Te.key).replace(H,"$&/")+"/")+W)),J.push(Te)),1;if(pe=0,_e=_e===""?".":_e+":",m(W))for(var Re=0;Re<W.length;Re++){ce=W[Re];var Ie=_e+O(ce,Re);pe+=K(ce,J,ue,Ie,Te)}else if(Ie=T(W),typeof Ie=="function")for(W=Ie.call(W),Re=0;!(ce=W.next()).done;)ce=ce.value,Ie=_e+O(ce,Re++),pe+=K(ce,J,ue,Ie,Te);else if(ce==="object")throw J=String(W),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.");return pe}function Y(W,J,ue){if(W==null)return W;var _e=[],Te=0;return K(W,_e,"","",function(ce){return J.call(ue,ce,Te++)}),_e}function F(W){if(W._status===-1){var J=W._result;J=J(),J.then(function(ue){(W._status===0||W._status===-1)&&(W._status=1,W._result=ue)},function(ue){(W._status===0||W._status===-1)&&(W._status=2,W._result=ue)}),W._status===-1&&(W._status=0,W._result=J)}if(W._status===1)return W._result.default;throw W._result}var G={current:null},z={transition:null},Z={ReactCurrentDispatcher:G,ReactCurrentBatchConfig:z,ReactCurrentOwner:x};function ee(){throw Error("act(...) is not supported in production builds of React.")}return pt.Children={map:Y,forEach:function(W,J,ue){Y(W,function(){J.apply(this,arguments)},ue)},count:function(W){var J=0;return Y(W,function(){J++}),J},toArray:function(W){return Y(W,function(J){return J})||[]},only:function(W){if(!P(W))throw Error("React.Children.only expected to receive a single React element child.");return W}},pt.Component=j,pt.Fragment=n,pt.Profiler=s,pt.PureComponent=U,pt.StrictMode=r,pt.Suspense=h,pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Z,pt.act=ee,pt.cloneElement=function(W,J,ue){if(W==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+W+".");var _e=N({},W.props),Te=W.key,ce=W.ref,pe=W._owner;if(J!=null){if(J.ref!==void 0&&(ce=J.ref,pe=x.current),J.key!==void 0&&(Te=""+J.key),W.type&&W.type.defaultProps)var Re=W.type.defaultProps;for(Ie in J)S.call(J,Ie)&&!_.hasOwnProperty(Ie)&&(_e[Ie]=J[Ie]===void 0&&Re!==void 0?Re[Ie]:J[Ie])}var Ie=arguments.length-2;if(Ie===1)_e.children=ue;else if(1<Ie){Re=Array(Ie);for(var je=0;je<Ie;je++)Re[je]=arguments[je+2];_e.children=Re}return{$$typeof:t,type:W.type,key:Te,ref:ce,props:_e,_owner:pe}},pt.createContext=function(W){return W={$$typeof:l,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},W.Provider={$$typeof:o,_context:W},W.Consumer=W},pt.createElement=b,pt.createFactory=function(W){var J=b.bind(null,W);return J.type=W,J},pt.createRef=function(){return{current:null}},pt.forwardRef=function(W){return{$$typeof:u,render:W}},pt.isValidElement=P,pt.lazy=function(W){return{$$typeof:v,_payload:{_status:-1,_result:W},_init:F}},pt.memo=function(W,J){return{$$typeof:p,type:W,compare:J===void 0?null:J}},pt.startTransition=function(W){var J=z.transition;z.transition={};try{W()}finally{z.transition=J}},pt.unstable_act=ee,pt.useCallback=function(W,J){return G.current.useCallback(W,J)},pt.useContext=function(W){return G.current.useContext(W)},pt.useDebugValue=function(){},pt.useDeferredValue=function(W){return G.current.useDeferredValue(W)},pt.useEffect=function(W,J){return G.current.useEffect(W,J)},pt.useId=function(){return G.current.useId()},pt.useImperativeHandle=function(W,J,ue){return G.current.useImperativeHandle(W,J,ue)},pt.useInsertionEffect=function(W,J){return G.current.useInsertionEffect(W,J)},pt.useLayoutEffect=function(W,J){return G.current.useLayoutEffect(W,J)},pt.useMemo=function(W,J){return G.current.useMemo(W,J)},pt.useReducer=function(W,J,ue){return G.current.useReducer(W,J,ue)},pt.useRef=function(W){return G.current.useRef(W)},pt.useState=function(W){return G.current.useState(W)},pt.useSyncExternalStore=function(W,J,ue){return G.current.useSyncExternalStore(W,J,ue)},pt.useTransition=function(){return G.current.useTransition()},pt.version="18.3.1",pt}var gE;function yy(){return gE||(gE=1,g0.exports=MR()),g0.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vE;function OR(){if(vE)return ju;vE=1;var t=yy(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(u,h,p){var v,y={},T=null,k=null;p!==void 0&&(T=""+p),h.key!==void 0&&(T=""+h.key),h.ref!==void 0&&(k=h.ref);for(v in h)r.call(h,v)&&!o.hasOwnProperty(v)&&(y[v]=h[v]);if(u&&u.defaultProps)for(v in h=u.defaultProps,h)y[v]===void 0&&(y[v]=h[v]);return{$$typeof:e,type:u,key:T,ref:k,props:y,_owner:s.current}}return ju.Fragment=n,ju.jsx=l,ju.jsxs=l,ju}var yE;function LR(){return yE||(yE=1,m0.exports=OR()),m0.exports}var c=LR(),Sf={},v0={exports:{}},hr={},y0={exports:{}},w0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wE;function FR(){return wE||(wE=1,(function(t){function e(z,Z){var ee=z.length;z.push(Z);e:for(;0<ee;){var W=ee-1>>>1,J=z[W];if(0<s(J,Z))z[W]=Z,z[ee]=J,ee=W;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var Z=z[0],ee=z.pop();if(ee!==Z){z[0]=ee;e:for(var W=0,J=z.length,ue=J>>>1;W<ue;){var _e=2*(W+1)-1,Te=z[_e],ce=_e+1,pe=z[ce];if(0>s(Te,ee))ce<J&&0>s(pe,Te)?(z[W]=pe,z[ce]=ee,W=ce):(z[W]=Te,z[_e]=ee,W=_e);else if(ce<J&&0>s(pe,ee))z[W]=pe,z[ce]=ee,W=ce;else break e}}return Z}function s(z,Z){var ee=z.sortIndex-Z.sortIndex;return ee!==0?ee:z.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var h=[],p=[],v=1,y=null,T=3,k=!1,N=!1,D=!1,j=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function B(z){for(var Z=n(p);Z!==null;){if(Z.callback===null)r(p);else if(Z.startTime<=z)r(p),Z.sortIndex=Z.expirationTime,e(h,Z);else break;Z=n(p)}}function m(z){if(D=!1,B(z),!N)if(n(h)!==null)N=!0,F(S);else{var Z=n(p);Z!==null&&G(m,Z.startTime-z)}}function S(z,Z){N=!1,D&&(D=!1,L(b),b=-1),k=!0;var ee=T;try{for(B(Z),y=n(h);y!==null&&(!(y.expirationTime>Z)||z&&!A());){var W=y.callback;if(typeof W=="function"){y.callback=null,T=y.priorityLevel;var J=W(y.expirationTime<=Z);Z=t.unstable_now(),typeof J=="function"?y.callback=J:y===n(h)&&r(h),B(Z)}else r(h);y=n(h)}if(y!==null)var ue=!0;else{var _e=n(p);_e!==null&&G(m,_e.startTime-Z),ue=!1}return ue}finally{y=null,T=ee,k=!1}}var x=!1,_=null,b=-1,R=5,P=-1;function A(){return!(t.unstable_now()-P<R)}function H(){if(_!==null){var z=t.unstable_now();P=z;var Z=!0;try{Z=_(!0,z)}finally{Z?O():(x=!1,_=null)}}else x=!1}var O;if(typeof U=="function")O=function(){U(H)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,Y=K.port2;K.port1.onmessage=H,O=function(){Y.postMessage(null)}}else O=function(){j(H,0)};function F(z){_=z,x||(x=!0,O())}function G(z,Z){b=j(function(){z(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){N||k||(N=!0,F(S))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return T},t.unstable_getFirstCallbackNode=function(){return n(h)},t.unstable_next=function(z){switch(T){case 1:case 2:case 3:var Z=3;break;default:Z=T}var ee=T;T=Z;try{return z()}finally{T=ee}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,Z){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var ee=T;T=z;try{return Z()}finally{T=ee}},t.unstable_scheduleCallback=function(z,Z,ee){var W=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?W+ee:W):ee=W,z){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=ee+J,z={id:v++,callback:Z,priorityLevel:z,startTime:ee,expirationTime:J,sortIndex:-1},ee>W?(z.sortIndex=ee,e(p,z),n(h)===null&&z===n(p)&&(D?(L(b),b=-1):D=!0,G(m,ee-W))):(z.sortIndex=J,e(h,z),N||k||(N=!0,F(S))),z},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(z){var Z=T;return function(){var ee=T;T=Z;try{return z.apply(this,arguments)}finally{T=ee}}}})(w0)),w0}var _E;function VR(){return _E||(_E=1,y0.exports=FR()),y0.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EE;function UR(){if(EE)return hr;EE=1;var t=yy(),e=VR();function n(i){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+i,d=1;d<arguments.length;d++)a+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function o(i,a){l(i,a),l(i+"Capture",a)}function l(i,a){for(s[i]=a,i=0;i<a.length;i++)r.add(a[i])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},y={};function T(i){return h.call(y,i)?!0:h.call(v,i)?!1:p.test(i)?y[i]=!0:(v[i]=!0,!1)}function k(i,a,d,g){if(d!==null&&d.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return g?!1:d!==null?!d.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function N(i,a,d,g){if(a===null||typeof a>"u"||k(i,a,d,g))return!0;if(g)return!1;if(d!==null)switch(d.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function D(i,a,d,g,w,I,V){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=g,this.attributeNamespace=w,this.mustUseProperty=d,this.propertyName=i,this.type=a,this.sanitizeURL=I,this.removeEmptyString=V}var j={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){j[i]=new D(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var a=i[0];j[a]=new D(a,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){j[i]=new D(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){j[i]=new D(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){j[i]=new D(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){j[i]=new D(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){j[i]=new D(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){j[i]=new D(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){j[i]=new D(i,5,!1,i.toLowerCase(),null,!1,!1)});var L=/[\-:]([a-z])/g;function U(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var a=i.replace(L,U);j[a]=new D(a,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var a=i.replace(L,U);j[a]=new D(a,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var a=i.replace(L,U);j[a]=new D(a,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){j[i]=new D(i,1,!1,i.toLowerCase(),null,!1,!1)}),j.xlinkHref=new D("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){j[i]=new D(i,1,!1,i.toLowerCase(),null,!0,!0)});function B(i,a,d,g){var w=j.hasOwnProperty(a)?j[a]:null;(w!==null?w.type!==0:g||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(N(a,d,w,g)&&(d=null),g||w===null?T(a)&&(d===null?i.removeAttribute(a):i.setAttribute(a,""+d)):w.mustUseProperty?i[w.propertyName]=d===null?w.type===3?!1:"":d:(a=w.attributeName,g=w.attributeNamespace,d===null?i.removeAttribute(a):(w=w.type,d=w===3||w===4&&d===!0?"":""+d,g?i.setAttributeNS(g,a,d):i.setAttribute(a,d))))}var m=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,S=Symbol.for("react.element"),x=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),A=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),F=Symbol.for("react.lazy"),G=Symbol.for("react.offscreen"),z=Symbol.iterator;function Z(i){return i===null||typeof i!="object"?null:(i=z&&i[z]||i["@@iterator"],typeof i=="function"?i:null)}var ee=Object.assign,W;function J(i){if(W===void 0)try{throw Error()}catch(d){var a=d.stack.trim().match(/\n( *(at )?)/);W=a&&a[1]||""}return`
`+W+i}var ue=!1;function _e(i,a){if(!i||ue)return"";ue=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(oe){var g=oe}Reflect.construct(i,[],a)}else{try{a.call()}catch(oe){g=oe}i.call(a.prototype)}else{try{throw Error()}catch(oe){g=oe}i()}}catch(oe){if(oe&&g&&typeof oe.stack=="string"){for(var w=oe.stack.split(`
`),I=g.stack.split(`
`),V=w.length-1,q=I.length-1;1<=V&&0<=q&&w[V]!==I[q];)q--;for(;1<=V&&0<=q;V--,q--)if(w[V]!==I[q]){if(V!==1||q!==1)do if(V--,q--,0>q||w[V]!==I[q]){var Q=`
`+w[V].replace(" at new "," at ");return i.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",i.displayName)),Q}while(1<=V&&0<=q);break}}}finally{ue=!1,Error.prepareStackTrace=d}return(i=i?i.displayName||i.name:"")?J(i):""}function Te(i){switch(i.tag){case 5:return J(i.type);case 16:return J("Lazy");case 13:return J("Suspense");case 19:return J("SuspenseList");case 0:case 2:case 15:return i=_e(i.type,!1),i;case 11:return i=_e(i.type.render,!1),i;case 1:return i=_e(i.type,!0),i;default:return""}}function ce(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case _:return"Fragment";case x:return"Portal";case R:return"Profiler";case b:return"StrictMode";case O:return"Suspense";case K:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case A:return(i.displayName||"Context")+".Consumer";case P:return(i._context.displayName||"Context")+".Provider";case H:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Y:return a=i.displayName||null,a!==null?a:ce(i.type)||"Memo";case F:a=i._payload,i=i._init;try{return ce(i(a))}catch{}}return null}function pe(i){var a=i.type;switch(i.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=a.render,i=i.displayName||i.name||"",a.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ce(a);case 8:return a===b?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function Re(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ie(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function je(i){var a=Ie(i)?"checked":"value",d=Object.getOwnPropertyDescriptor(i.constructor.prototype,a),g=""+i[a];if(!i.hasOwnProperty(a)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var w=d.get,I=d.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return w.call(this)},set:function(V){g=""+V,I.call(this,V)}}),Object.defineProperty(i,a,{enumerable:d.enumerable}),{getValue:function(){return g},setValue:function(V){g=""+V},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function Ze(i){i._valueTracker||(i._valueTracker=je(i))}function mt(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var d=a.getValue(),g="";return i&&(g=Ie(i)?i.checked?"true":"false":i.value),i=g,i!==d?(a.setValue(i),!0):!1}function vt(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Oe(i,a){var d=a.checked;return ee({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??i._wrapperState.initialChecked})}function ke(i,a){var d=a.defaultValue==null?"":a.defaultValue,g=a.checked!=null?a.checked:a.defaultChecked;d=Re(a.value!=null?a.value:d),i._wrapperState={initialChecked:g,initialValue:d,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function ne(i,a){a=a.checked,a!=null&&B(i,"checked",a,!1)}function de(i,a){ne(i,a);var d=Re(a.value),g=a.type;if(d!=null)g==="number"?(d===0&&i.value===""||i.value!=d)&&(i.value=""+d):i.value!==""+d&&(i.value=""+d);else if(g==="submit"||g==="reset"){i.removeAttribute("value");return}a.hasOwnProperty("value")?me(i,a.type,d):a.hasOwnProperty("defaultValue")&&me(i,a.type,Re(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(i.defaultChecked=!!a.defaultChecked)}function we(i,a,d){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var g=a.type;if(!(g!=="submit"&&g!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+i._wrapperState.initialValue,d||a===i.value||(i.value=a),i.defaultValue=a}d=i.name,d!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,d!==""&&(i.name=d)}function me(i,a,d){(a!=="number"||vt(i.ownerDocument)!==i)&&(d==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+d&&(i.defaultValue=""+d))}var Pe=Array.isArray;function tt(i,a,d,g){if(i=i.options,a){a={};for(var w=0;w<d.length;w++)a["$"+d[w]]=!0;for(d=0;d<i.length;d++)w=a.hasOwnProperty("$"+i[d].value),i[d].selected!==w&&(i[d].selected=w),w&&g&&(i[d].defaultSelected=!0)}else{for(d=""+Re(d),a=null,w=0;w<i.length;w++){if(i[w].value===d){i[w].selected=!0,g&&(i[w].defaultSelected=!0);return}a!==null||i[w].disabled||(a=i[w])}a!==null&&(a.selected=!0)}}function Qe(i,a){if(a.dangerouslySetInnerHTML!=null)throw Error(n(91));return ee({},a,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Wt(i,a){var d=a.value;if(d==null){if(d=a.children,a=a.defaultValue,d!=null){if(a!=null)throw Error(n(92));if(Pe(d)){if(1<d.length)throw Error(n(93));d=d[0]}a=d}a==null&&(a=""),d=a}i._wrapperState={initialValue:Re(d)}}function mn(i,a){var d=Re(a.value),g=Re(a.defaultValue);d!=null&&(d=""+d,d!==i.value&&(i.value=d),a.defaultValue==null&&i.defaultValue!==d&&(i.defaultValue=d)),g!=null&&(i.defaultValue=""+g)}function xn(i){var a=i.textContent;a===i._wrapperState.initialValue&&a!==""&&a!==null&&(i.value=a)}function Dt(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Rt(i,a){return i==null||i==="http://www.w3.org/1999/xhtml"?Dt(a):i==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Tn,fi=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,d,g,w){MSApp.execUnsafeLocalFunction(function(){return i(a,d,g,w)})}:i})(function(i,a){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=a;else{for(Tn=Tn||document.createElement("div"),Tn.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=Tn.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;a.firstChild;)i.appendChild(a.firstChild)}});function $n(i,a){if(a){var d=i.firstChild;if(d&&d===i.lastChild&&d.nodeType===3){d.nodeValue=a;return}}i.textContent=a}var Or={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},bn=["Webkit","ms","Moz","O"];Object.keys(Or).forEach(function(i){bn.forEach(function(a){a=a+i.charAt(0).toUpperCase()+i.substring(1),Or[a]=Or[i]})});function wr(i,a,d){return a==null||typeof a=="boolean"||a===""?"":d||typeof a!="number"||a===0||Or.hasOwnProperty(i)&&Or[i]?(""+a).trim():a+"px"}function Fs(i,a){i=i.style;for(var d in a)if(a.hasOwnProperty(d)){var g=d.indexOf("--")===0,w=wr(d,a[d],g);d==="float"&&(d="cssFloat"),g?i.setProperty(d,w):i[d]=w}}var Vs=ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Us(i,a){if(a){if(Vs[i]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(n(137,i));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(n(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(n(61))}if(a.style!=null&&typeof a.style!="object")throw Error(n(62))}}function Hs(i,a){if(i.indexOf("-")===-1)return typeof a.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ts=null;function qe(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var ft=null,lt=null,it=null;function Ee(i){if(i=wu(i)){if(typeof ft!="function")throw Error(n(280));var a=i.stateNode;a&&(a=Oh(a),ft(i.stateNode,i.type,a))}}function Fe(i){lt?it?it.push(i):it=[i]:lt=i}function et(){if(lt){var i=lt,a=it;if(it=lt=null,Ee(i),a)for(i=0;i<a.length;i++)Ee(a[i])}}function Nt(i,a){return i(a)}function Zt(){}var Qt=!1;function zn(i,a,d){if(Qt)return i(a,d);Qt=!0;try{return Nt(i,a,d)}finally{Qt=!1,(lt!==null||it!==null)&&(Zt(),et())}}function Tt(i,a){var d=i.stateNode;if(d===null)return null;var g=Oh(d);if(g===null)return null;d=g[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(i=i.type,g=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!g;break e;default:i=!1}if(i)return null;if(d&&typeof d!="function")throw Error(n(231,a,typeof d));return d}var _r=!1;if(u)try{var Wn={};Object.defineProperty(Wn,"passive",{get:function(){_r=!0}}),window.addEventListener("test",Wn,Wn),window.removeEventListener("test",Wn,Wn)}catch{_r=!1}function pi(i,a,d,g,w,I,V,q,Q){var oe=Array.prototype.slice.call(arguments,3);try{a.apply(d,oe)}catch(ve){this.onError(ve)}}var Bs=!1,rn=null,ns=!1,Jc=null,$m={onError:function(i){Bs=!0,rn=i}};function ul(i,a,d,g,w,I,V,q,Q){Bs=!1,rn=null,pi.apply($m,arguments)}function ah(i,a,d,g,w,I,V,q,Q){if(ul.apply(this,arguments),Bs){if(Bs){var oe=rn;Bs=!1,rn=null}else throw Error(n(198));ns||(ns=!0,Jc=oe)}}function rs(i){var a=i,d=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(d=a.return),i=a.return;while(i)}return a.tag===3?d:null}function ra(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function ss(i){if(rs(i)!==i)throw Error(n(188))}function lh(i){var a=i.alternate;if(!a){if(a=rs(i),a===null)throw Error(n(188));return a!==i?null:i}for(var d=i,g=a;;){var w=d.return;if(w===null)break;var I=w.alternate;if(I===null){if(g=w.return,g!==null){d=g;continue}break}if(w.child===I.child){for(I=w.child;I;){if(I===d)return ss(w),i;if(I===g)return ss(w),a;I=I.sibling}throw Error(n(188))}if(d.return!==g.return)d=w,g=I;else{for(var V=!1,q=w.child;q;){if(q===d){V=!0,d=w,g=I;break}if(q===g){V=!0,g=w,d=I;break}q=q.sibling}if(!V){for(q=I.child;q;){if(q===d){V=!0,d=I,g=w;break}if(q===g){V=!0,g=I,d=w;break}q=q.sibling}if(!V)throw Error(n(189))}}if(d.alternate!==g)throw Error(n(190))}if(d.tag!==3)throw Error(n(188));return d.stateNode.current===d?i:a}function eu(i){return i=lh(i),i!==null?dl(i):null}function dl(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var a=dl(i);if(a!==null)return a;i=i.sibling}return null}var hl=e.unstable_scheduleCallback,tu=e.unstable_cancelCallback,ch=e.unstable_shouldYield,zm=e.unstable_requestPaint,Ot=e.unstable_now,uh=e.unstable_getCurrentPriorityLevel,sa=e.unstable_ImmediatePriority,eo=e.unstable_UserBlockingPriority,Lr=e.unstable_NormalPriority,nu=e.unstable_LowPriority,dh=e.unstable_IdlePriority,ia=null,Er=null;function hh(i){if(Er&&typeof Er.onCommitFiberRoot=="function")try{Er.onCommitFiberRoot(ia,i,void 0,(i.current.flags&128)===128)}catch{}}var Jn=Math.clz32?Math.clz32:ph,ru=Math.log,fh=Math.LN2;function ph(i){return i>>>=0,i===0?32:31-(ru(i)/fh|0)|0}var fl=64,pl=4194304;function to(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function oa(i,a){var d=i.pendingLanes;if(d===0)return 0;var g=0,w=i.suspendedLanes,I=i.pingedLanes,V=d&268435455;if(V!==0){var q=V&~w;q!==0?g=to(q):(I&=V,I!==0&&(g=to(I)))}else V=d&~w,V!==0?g=to(V):I!==0&&(g=to(I));if(g===0)return 0;if(a!==0&&a!==g&&(a&w)===0&&(w=g&-g,I=a&-a,w>=I||w===16&&(I&4194240)!==0))return a;if((g&4)!==0&&(g|=d&16),a=i.entangledLanes,a!==0)for(i=i.entanglements,a&=g;0<a;)d=31-Jn(a),w=1<<d,g|=i[d],a&=~w;return g}function Wm(i,a){switch(i){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mi(i,a){for(var d=i.suspendedLanes,g=i.pingedLanes,w=i.expirationTimes,I=i.pendingLanes;0<I;){var V=31-Jn(I),q=1<<V,Q=w[V];Q===-1?((q&d)===0||(q&g)!==0)&&(w[V]=Wm(q,a)):Q<=a&&(i.expiredLanes|=q),I&=~q}}function Sr(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function aa(){var i=fl;return fl<<=1,(fl&4194240)===0&&(fl=64),i}function no(i){for(var a=[],d=0;31>d;d++)a.push(i);return a}function ro(i,a,d){i.pendingLanes|=a,a!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,a=31-Jn(a),i[a]=d}function jt(i,a){var d=i.pendingLanes&~a;i.pendingLanes=a,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=a,i.mutableReadLanes&=a,i.entangledLanes&=a,a=i.entanglements;var g=i.eventTimes;for(i=i.expirationTimes;0<d;){var w=31-Jn(d),I=1<<w;a[w]=0,g[w]=-1,i[w]=-1,d&=~I}}function so(i,a){var d=i.entangledLanes|=a;for(i=i.entanglements;d;){var g=31-Jn(d),w=1<<g;w&a|i[g]&a&&(i[g]|=a),d&=~w}}var yt=0;function io(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var mh,ml,gh,vh,yh,su=!1,$s=[],Dn=null,is=null,os=null,oo=new Map,Fr=new Map,zs=[],Gm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function wh(i,a){switch(i){case"focusin":case"focusout":Dn=null;break;case"dragenter":case"dragleave":is=null;break;case"mouseover":case"mouseout":os=null;break;case"pointerover":case"pointerout":oo.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fr.delete(a.pointerId)}}function ir(i,a,d,g,w,I){return i===null||i.nativeEvent!==I?(i={blockedOn:a,domEventName:d,eventSystemFlags:g,nativeEvent:I,targetContainers:[w]},a!==null&&(a=wu(a),a!==null&&ml(a)),i):(i.eventSystemFlags|=g,a=i.targetContainers,w!==null&&a.indexOf(w)===-1&&a.push(w),i)}function qm(i,a,d,g,w){switch(a){case"focusin":return Dn=ir(Dn,i,a,d,g,w),!0;case"dragenter":return is=ir(is,i,a,d,g,w),!0;case"mouseover":return os=ir(os,i,a,d,g,w),!0;case"pointerover":var I=w.pointerId;return oo.set(I,ir(oo.get(I)||null,i,a,d,g,w)),!0;case"gotpointercapture":return I=w.pointerId,Fr.set(I,ir(Fr.get(I)||null,i,a,d,g,w)),!0}return!1}function _h(i){var a=ha(i.target);if(a!==null){var d=rs(a);if(d!==null){if(a=d.tag,a===13){if(a=ra(d),a!==null){i.blockedOn=a,yh(i.priority,function(){gh(d)});return}}else if(a===3&&d.stateNode.current.memoizedState.isDehydrated){i.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}i.blockedOn=null}function gi(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var d=gl(i.domEventName,i.eventSystemFlags,a[0],i.nativeEvent);if(d===null){d=i.nativeEvent;var g=new d.constructor(d.type,d);ts=g,d.target.dispatchEvent(g),ts=null}else return a=wu(d),a!==null&&ml(a),i.blockedOn=d,!1;a.shift()}return!0}function la(i,a,d){gi(i)&&d.delete(a)}function Eh(){su=!1,Dn!==null&&gi(Dn)&&(Dn=null),is!==null&&gi(is)&&(is=null),os!==null&&gi(os)&&(os=null),oo.forEach(la),Fr.forEach(la)}function as(i,a){i.blockedOn===a&&(i.blockedOn=null,su||(su=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Eh)))}function ls(i){function a(w){return as(w,i)}if(0<$s.length){as($s[0],i);for(var d=1;d<$s.length;d++){var g=$s[d];g.blockedOn===i&&(g.blockedOn=null)}}for(Dn!==null&&as(Dn,i),is!==null&&as(is,i),os!==null&&as(os,i),oo.forEach(a),Fr.forEach(a),d=0;d<zs.length;d++)g=zs[d],g.blockedOn===i&&(g.blockedOn=null);for(;0<zs.length&&(d=zs[0],d.blockedOn===null);)_h(d),d.blockedOn===null&&zs.shift()}var vi=m.ReactCurrentBatchConfig,ao=!0;function Gt(i,a,d,g){var w=yt,I=vi.transition;vi.transition=null;try{yt=1,iu(i,a,d,g)}finally{yt=w,vi.transition=I}}function Km(i,a,d,g){var w=yt,I=vi.transition;vi.transition=null;try{yt=4,iu(i,a,d,g)}finally{yt=w,vi.transition=I}}function iu(i,a,d,g){if(ao){var w=gl(i,a,d,g);if(w===null)ig(i,a,g,ca,d),wh(i,g);else if(qm(w,i,a,d,g))g.stopPropagation();else if(wh(i,g),a&4&&-1<Gm.indexOf(i)){for(;w!==null;){var I=wu(w);if(I!==null&&mh(I),I=gl(i,a,d,g),I===null&&ig(i,a,g,ca,d),I===w)break;w=I}w!==null&&g.stopPropagation()}else ig(i,a,g,null,d)}}var ca=null;function gl(i,a,d,g){if(ca=null,i=qe(g),i=ha(i),i!==null)if(a=rs(i),a===null)i=null;else if(d=a.tag,d===13){if(i=ra(a),i!==null)return i;i=null}else if(d===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null);return ca=i,null}function ou(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(uh()){case sa:return 1;case eo:return 4;case Lr:case nu:return 16;case dh:return 536870912;default:return 16}default:return 16}}var xr=null,vl=null,or=null;function au(){if(or)return or;var i,a=vl,d=a.length,g,w="value"in xr?xr.value:xr.textContent,I=w.length;for(i=0;i<d&&a[i]===w[i];i++);var V=d-i;for(g=1;g<=V&&a[d-g]===w[I-g];g++);return or=w.slice(i,1<g?1-g:void 0)}function yl(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function Ws(){return!0}function lu(){return!1}function jn(i){function a(d,g,w,I,V){this._reactName=d,this._targetInst=w,this.type=g,this.nativeEvent=I,this.target=V,this.currentTarget=null;for(var q in i)i.hasOwnProperty(q)&&(d=i[q],this[q]=d?d(I):I[q]);return this.isDefaultPrevented=(I.defaultPrevented!=null?I.defaultPrevented:I.returnValue===!1)?Ws:lu,this.isPropagationStopped=lu,this}return ee(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Ws)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Ws)},persist:function(){},isPersistent:Ws}),a}var cs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wl=jn(cs),Gs=ee({},cs,{view:0,detail:0}),Ym=jn(Gs),_l,yi,lo,ua=ee({},Gs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qs,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==lo&&(lo&&i.type==="mousemove"?(_l=i.screenX-lo.screenX,yi=i.screenY-lo.screenY):yi=_l=0,lo=i),_l)},movementY:function(i){return"movementY"in i?i.movementY:yi}}),El=jn(ua),cu=ee({},ua,{dataTransfer:0}),Sh=jn(cu),Sl=ee({},Gs,{relatedTarget:0}),xl=jn(Sl),xh=ee({},cs,{animationName:0,elapsedTime:0,pseudoElement:0}),wi=jn(xh),Th=ee({},cs,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),bh=jn(Th),Ch=ee({},cs,{data:0}),uu=jn(Ch),Tl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},er={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ih={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ah(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=Ih[i])?!!a[i]:!1}function qs(){return Ah}var f=ee({},Gs,{key:function(i){if(i.key){var a=Tl[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=yl(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?er[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qs,charCode:function(i){return i.type==="keypress"?yl(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?yl(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),C=jn(f),M=ee({},ua,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$=jn(M),te=ee({},Gs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qs}),ae=jn(te),Ce=ee({},cs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Pt=jn(Ce),gn=ee({},ua,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),_t=jn(gn),Cn=[9,13,27,32],cn=u&&"CompositionEvent"in window,Vr=null;u&&"documentMode"in document&&(Vr=document.documentMode);var Tr=u&&"TextEvent"in window&&!Vr,da=u&&(!cn||Vr&&8<Vr&&11>=Vr),bl=" ",cw=!1;function uw(i,a){switch(i){case"keyup":return Cn.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dw(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Cl=!1;function R3(i,a){switch(i){case"compositionend":return dw(a);case"keypress":return a.which!==32?null:(cw=!0,bl);case"textInput":return i=a.data,i===bl&&cw?null:i;default:return null}}function P3(i,a){if(Cl)return i==="compositionend"||!cn&&uw(i,a)?(i=au(),or=vl=xr=null,Cl=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return da&&a.locale!=="ko"?null:a.data;default:return null}}var N3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hw(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!N3[i.type]:a==="textarea"}function fw(i,a,d,g){Fe(g),a=Dh(a,"onChange"),0<a.length&&(d=new wl("onChange","change",null,d,g),i.push({event:d,listeners:a}))}var du=null,hu=null;function k3(i){Nw(i,0)}function Rh(i){var a=Nl(i);if(mt(a))return i}function D3(i,a){if(i==="change")return a}var pw=!1;if(u){var Zm;if(u){var Qm="oninput"in document;if(!Qm){var mw=document.createElement("div");mw.setAttribute("oninput","return;"),Qm=typeof mw.oninput=="function"}Zm=Qm}else Zm=!1;pw=Zm&&(!document.documentMode||9<document.documentMode)}function gw(){du&&(du.detachEvent("onpropertychange",vw),hu=du=null)}function vw(i){if(i.propertyName==="value"&&Rh(hu)){var a=[];fw(a,hu,i,qe(i)),zn(k3,a)}}function j3(i,a,d){i==="focusin"?(gw(),du=a,hu=d,du.attachEvent("onpropertychange",vw)):i==="focusout"&&gw()}function M3(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Rh(hu)}function O3(i,a){if(i==="click")return Rh(a)}function L3(i,a){if(i==="input"||i==="change")return Rh(a)}function F3(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var us=typeof Object.is=="function"?Object.is:F3;function fu(i,a){if(us(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var d=Object.keys(i),g=Object.keys(a);if(d.length!==g.length)return!1;for(g=0;g<d.length;g++){var w=d[g];if(!h.call(a,w)||!us(i[w],a[w]))return!1}return!0}function yw(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function ww(i,a){var d=yw(i);i=0;for(var g;d;){if(d.nodeType===3){if(g=i+d.textContent.length,i<=a&&g>=a)return{node:d,offset:a-i};i=g}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=yw(d)}}function _w(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?_w(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function Ew(){for(var i=window,a=vt();a instanceof i.HTMLIFrameElement;){try{var d=typeof a.contentWindow.location.href=="string"}catch{d=!1}if(d)i=a.contentWindow;else break;a=vt(i.document)}return a}function Xm(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}function V3(i){var a=Ew(),d=i.focusedElem,g=i.selectionRange;if(a!==d&&d&&d.ownerDocument&&_w(d.ownerDocument.documentElement,d)){if(g!==null&&Xm(d)){if(a=g.start,i=g.end,i===void 0&&(i=a),"selectionStart"in d)d.selectionStart=a,d.selectionEnd=Math.min(i,d.value.length);else if(i=(a=d.ownerDocument||document)&&a.defaultView||window,i.getSelection){i=i.getSelection();var w=d.textContent.length,I=Math.min(g.start,w);g=g.end===void 0?I:Math.min(g.end,w),!i.extend&&I>g&&(w=g,g=I,I=w),w=ww(d,I);var V=ww(d,g);w&&V&&(i.rangeCount!==1||i.anchorNode!==w.node||i.anchorOffset!==w.offset||i.focusNode!==V.node||i.focusOffset!==V.offset)&&(a=a.createRange(),a.setStart(w.node,w.offset),i.removeAllRanges(),I>g?(i.addRange(a),i.extend(V.node,V.offset)):(a.setEnd(V.node,V.offset),i.addRange(a)))}}for(a=[],i=d;i=i.parentNode;)i.nodeType===1&&a.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<a.length;d++)i=a[d],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var U3=u&&"documentMode"in document&&11>=document.documentMode,Il=null,Jm=null,pu=null,eg=!1;function Sw(i,a,d){var g=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;eg||Il==null||Il!==vt(g)||(g=Il,"selectionStart"in g&&Xm(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),pu&&fu(pu,g)||(pu=g,g=Dh(Jm,"onSelect"),0<g.length&&(a=new wl("onSelect","select",null,a,d),i.push({event:a,listeners:g}),a.target=Il)))}function Ph(i,a){var d={};return d[i.toLowerCase()]=a.toLowerCase(),d["Webkit"+i]="webkit"+a,d["Moz"+i]="moz"+a,d}var Al={animationend:Ph("Animation","AnimationEnd"),animationiteration:Ph("Animation","AnimationIteration"),animationstart:Ph("Animation","AnimationStart"),transitionend:Ph("Transition","TransitionEnd")},tg={},xw={};u&&(xw=document.createElement("div").style,"AnimationEvent"in window||(delete Al.animationend.animation,delete Al.animationiteration.animation,delete Al.animationstart.animation),"TransitionEvent"in window||delete Al.transitionend.transition);function Nh(i){if(tg[i])return tg[i];if(!Al[i])return i;var a=Al[i],d;for(d in a)if(a.hasOwnProperty(d)&&d in xw)return tg[i]=a[d];return i}var Tw=Nh("animationend"),bw=Nh("animationiteration"),Cw=Nh("animationstart"),Iw=Nh("transitionend"),Aw=new Map,Rw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function co(i,a){Aw.set(i,a),o(a,[i])}for(var ng=0;ng<Rw.length;ng++){var rg=Rw[ng],H3=rg.toLowerCase(),B3=rg[0].toUpperCase()+rg.slice(1);co(H3,"on"+B3)}co(Tw,"onAnimationEnd"),co(bw,"onAnimationIteration"),co(Cw,"onAnimationStart"),co("dblclick","onDoubleClick"),co("focusin","onFocus"),co("focusout","onBlur"),co(Iw,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$3=new Set("cancel close invalid load scroll toggle".split(" ").concat(mu));function Pw(i,a,d){var g=i.type||"unknown-event";i.currentTarget=d,ah(g,a,void 0,i),i.currentTarget=null}function Nw(i,a){a=(a&4)!==0;for(var d=0;d<i.length;d++){var g=i[d],w=g.event;g=g.listeners;e:{var I=void 0;if(a)for(var V=g.length-1;0<=V;V--){var q=g[V],Q=q.instance,oe=q.currentTarget;if(q=q.listener,Q!==I&&w.isPropagationStopped())break e;Pw(w,q,oe),I=Q}else for(V=0;V<g.length;V++){if(q=g[V],Q=q.instance,oe=q.currentTarget,q=q.listener,Q!==I&&w.isPropagationStopped())break e;Pw(w,q,oe),I=Q}}}if(ns)throw i=Jc,ns=!1,Jc=null,i}function Vt(i,a){var d=a[dg];d===void 0&&(d=a[dg]=new Set);var g=i+"__bubble";d.has(g)||(kw(a,i,2,!1),d.add(g))}function sg(i,a,d){var g=0;a&&(g|=4),kw(d,i,g,a)}var kh="_reactListening"+Math.random().toString(36).slice(2);function gu(i){if(!i[kh]){i[kh]=!0,r.forEach(function(d){d!=="selectionchange"&&($3.has(d)||sg(d,!1,i),sg(d,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[kh]||(a[kh]=!0,sg("selectionchange",!1,a))}}function kw(i,a,d,g){switch(ou(a)){case 1:var w=Gt;break;case 4:w=Km;break;default:w=iu}d=w.bind(null,a,d,i),w=void 0,!_r||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(w=!0),g?w!==void 0?i.addEventListener(a,d,{capture:!0,passive:w}):i.addEventListener(a,d,!0):w!==void 0?i.addEventListener(a,d,{passive:w}):i.addEventListener(a,d,!1)}function ig(i,a,d,g,w){var I=g;if((a&1)===0&&(a&2)===0&&g!==null)e:for(;;){if(g===null)return;var V=g.tag;if(V===3||V===4){var q=g.stateNode.containerInfo;if(q===w||q.nodeType===8&&q.parentNode===w)break;if(V===4)for(V=g.return;V!==null;){var Q=V.tag;if((Q===3||Q===4)&&(Q=V.stateNode.containerInfo,Q===w||Q.nodeType===8&&Q.parentNode===w))return;V=V.return}for(;q!==null;){if(V=ha(q),V===null)return;if(Q=V.tag,Q===5||Q===6){g=I=V;continue e}q=q.parentNode}}g=g.return}zn(function(){var oe=I,ve=qe(d),Se=[];e:{var ge=Aw.get(i);if(ge!==void 0){var Me=wl,Ve=i;switch(i){case"keypress":if(yl(d)===0)break e;case"keydown":case"keyup":Me=C;break;case"focusin":Ve="focus",Me=xl;break;case"focusout":Ve="blur",Me=xl;break;case"beforeblur":case"afterblur":Me=xl;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Me=El;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Me=Sh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Me=ae;break;case Tw:case bw:case Cw:Me=wi;break;case Iw:Me=Pt;break;case"scroll":Me=Ym;break;case"wheel":Me=_t;break;case"copy":case"cut":case"paste":Me=bh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Me=$}var Be=(a&4)!==0,on=!Be&&i==="scroll",re=Be?ge!==null?ge+"Capture":null:ge;Be=[];for(var X=oe,se;X!==null;){se=X;var be=se.stateNode;if(se.tag===5&&be!==null&&(se=be,re!==null&&(be=Tt(X,re),be!=null&&Be.push(vu(X,be,se)))),on)break;X=X.return}0<Be.length&&(ge=new Me(ge,Ve,null,d,ve),Se.push({event:ge,listeners:Be}))}}if((a&7)===0){e:{if(ge=i==="mouseover"||i==="pointerover",Me=i==="mouseout"||i==="pointerout",ge&&d!==ts&&(Ve=d.relatedTarget||d.fromElement)&&(ha(Ve)||Ve[_i]))break e;if((Me||ge)&&(ge=ve.window===ve?ve:(ge=ve.ownerDocument)?ge.defaultView||ge.parentWindow:window,Me?(Ve=d.relatedTarget||d.toElement,Me=oe,Ve=Ve?ha(Ve):null,Ve!==null&&(on=rs(Ve),Ve!==on||Ve.tag!==5&&Ve.tag!==6)&&(Ve=null)):(Me=null,Ve=oe),Me!==Ve)){if(Be=El,be="onMouseLeave",re="onMouseEnter",X="mouse",(i==="pointerout"||i==="pointerover")&&(Be=$,be="onPointerLeave",re="onPointerEnter",X="pointer"),on=Me==null?ge:Nl(Me),se=Ve==null?ge:Nl(Ve),ge=new Be(be,X+"leave",Me,d,ve),ge.target=on,ge.relatedTarget=se,be=null,ha(ve)===oe&&(Be=new Be(re,X+"enter",Ve,d,ve),Be.target=se,Be.relatedTarget=on,be=Be),on=be,Me&&Ve)t:{for(Be=Me,re=Ve,X=0,se=Be;se;se=Rl(se))X++;for(se=0,be=re;be;be=Rl(be))se++;for(;0<X-se;)Be=Rl(Be),X--;for(;0<se-X;)re=Rl(re),se--;for(;X--;){if(Be===re||re!==null&&Be===re.alternate)break t;Be=Rl(Be),re=Rl(re)}Be=null}else Be=null;Me!==null&&Dw(Se,ge,Me,Be,!1),Ve!==null&&on!==null&&Dw(Se,on,Ve,Be,!0)}}e:{if(ge=oe?Nl(oe):window,Me=ge.nodeName&&ge.nodeName.toLowerCase(),Me==="select"||Me==="input"&&ge.type==="file")var We=D3;else if(hw(ge))if(pw)We=L3;else{We=M3;var Xe=j3}else(Me=ge.nodeName)&&Me.toLowerCase()==="input"&&(ge.type==="checkbox"||ge.type==="radio")&&(We=O3);if(We&&(We=We(i,oe))){fw(Se,We,d,ve);break e}Xe&&Xe(i,ge,oe),i==="focusout"&&(Xe=ge._wrapperState)&&Xe.controlled&&ge.type==="number"&&me(ge,"number",ge.value)}switch(Xe=oe?Nl(oe):window,i){case"focusin":(hw(Xe)||Xe.contentEditable==="true")&&(Il=Xe,Jm=oe,pu=null);break;case"focusout":pu=Jm=Il=null;break;case"mousedown":eg=!0;break;case"contextmenu":case"mouseup":case"dragend":eg=!1,Sw(Se,d,ve);break;case"selectionchange":if(U3)break;case"keydown":case"keyup":Sw(Se,d,ve)}var Je;if(cn)e:{switch(i){case"compositionstart":var st="onCompositionStart";break e;case"compositionend":st="onCompositionEnd";break e;case"compositionupdate":st="onCompositionUpdate";break e}st=void 0}else Cl?uw(i,d)&&(st="onCompositionEnd"):i==="keydown"&&d.keyCode===229&&(st="onCompositionStart");st&&(da&&d.locale!=="ko"&&(Cl||st!=="onCompositionStart"?st==="onCompositionEnd"&&Cl&&(Je=au()):(xr=ve,vl="value"in xr?xr.value:xr.textContent,Cl=!0)),Xe=Dh(oe,st),0<Xe.length&&(st=new uu(st,i,null,d,ve),Se.push({event:st,listeners:Xe}),Je?st.data=Je:(Je=dw(d),Je!==null&&(st.data=Je)))),(Je=Tr?R3(i,d):P3(i,d))&&(oe=Dh(oe,"onBeforeInput"),0<oe.length&&(ve=new uu("onBeforeInput","beforeinput",null,d,ve),Se.push({event:ve,listeners:oe}),ve.data=Je))}Nw(Se,a)})}function vu(i,a,d){return{instance:i,listener:a,currentTarget:d}}function Dh(i,a){for(var d=a+"Capture",g=[];i!==null;){var w=i,I=w.stateNode;w.tag===5&&I!==null&&(w=I,I=Tt(i,d),I!=null&&g.unshift(vu(i,I,w)),I=Tt(i,a),I!=null&&g.push(vu(i,I,w))),i=i.return}return g}function Rl(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function Dw(i,a,d,g,w){for(var I=a._reactName,V=[];d!==null&&d!==g;){var q=d,Q=q.alternate,oe=q.stateNode;if(Q!==null&&Q===g)break;q.tag===5&&oe!==null&&(q=oe,w?(Q=Tt(d,I),Q!=null&&V.unshift(vu(d,Q,q))):w||(Q=Tt(d,I),Q!=null&&V.push(vu(d,Q,q)))),d=d.return}V.length!==0&&i.push({event:a,listeners:V})}var z3=/\r\n?/g,W3=/\u0000|\uFFFD/g;function jw(i){return(typeof i=="string"?i:""+i).replace(z3,`
`).replace(W3,"")}function jh(i,a,d){if(a=jw(a),jw(i)!==a&&d)throw Error(n(425))}function Mh(){}var og=null,ag=null;function lg(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var cg=typeof setTimeout=="function"?setTimeout:void 0,G3=typeof clearTimeout=="function"?clearTimeout:void 0,Mw=typeof Promise=="function"?Promise:void 0,q3=typeof queueMicrotask=="function"?queueMicrotask:typeof Mw<"u"?function(i){return Mw.resolve(null).then(i).catch(K3)}:cg;function K3(i){setTimeout(function(){throw i})}function ug(i,a){var d=a,g=0;do{var w=d.nextSibling;if(i.removeChild(d),w&&w.nodeType===8)if(d=w.data,d==="/$"){if(g===0){i.removeChild(w),ls(a);return}g--}else d!=="$"&&d!=="$?"&&d!=="$!"||g++;d=w}while(d);ls(a)}function uo(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return i}function Ow(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var d=i.data;if(d==="$"||d==="$!"||d==="$?"){if(a===0)return i;a--}else d==="/$"&&a++}i=i.previousSibling}return null}var Pl=Math.random().toString(36).slice(2),Ks="__reactFiber$"+Pl,yu="__reactProps$"+Pl,_i="__reactContainer$"+Pl,dg="__reactEvents$"+Pl,Y3="__reactListeners$"+Pl,Z3="__reactHandles$"+Pl;function ha(i){var a=i[Ks];if(a)return a;for(var d=i.parentNode;d;){if(a=d[_i]||d[Ks]){if(d=a.alternate,a.child!==null||d!==null&&d.child!==null)for(i=Ow(i);i!==null;){if(d=i[Ks])return d;i=Ow(i)}return a}i=d,d=i.parentNode}return null}function wu(i){return i=i[Ks]||i[_i],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Nl(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(n(33))}function Oh(i){return i[yu]||null}var hg=[],kl=-1;function ho(i){return{current:i}}function Ut(i){0>kl||(i.current=hg[kl],hg[kl]=null,kl--)}function Lt(i,a){kl++,hg[kl]=i.current,i.current=a}var fo={},Gn=ho(fo),ar=ho(!1),fa=fo;function Dl(i,a){var d=i.type.contextTypes;if(!d)return fo;var g=i.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===a)return g.__reactInternalMemoizedMaskedChildContext;var w={},I;for(I in d)w[I]=a[I];return g&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=a,i.__reactInternalMemoizedMaskedChildContext=w),w}function lr(i){return i=i.childContextTypes,i!=null}function Lh(){Ut(ar),Ut(Gn)}function Lw(i,a,d){if(Gn.current!==fo)throw Error(n(168));Lt(Gn,a),Lt(ar,d)}function Fw(i,a,d){var g=i.stateNode;if(a=a.childContextTypes,typeof g.getChildContext!="function")return d;g=g.getChildContext();for(var w in g)if(!(w in a))throw Error(n(108,pe(i)||"Unknown",w));return ee({},d,g)}function Fh(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||fo,fa=Gn.current,Lt(Gn,i),Lt(ar,ar.current),!0}function Vw(i,a,d){var g=i.stateNode;if(!g)throw Error(n(169));d?(i=Fw(i,a,fa),g.__reactInternalMemoizedMergedChildContext=i,Ut(ar),Ut(Gn),Lt(Gn,i)):Ut(ar),Lt(ar,d)}var Ei=null,Vh=!1,fg=!1;function Uw(i){Ei===null?Ei=[i]:Ei.push(i)}function Q3(i){Vh=!0,Uw(i)}function po(){if(!fg&&Ei!==null){fg=!0;var i=0,a=yt;try{var d=Ei;for(yt=1;i<d.length;i++){var g=d[i];do g=g(!0);while(g!==null)}Ei=null,Vh=!1}catch(w){throw Ei!==null&&(Ei=Ei.slice(i+1)),hl(sa,po),w}finally{yt=a,fg=!1}}return null}var jl=[],Ml=0,Uh=null,Hh=0,Ur=[],Hr=0,pa=null,Si=1,xi="";function ma(i,a){jl[Ml++]=Hh,jl[Ml++]=Uh,Uh=i,Hh=a}function Hw(i,a,d){Ur[Hr++]=Si,Ur[Hr++]=xi,Ur[Hr++]=pa,pa=i;var g=Si;i=xi;var w=32-Jn(g)-1;g&=~(1<<w),d+=1;var I=32-Jn(a)+w;if(30<I){var V=w-w%5;I=(g&(1<<V)-1).toString(32),g>>=V,w-=V,Si=1<<32-Jn(a)+w|d<<w|g,xi=I+i}else Si=1<<I|d<<w|g,xi=i}function pg(i){i.return!==null&&(ma(i,1),Hw(i,1,0))}function mg(i){for(;i===Uh;)Uh=jl[--Ml],jl[Ml]=null,Hh=jl[--Ml],jl[Ml]=null;for(;i===pa;)pa=Ur[--Hr],Ur[Hr]=null,xi=Ur[--Hr],Ur[Hr]=null,Si=Ur[--Hr],Ur[Hr]=null}var br=null,Cr=null,qt=!1,ds=null;function Bw(i,a){var d=Wr(5,null,null,0);d.elementType="DELETED",d.stateNode=a,d.return=i,a=i.deletions,a===null?(i.deletions=[d],i.flags|=16):a.push(d)}function $w(i,a){switch(i.tag){case 5:var d=i.type;return a=a.nodeType!==1||d.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(i.stateNode=a,br=i,Cr=uo(a.firstChild),!0):!1;case 6:return a=i.pendingProps===""||a.nodeType!==3?null:a,a!==null?(i.stateNode=a,br=i,Cr=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(d=pa!==null?{id:Si,overflow:xi}:null,i.memoizedState={dehydrated:a,treeContext:d,retryLane:1073741824},d=Wr(18,null,null,0),d.stateNode=a,d.return=i,i.child=d,br=i,Cr=null,!0):!1;default:return!1}}function gg(i){return(i.mode&1)!==0&&(i.flags&128)===0}function vg(i){if(qt){var a=Cr;if(a){var d=a;if(!$w(i,a)){if(gg(i))throw Error(n(418));a=uo(d.nextSibling);var g=br;a&&$w(i,a)?Bw(g,d):(i.flags=i.flags&-4097|2,qt=!1,br=i)}}else{if(gg(i))throw Error(n(418));i.flags=i.flags&-4097|2,qt=!1,br=i}}}function zw(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;br=i}function Bh(i){if(i!==br)return!1;if(!qt)return zw(i),qt=!0,!1;var a;if((a=i.tag!==3)&&!(a=i.tag!==5)&&(a=i.type,a=a!=="head"&&a!=="body"&&!lg(i.type,i.memoizedProps)),a&&(a=Cr)){if(gg(i))throw Ww(),Error(n(418));for(;a;)Bw(i,a),a=uo(a.nextSibling)}if(zw(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));e:{for(i=i.nextSibling,a=0;i;){if(i.nodeType===8){var d=i.data;if(d==="/$"){if(a===0){Cr=uo(i.nextSibling);break e}a--}else d!=="$"&&d!=="$!"&&d!=="$?"||a++}i=i.nextSibling}Cr=null}}else Cr=br?uo(i.stateNode.nextSibling):null;return!0}function Ww(){for(var i=Cr;i;)i=uo(i.nextSibling)}function Ol(){Cr=br=null,qt=!1}function yg(i){ds===null?ds=[i]:ds.push(i)}var X3=m.ReactCurrentBatchConfig;function _u(i,a,d){if(i=d.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(n(309));var g=d.stateNode}if(!g)throw Error(n(147,i));var w=g,I=""+i;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===I?a.ref:(a=function(V){var q=w.refs;V===null?delete q[I]:q[I]=V},a._stringRef=I,a)}if(typeof i!="string")throw Error(n(284));if(!d._owner)throw Error(n(290,i))}return i}function $h(i,a){throw i=Object.prototype.toString.call(a),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i))}function Gw(i){var a=i._init;return a(i._payload)}function qw(i){function a(re,X){if(i){var se=re.deletions;se===null?(re.deletions=[X],re.flags|=16):se.push(X)}}function d(re,X){if(!i)return null;for(;X!==null;)a(re,X),X=X.sibling;return null}function g(re,X){for(re=new Map;X!==null;)X.key!==null?re.set(X.key,X):re.set(X.index,X),X=X.sibling;return re}function w(re,X){return re=So(re,X),re.index=0,re.sibling=null,re}function I(re,X,se){return re.index=se,i?(se=re.alternate,se!==null?(se=se.index,se<X?(re.flags|=2,X):se):(re.flags|=2,X)):(re.flags|=1048576,X)}function V(re){return i&&re.alternate===null&&(re.flags|=2),re}function q(re,X,se,be){return X===null||X.tag!==6?(X=c0(se,re.mode,be),X.return=re,X):(X=w(X,se),X.return=re,X)}function Q(re,X,se,be){var We=se.type;return We===_?ve(re,X,se.props.children,be,se.key):X!==null&&(X.elementType===We||typeof We=="object"&&We!==null&&We.$$typeof===F&&Gw(We)===X.type)?(be=w(X,se.props),be.ref=_u(re,X,se),be.return=re,be):(be=pf(se.type,se.key,se.props,null,re.mode,be),be.ref=_u(re,X,se),be.return=re,be)}function oe(re,X,se,be){return X===null||X.tag!==4||X.stateNode.containerInfo!==se.containerInfo||X.stateNode.implementation!==se.implementation?(X=u0(se,re.mode,be),X.return=re,X):(X=w(X,se.children||[]),X.return=re,X)}function ve(re,X,se,be,We){return X===null||X.tag!==7?(X=xa(se,re.mode,be,We),X.return=re,X):(X=w(X,se),X.return=re,X)}function Se(re,X,se){if(typeof X=="string"&&X!==""||typeof X=="number")return X=c0(""+X,re.mode,se),X.return=re,X;if(typeof X=="object"&&X!==null){switch(X.$$typeof){case S:return se=pf(X.type,X.key,X.props,null,re.mode,se),se.ref=_u(re,null,X),se.return=re,se;case x:return X=u0(X,re.mode,se),X.return=re,X;case F:var be=X._init;return Se(re,be(X._payload),se)}if(Pe(X)||Z(X))return X=xa(X,re.mode,se,null),X.return=re,X;$h(re,X)}return null}function ge(re,X,se,be){var We=X!==null?X.key:null;if(typeof se=="string"&&se!==""||typeof se=="number")return We!==null?null:q(re,X,""+se,be);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case S:return se.key===We?Q(re,X,se,be):null;case x:return se.key===We?oe(re,X,se,be):null;case F:return We=se._init,ge(re,X,We(se._payload),be)}if(Pe(se)||Z(se))return We!==null?null:ve(re,X,se,be,null);$h(re,se)}return null}function Me(re,X,se,be,We){if(typeof be=="string"&&be!==""||typeof be=="number")return re=re.get(se)||null,q(X,re,""+be,We);if(typeof be=="object"&&be!==null){switch(be.$$typeof){case S:return re=re.get(be.key===null?se:be.key)||null,Q(X,re,be,We);case x:return re=re.get(be.key===null?se:be.key)||null,oe(X,re,be,We);case F:var Xe=be._init;return Me(re,X,se,Xe(be._payload),We)}if(Pe(be)||Z(be))return re=re.get(se)||null,ve(X,re,be,We,null);$h(X,be)}return null}function Ve(re,X,se,be){for(var We=null,Xe=null,Je=X,st=X=0,Rn=null;Je!==null&&st<se.length;st++){Je.index>st?(Rn=Je,Je=null):Rn=Je.sibling;var Ct=ge(re,Je,se[st],be);if(Ct===null){Je===null&&(Je=Rn);break}i&&Je&&Ct.alternate===null&&a(re,Je),X=I(Ct,X,st),Xe===null?We=Ct:Xe.sibling=Ct,Xe=Ct,Je=Rn}if(st===se.length)return d(re,Je),qt&&ma(re,st),We;if(Je===null){for(;st<se.length;st++)Je=Se(re,se[st],be),Je!==null&&(X=I(Je,X,st),Xe===null?We=Je:Xe.sibling=Je,Xe=Je);return qt&&ma(re,st),We}for(Je=g(re,Je);st<se.length;st++)Rn=Me(Je,re,st,se[st],be),Rn!==null&&(i&&Rn.alternate!==null&&Je.delete(Rn.key===null?st:Rn.key),X=I(Rn,X,st),Xe===null?We=Rn:Xe.sibling=Rn,Xe=Rn);return i&&Je.forEach(function(xo){return a(re,xo)}),qt&&ma(re,st),We}function Be(re,X,se,be){var We=Z(se);if(typeof We!="function")throw Error(n(150));if(se=We.call(se),se==null)throw Error(n(151));for(var Xe=We=null,Je=X,st=X=0,Rn=null,Ct=se.next();Je!==null&&!Ct.done;st++,Ct=se.next()){Je.index>st?(Rn=Je,Je=null):Rn=Je.sibling;var xo=ge(re,Je,Ct.value,be);if(xo===null){Je===null&&(Je=Rn);break}i&&Je&&xo.alternate===null&&a(re,Je),X=I(xo,X,st),Xe===null?We=xo:Xe.sibling=xo,Xe=xo,Je=Rn}if(Ct.done)return d(re,Je),qt&&ma(re,st),We;if(Je===null){for(;!Ct.done;st++,Ct=se.next())Ct=Se(re,Ct.value,be),Ct!==null&&(X=I(Ct,X,st),Xe===null?We=Ct:Xe.sibling=Ct,Xe=Ct);return qt&&ma(re,st),We}for(Je=g(re,Je);!Ct.done;st++,Ct=se.next())Ct=Me(Je,re,st,Ct.value,be),Ct!==null&&(i&&Ct.alternate!==null&&Je.delete(Ct.key===null?st:Ct.key),X=I(Ct,X,st),Xe===null?We=Ct:Xe.sibling=Ct,Xe=Ct);return i&&Je.forEach(function(NR){return a(re,NR)}),qt&&ma(re,st),We}function on(re,X,se,be){if(typeof se=="object"&&se!==null&&se.type===_&&se.key===null&&(se=se.props.children),typeof se=="object"&&se!==null){switch(se.$$typeof){case S:e:{for(var We=se.key,Xe=X;Xe!==null;){if(Xe.key===We){if(We=se.type,We===_){if(Xe.tag===7){d(re,Xe.sibling),X=w(Xe,se.props.children),X.return=re,re=X;break e}}else if(Xe.elementType===We||typeof We=="object"&&We!==null&&We.$$typeof===F&&Gw(We)===Xe.type){d(re,Xe.sibling),X=w(Xe,se.props),X.ref=_u(re,Xe,se),X.return=re,re=X;break e}d(re,Xe);break}else a(re,Xe);Xe=Xe.sibling}se.type===_?(X=xa(se.props.children,re.mode,be,se.key),X.return=re,re=X):(be=pf(se.type,se.key,se.props,null,re.mode,be),be.ref=_u(re,X,se),be.return=re,re=be)}return V(re);case x:e:{for(Xe=se.key;X!==null;){if(X.key===Xe)if(X.tag===4&&X.stateNode.containerInfo===se.containerInfo&&X.stateNode.implementation===se.implementation){d(re,X.sibling),X=w(X,se.children||[]),X.return=re,re=X;break e}else{d(re,X);break}else a(re,X);X=X.sibling}X=u0(se,re.mode,be),X.return=re,re=X}return V(re);case F:return Xe=se._init,on(re,X,Xe(se._payload),be)}if(Pe(se))return Ve(re,X,se,be);if(Z(se))return Be(re,X,se,be);$h(re,se)}return typeof se=="string"&&se!==""||typeof se=="number"?(se=""+se,X!==null&&X.tag===6?(d(re,X.sibling),X=w(X,se),X.return=re,re=X):(d(re,X),X=c0(se,re.mode,be),X.return=re,re=X),V(re)):d(re,X)}return on}var Ll=qw(!0),Kw=qw(!1),zh=ho(null),Wh=null,Fl=null,wg=null;function _g(){wg=Fl=Wh=null}function Eg(i){var a=zh.current;Ut(zh),i._currentValue=a}function Sg(i,a,d){for(;i!==null;){var g=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,g!==null&&(g.childLanes|=a)):g!==null&&(g.childLanes&a)!==a&&(g.childLanes|=a),i===d)break;i=i.return}}function Vl(i,a){Wh=i,wg=Fl=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&a)!==0&&(cr=!0),i.firstContext=null)}function Br(i){var a=i._currentValue;if(wg!==i)if(i={context:i,memoizedValue:a,next:null},Fl===null){if(Wh===null)throw Error(n(308));Fl=i,Wh.dependencies={lanes:0,firstContext:i}}else Fl=Fl.next=i;return a}var ga=null;function xg(i){ga===null?ga=[i]:ga.push(i)}function Yw(i,a,d,g){var w=a.interleaved;return w===null?(d.next=d,xg(a)):(d.next=w.next,w.next=d),a.interleaved=d,Ti(i,g)}function Ti(i,a){i.lanes|=a;var d=i.alternate;for(d!==null&&(d.lanes|=a),d=i,i=i.return;i!==null;)i.childLanes|=a,d=i.alternate,d!==null&&(d.childLanes|=a),d=i,i=i.return;return d.tag===3?d.stateNode:null}var mo=!1;function Tg(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Zw(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function bi(i,a){return{eventTime:i,lane:a,tag:0,payload:null,callback:null,next:null}}function go(i,a,d){var g=i.updateQueue;if(g===null)return null;if(g=g.shared,(bt&2)!==0){var w=g.pending;return w===null?a.next=a:(a.next=w.next,w.next=a),g.pending=a,Ti(i,d)}return w=g.interleaved,w===null?(a.next=a,xg(g)):(a.next=w.next,w.next=a),g.interleaved=a,Ti(i,d)}function Gh(i,a,d){if(a=a.updateQueue,a!==null&&(a=a.shared,(d&4194240)!==0)){var g=a.lanes;g&=i.pendingLanes,d|=g,a.lanes=d,so(i,d)}}function Qw(i,a){var d=i.updateQueue,g=i.alternate;if(g!==null&&(g=g.updateQueue,d===g)){var w=null,I=null;if(d=d.firstBaseUpdate,d!==null){do{var V={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};I===null?w=I=V:I=I.next=V,d=d.next}while(d!==null);I===null?w=I=a:I=I.next=a}else w=I=a;d={baseState:g.baseState,firstBaseUpdate:w,lastBaseUpdate:I,shared:g.shared,effects:g.effects},i.updateQueue=d;return}i=d.lastBaseUpdate,i===null?d.firstBaseUpdate=a:i.next=a,d.lastBaseUpdate=a}function qh(i,a,d,g){var w=i.updateQueue;mo=!1;var I=w.firstBaseUpdate,V=w.lastBaseUpdate,q=w.shared.pending;if(q!==null){w.shared.pending=null;var Q=q,oe=Q.next;Q.next=null,V===null?I=oe:V.next=oe,V=Q;var ve=i.alternate;ve!==null&&(ve=ve.updateQueue,q=ve.lastBaseUpdate,q!==V&&(q===null?ve.firstBaseUpdate=oe:q.next=oe,ve.lastBaseUpdate=Q))}if(I!==null){var Se=w.baseState;V=0,ve=oe=Q=null,q=I;do{var ge=q.lane,Me=q.eventTime;if((g&ge)===ge){ve!==null&&(ve=ve.next={eventTime:Me,lane:0,tag:q.tag,payload:q.payload,callback:q.callback,next:null});e:{var Ve=i,Be=q;switch(ge=a,Me=d,Be.tag){case 1:if(Ve=Be.payload,typeof Ve=="function"){Se=Ve.call(Me,Se,ge);break e}Se=Ve;break e;case 3:Ve.flags=Ve.flags&-65537|128;case 0:if(Ve=Be.payload,ge=typeof Ve=="function"?Ve.call(Me,Se,ge):Ve,ge==null)break e;Se=ee({},Se,ge);break e;case 2:mo=!0}}q.callback!==null&&q.lane!==0&&(i.flags|=64,ge=w.effects,ge===null?w.effects=[q]:ge.push(q))}else Me={eventTime:Me,lane:ge,tag:q.tag,payload:q.payload,callback:q.callback,next:null},ve===null?(oe=ve=Me,Q=Se):ve=ve.next=Me,V|=ge;if(q=q.next,q===null){if(q=w.shared.pending,q===null)break;ge=q,q=ge.next,ge.next=null,w.lastBaseUpdate=ge,w.shared.pending=null}}while(!0);if(ve===null&&(Q=Se),w.baseState=Q,w.firstBaseUpdate=oe,w.lastBaseUpdate=ve,a=w.shared.interleaved,a!==null){w=a;do V|=w.lane,w=w.next;while(w!==a)}else I===null&&(w.shared.lanes=0);wa|=V,i.lanes=V,i.memoizedState=Se}}function Xw(i,a,d){if(i=a.effects,a.effects=null,i!==null)for(a=0;a<i.length;a++){var g=i[a],w=g.callback;if(w!==null){if(g.callback=null,g=d,typeof w!="function")throw Error(n(191,w));w.call(g)}}}var Eu={},Ys=ho(Eu),Su=ho(Eu),xu=ho(Eu);function va(i){if(i===Eu)throw Error(n(174));return i}function bg(i,a){switch(Lt(xu,a),Lt(Su,i),Lt(Ys,Eu),i=a.nodeType,i){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:Rt(null,"");break;default:i=i===8?a.parentNode:a,a=i.namespaceURI||null,i=i.tagName,a=Rt(a,i)}Ut(Ys),Lt(Ys,a)}function Ul(){Ut(Ys),Ut(Su),Ut(xu)}function Jw(i){va(xu.current);var a=va(Ys.current),d=Rt(a,i.type);a!==d&&(Lt(Su,i),Lt(Ys,d))}function Cg(i){Su.current===i&&(Ut(Ys),Ut(Su))}var Xt=ho(0);function Kh(i){for(var a=i;a!==null;){if(a.tag===13){var d=a.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Ig=[];function Ag(){for(var i=0;i<Ig.length;i++)Ig[i]._workInProgressVersionPrimary=null;Ig.length=0}var Yh=m.ReactCurrentDispatcher,Rg=m.ReactCurrentBatchConfig,ya=0,Jt=null,vn=null,In=null,Zh=!1,Tu=!1,bu=0,J3=0;function qn(){throw Error(n(321))}function Pg(i,a){if(a===null)return!1;for(var d=0;d<a.length&&d<i.length;d++)if(!us(i[d],a[d]))return!1;return!0}function Ng(i,a,d,g,w,I){if(ya=I,Jt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Yh.current=i===null||i.memoizedState===null?rR:sR,i=d(g,w),Tu){I=0;do{if(Tu=!1,bu=0,25<=I)throw Error(n(301));I+=1,In=vn=null,a.updateQueue=null,Yh.current=iR,i=d(g,w)}while(Tu)}if(Yh.current=Jh,a=vn!==null&&vn.next!==null,ya=0,In=vn=Jt=null,Zh=!1,a)throw Error(n(300));return i}function kg(){var i=bu!==0;return bu=0,i}function Zs(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return In===null?Jt.memoizedState=In=i:In=In.next=i,In}function $r(){if(vn===null){var i=Jt.alternate;i=i!==null?i.memoizedState:null}else i=vn.next;var a=In===null?Jt.memoizedState:In.next;if(a!==null)In=a,vn=i;else{if(i===null)throw Error(n(310));vn=i,i={memoizedState:vn.memoizedState,baseState:vn.baseState,baseQueue:vn.baseQueue,queue:vn.queue,next:null},In===null?Jt.memoizedState=In=i:In=In.next=i}return In}function Cu(i,a){return typeof a=="function"?a(i):a}function Dg(i){var a=$r(),d=a.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=i;var g=vn,w=g.baseQueue,I=d.pending;if(I!==null){if(w!==null){var V=w.next;w.next=I.next,I.next=V}g.baseQueue=w=I,d.pending=null}if(w!==null){I=w.next,g=g.baseState;var q=V=null,Q=null,oe=I;do{var ve=oe.lane;if((ya&ve)===ve)Q!==null&&(Q=Q.next={lane:0,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null}),g=oe.hasEagerState?oe.eagerState:i(g,oe.action);else{var Se={lane:ve,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null};Q===null?(q=Q=Se,V=g):Q=Q.next=Se,Jt.lanes|=ve,wa|=ve}oe=oe.next}while(oe!==null&&oe!==I);Q===null?V=g:Q.next=q,us(g,a.memoizedState)||(cr=!0),a.memoizedState=g,a.baseState=V,a.baseQueue=Q,d.lastRenderedState=g}if(i=d.interleaved,i!==null){w=i;do I=w.lane,Jt.lanes|=I,wa|=I,w=w.next;while(w!==i)}else w===null&&(d.lanes=0);return[a.memoizedState,d.dispatch]}function jg(i){var a=$r(),d=a.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=i;var g=d.dispatch,w=d.pending,I=a.memoizedState;if(w!==null){d.pending=null;var V=w=w.next;do I=i(I,V.action),V=V.next;while(V!==w);us(I,a.memoizedState)||(cr=!0),a.memoizedState=I,a.baseQueue===null&&(a.baseState=I),d.lastRenderedState=I}return[I,g]}function e_(){}function t_(i,a){var d=Jt,g=$r(),w=a(),I=!us(g.memoizedState,w);if(I&&(g.memoizedState=w,cr=!0),g=g.queue,Mg(s_.bind(null,d,g,i),[i]),g.getSnapshot!==a||I||In!==null&&In.memoizedState.tag&1){if(d.flags|=2048,Iu(9,r_.bind(null,d,g,w,a),void 0,null),An===null)throw Error(n(349));(ya&30)!==0||n_(d,a,w)}return w}function n_(i,a,d){i.flags|=16384,i={getSnapshot:a,value:d},a=Jt.updateQueue,a===null?(a={lastEffect:null,stores:null},Jt.updateQueue=a,a.stores=[i]):(d=a.stores,d===null?a.stores=[i]:d.push(i))}function r_(i,a,d,g){a.value=d,a.getSnapshot=g,i_(a)&&o_(i)}function s_(i,a,d){return d(function(){i_(a)&&o_(i)})}function i_(i){var a=i.getSnapshot;i=i.value;try{var d=a();return!us(i,d)}catch{return!0}}function o_(i){var a=Ti(i,1);a!==null&&ms(a,i,1,-1)}function a_(i){var a=Zs();return typeof i=="function"&&(i=i()),a.memoizedState=a.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Cu,lastRenderedState:i},a.queue=i,i=i.dispatch=nR.bind(null,Jt,i),[a.memoizedState,i]}function Iu(i,a,d,g){return i={tag:i,create:a,destroy:d,deps:g,next:null},a=Jt.updateQueue,a===null?(a={lastEffect:null,stores:null},Jt.updateQueue=a,a.lastEffect=i.next=i):(d=a.lastEffect,d===null?a.lastEffect=i.next=i:(g=d.next,d.next=i,i.next=g,a.lastEffect=i)),i}function l_(){return $r().memoizedState}function Qh(i,a,d,g){var w=Zs();Jt.flags|=i,w.memoizedState=Iu(1|a,d,void 0,g===void 0?null:g)}function Xh(i,a,d,g){var w=$r();g=g===void 0?null:g;var I=void 0;if(vn!==null){var V=vn.memoizedState;if(I=V.destroy,g!==null&&Pg(g,V.deps)){w.memoizedState=Iu(a,d,I,g);return}}Jt.flags|=i,w.memoizedState=Iu(1|a,d,I,g)}function c_(i,a){return Qh(8390656,8,i,a)}function Mg(i,a){return Xh(2048,8,i,a)}function u_(i,a){return Xh(4,2,i,a)}function d_(i,a){return Xh(4,4,i,a)}function h_(i,a){if(typeof a=="function")return i=i(),a(i),function(){a(null)};if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function f_(i,a,d){return d=d!=null?d.concat([i]):null,Xh(4,4,h_.bind(null,a,i),d)}function Og(){}function p_(i,a){var d=$r();a=a===void 0?null:a;var g=d.memoizedState;return g!==null&&a!==null&&Pg(a,g[1])?g[0]:(d.memoizedState=[i,a],i)}function m_(i,a){var d=$r();a=a===void 0?null:a;var g=d.memoizedState;return g!==null&&a!==null&&Pg(a,g[1])?g[0]:(i=i(),d.memoizedState=[i,a],i)}function g_(i,a,d){return(ya&21)===0?(i.baseState&&(i.baseState=!1,cr=!0),i.memoizedState=d):(us(d,a)||(d=aa(),Jt.lanes|=d,wa|=d,i.baseState=!0),a)}function eR(i,a){var d=yt;yt=d!==0&&4>d?d:4,i(!0);var g=Rg.transition;Rg.transition={};try{i(!1),a()}finally{yt=d,Rg.transition=g}}function v_(){return $r().memoizedState}function tR(i,a,d){var g=_o(i);if(d={lane:g,action:d,hasEagerState:!1,eagerState:null,next:null},y_(i))w_(a,d);else if(d=Yw(i,a,d,g),d!==null){var w=nr();ms(d,i,g,w),__(d,a,g)}}function nR(i,a,d){var g=_o(i),w={lane:g,action:d,hasEagerState:!1,eagerState:null,next:null};if(y_(i))w_(a,w);else{var I=i.alternate;if(i.lanes===0&&(I===null||I.lanes===0)&&(I=a.lastRenderedReducer,I!==null))try{var V=a.lastRenderedState,q=I(V,d);if(w.hasEagerState=!0,w.eagerState=q,us(q,V)){var Q=a.interleaved;Q===null?(w.next=w,xg(a)):(w.next=Q.next,Q.next=w),a.interleaved=w;return}}catch{}finally{}d=Yw(i,a,w,g),d!==null&&(w=nr(),ms(d,i,g,w),__(d,a,g))}}function y_(i){var a=i.alternate;return i===Jt||a!==null&&a===Jt}function w_(i,a){Tu=Zh=!0;var d=i.pending;d===null?a.next=a:(a.next=d.next,d.next=a),i.pending=a}function __(i,a,d){if((d&4194240)!==0){var g=a.lanes;g&=i.pendingLanes,d|=g,a.lanes=d,so(i,d)}}var Jh={readContext:Br,useCallback:qn,useContext:qn,useEffect:qn,useImperativeHandle:qn,useInsertionEffect:qn,useLayoutEffect:qn,useMemo:qn,useReducer:qn,useRef:qn,useState:qn,useDebugValue:qn,useDeferredValue:qn,useTransition:qn,useMutableSource:qn,useSyncExternalStore:qn,useId:qn,unstable_isNewReconciler:!1},rR={readContext:Br,useCallback:function(i,a){return Zs().memoizedState=[i,a===void 0?null:a],i},useContext:Br,useEffect:c_,useImperativeHandle:function(i,a,d){return d=d!=null?d.concat([i]):null,Qh(4194308,4,h_.bind(null,a,i),d)},useLayoutEffect:function(i,a){return Qh(4194308,4,i,a)},useInsertionEffect:function(i,a){return Qh(4,2,i,a)},useMemo:function(i,a){var d=Zs();return a=a===void 0?null:a,i=i(),d.memoizedState=[i,a],i},useReducer:function(i,a,d){var g=Zs();return a=d!==void 0?d(a):a,g.memoizedState=g.baseState=a,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:a},g.queue=i,i=i.dispatch=tR.bind(null,Jt,i),[g.memoizedState,i]},useRef:function(i){var a=Zs();return i={current:i},a.memoizedState=i},useState:a_,useDebugValue:Og,useDeferredValue:function(i){return Zs().memoizedState=i},useTransition:function(){var i=a_(!1),a=i[0];return i=eR.bind(null,i[1]),Zs().memoizedState=i,[a,i]},useMutableSource:function(){},useSyncExternalStore:function(i,a,d){var g=Jt,w=Zs();if(qt){if(d===void 0)throw Error(n(407));d=d()}else{if(d=a(),An===null)throw Error(n(349));(ya&30)!==0||n_(g,a,d)}w.memoizedState=d;var I={value:d,getSnapshot:a};return w.queue=I,c_(s_.bind(null,g,I,i),[i]),g.flags|=2048,Iu(9,r_.bind(null,g,I,d,a),void 0,null),d},useId:function(){var i=Zs(),a=An.identifierPrefix;if(qt){var d=xi,g=Si;d=(g&~(1<<32-Jn(g)-1)).toString(32)+d,a=":"+a+"R"+d,d=bu++,0<d&&(a+="H"+d.toString(32)),a+=":"}else d=J3++,a=":"+a+"r"+d.toString(32)+":";return i.memoizedState=a},unstable_isNewReconciler:!1},sR={readContext:Br,useCallback:p_,useContext:Br,useEffect:Mg,useImperativeHandle:f_,useInsertionEffect:u_,useLayoutEffect:d_,useMemo:m_,useReducer:Dg,useRef:l_,useState:function(){return Dg(Cu)},useDebugValue:Og,useDeferredValue:function(i){var a=$r();return g_(a,vn.memoizedState,i)},useTransition:function(){var i=Dg(Cu)[0],a=$r().memoizedState;return[i,a]},useMutableSource:e_,useSyncExternalStore:t_,useId:v_,unstable_isNewReconciler:!1},iR={readContext:Br,useCallback:p_,useContext:Br,useEffect:Mg,useImperativeHandle:f_,useInsertionEffect:u_,useLayoutEffect:d_,useMemo:m_,useReducer:jg,useRef:l_,useState:function(){return jg(Cu)},useDebugValue:Og,useDeferredValue:function(i){var a=$r();return vn===null?a.memoizedState=i:g_(a,vn.memoizedState,i)},useTransition:function(){var i=jg(Cu)[0],a=$r().memoizedState;return[i,a]},useMutableSource:e_,useSyncExternalStore:t_,useId:v_,unstable_isNewReconciler:!1};function hs(i,a){if(i&&i.defaultProps){a=ee({},a),i=i.defaultProps;for(var d in i)a[d]===void 0&&(a[d]=i[d]);return a}return a}function Lg(i,a,d,g){a=i.memoizedState,d=d(g,a),d=d==null?a:ee({},a,d),i.memoizedState=d,i.lanes===0&&(i.updateQueue.baseState=d)}var ef={isMounted:function(i){return(i=i._reactInternals)?rs(i)===i:!1},enqueueSetState:function(i,a,d){i=i._reactInternals;var g=nr(),w=_o(i),I=bi(g,w);I.payload=a,d!=null&&(I.callback=d),a=go(i,I,w),a!==null&&(ms(a,i,w,g),Gh(a,i,w))},enqueueReplaceState:function(i,a,d){i=i._reactInternals;var g=nr(),w=_o(i),I=bi(g,w);I.tag=1,I.payload=a,d!=null&&(I.callback=d),a=go(i,I,w),a!==null&&(ms(a,i,w,g),Gh(a,i,w))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var d=nr(),g=_o(i),w=bi(d,g);w.tag=2,a!=null&&(w.callback=a),a=go(i,w,g),a!==null&&(ms(a,i,g,d),Gh(a,i,g))}};function E_(i,a,d,g,w,I,V){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(g,I,V):a.prototype&&a.prototype.isPureReactComponent?!fu(d,g)||!fu(w,I):!0}function S_(i,a,d){var g=!1,w=fo,I=a.contextType;return typeof I=="object"&&I!==null?I=Br(I):(w=lr(a)?fa:Gn.current,g=a.contextTypes,I=(g=g!=null)?Dl(i,w):fo),a=new a(d,I),i.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=ef,i.stateNode=a,a._reactInternals=i,g&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=w,i.__reactInternalMemoizedMaskedChildContext=I),a}function x_(i,a,d,g){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(d,g),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(d,g),a.state!==i&&ef.enqueueReplaceState(a,a.state,null)}function Fg(i,a,d,g){var w=i.stateNode;w.props=d,w.state=i.memoizedState,w.refs={},Tg(i);var I=a.contextType;typeof I=="object"&&I!==null?w.context=Br(I):(I=lr(a)?fa:Gn.current,w.context=Dl(i,I)),w.state=i.memoizedState,I=a.getDerivedStateFromProps,typeof I=="function"&&(Lg(i,a,I,d),w.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(a=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),a!==w.state&&ef.enqueueReplaceState(w,w.state,null),qh(i,d,w,g),w.state=i.memoizedState),typeof w.componentDidMount=="function"&&(i.flags|=4194308)}function Hl(i,a){try{var d="",g=a;do d+=Te(g),g=g.return;while(g);var w=d}catch(I){w=`
Error generating stack: `+I.message+`
`+I.stack}return{value:i,source:a,stack:w,digest:null}}function Vg(i,a,d){return{value:i,source:null,stack:d??null,digest:a??null}}function Ug(i,a){try{console.error(a.value)}catch(d){setTimeout(function(){throw d})}}var oR=typeof WeakMap=="function"?WeakMap:Map;function T_(i,a,d){d=bi(-1,d),d.tag=3,d.payload={element:null};var g=a.value;return d.callback=function(){lf||(lf=!0,t0=g),Ug(i,a)},d}function b_(i,a,d){d=bi(-1,d),d.tag=3;var g=i.type.getDerivedStateFromError;if(typeof g=="function"){var w=a.value;d.payload=function(){return g(w)},d.callback=function(){Ug(i,a)}}var I=i.stateNode;return I!==null&&typeof I.componentDidCatch=="function"&&(d.callback=function(){Ug(i,a),typeof g!="function"&&(yo===null?yo=new Set([this]):yo.add(this));var V=a.stack;this.componentDidCatch(a.value,{componentStack:V!==null?V:""})}),d}function C_(i,a,d){var g=i.pingCache;if(g===null){g=i.pingCache=new oR;var w=new Set;g.set(a,w)}else w=g.get(a),w===void 0&&(w=new Set,g.set(a,w));w.has(d)||(w.add(d),i=_R.bind(null,i,a,d),a.then(i,i))}function I_(i){do{var a;if((a=i.tag===13)&&(a=i.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return i;i=i.return}while(i!==null);return null}function A_(i,a,d,g,w){return(i.mode&1)===0?(i===a?i.flags|=65536:(i.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(a=bi(-1,1),a.tag=2,go(d,a,1))),d.lanes|=1),i):(i.flags|=65536,i.lanes=w,i)}var aR=m.ReactCurrentOwner,cr=!1;function tr(i,a,d,g){a.child=i===null?Kw(a,null,d,g):Ll(a,i.child,d,g)}function R_(i,a,d,g,w){d=d.render;var I=a.ref;return Vl(a,w),g=Ng(i,a,d,g,I,w),d=kg(),i!==null&&!cr?(a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~w,Ci(i,a,w)):(qt&&d&&pg(a),a.flags|=1,tr(i,a,g,w),a.child)}function P_(i,a,d,g,w){if(i===null){var I=d.type;return typeof I=="function"&&!l0(I)&&I.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(a.tag=15,a.type=I,N_(i,a,I,g,w)):(i=pf(d.type,null,g,a,a.mode,w),i.ref=a.ref,i.return=a,a.child=i)}if(I=i.child,(i.lanes&w)===0){var V=I.memoizedProps;if(d=d.compare,d=d!==null?d:fu,d(V,g)&&i.ref===a.ref)return Ci(i,a,w)}return a.flags|=1,i=So(I,g),i.ref=a.ref,i.return=a,a.child=i}function N_(i,a,d,g,w){if(i!==null){var I=i.memoizedProps;if(fu(I,g)&&i.ref===a.ref)if(cr=!1,a.pendingProps=g=I,(i.lanes&w)!==0)(i.flags&131072)!==0&&(cr=!0);else return a.lanes=i.lanes,Ci(i,a,w)}return Hg(i,a,d,g,w)}function k_(i,a,d){var g=a.pendingProps,w=g.children,I=i!==null?i.memoizedState:null;if(g.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},Lt($l,Ir),Ir|=d;else{if((d&1073741824)===0)return i=I!==null?I.baseLanes|d:d,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:i,cachePool:null,transitions:null},a.updateQueue=null,Lt($l,Ir),Ir|=i,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=I!==null?I.baseLanes:d,Lt($l,Ir),Ir|=g}else I!==null?(g=I.baseLanes|d,a.memoizedState=null):g=d,Lt($l,Ir),Ir|=g;return tr(i,a,w,d),a.child}function D_(i,a){var d=a.ref;(i===null&&d!==null||i!==null&&i.ref!==d)&&(a.flags|=512,a.flags|=2097152)}function Hg(i,a,d,g,w){var I=lr(d)?fa:Gn.current;return I=Dl(a,I),Vl(a,w),d=Ng(i,a,d,g,I,w),g=kg(),i!==null&&!cr?(a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~w,Ci(i,a,w)):(qt&&g&&pg(a),a.flags|=1,tr(i,a,d,w),a.child)}function j_(i,a,d,g,w){if(lr(d)){var I=!0;Fh(a)}else I=!1;if(Vl(a,w),a.stateNode===null)nf(i,a),S_(a,d,g),Fg(a,d,g,w),g=!0;else if(i===null){var V=a.stateNode,q=a.memoizedProps;V.props=q;var Q=V.context,oe=d.contextType;typeof oe=="object"&&oe!==null?oe=Br(oe):(oe=lr(d)?fa:Gn.current,oe=Dl(a,oe));var ve=d.getDerivedStateFromProps,Se=typeof ve=="function"||typeof V.getSnapshotBeforeUpdate=="function";Se||typeof V.UNSAFE_componentWillReceiveProps!="function"&&typeof V.componentWillReceiveProps!="function"||(q!==g||Q!==oe)&&x_(a,V,g,oe),mo=!1;var ge=a.memoizedState;V.state=ge,qh(a,g,V,w),Q=a.memoizedState,q!==g||ge!==Q||ar.current||mo?(typeof ve=="function"&&(Lg(a,d,ve,g),Q=a.memoizedState),(q=mo||E_(a,d,q,g,ge,Q,oe))?(Se||typeof V.UNSAFE_componentWillMount!="function"&&typeof V.componentWillMount!="function"||(typeof V.componentWillMount=="function"&&V.componentWillMount(),typeof V.UNSAFE_componentWillMount=="function"&&V.UNSAFE_componentWillMount()),typeof V.componentDidMount=="function"&&(a.flags|=4194308)):(typeof V.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=g,a.memoizedState=Q),V.props=g,V.state=Q,V.context=oe,g=q):(typeof V.componentDidMount=="function"&&(a.flags|=4194308),g=!1)}else{V=a.stateNode,Zw(i,a),q=a.memoizedProps,oe=a.type===a.elementType?q:hs(a.type,q),V.props=oe,Se=a.pendingProps,ge=V.context,Q=d.contextType,typeof Q=="object"&&Q!==null?Q=Br(Q):(Q=lr(d)?fa:Gn.current,Q=Dl(a,Q));var Me=d.getDerivedStateFromProps;(ve=typeof Me=="function"||typeof V.getSnapshotBeforeUpdate=="function")||typeof V.UNSAFE_componentWillReceiveProps!="function"&&typeof V.componentWillReceiveProps!="function"||(q!==Se||ge!==Q)&&x_(a,V,g,Q),mo=!1,ge=a.memoizedState,V.state=ge,qh(a,g,V,w);var Ve=a.memoizedState;q!==Se||ge!==Ve||ar.current||mo?(typeof Me=="function"&&(Lg(a,d,Me,g),Ve=a.memoizedState),(oe=mo||E_(a,d,oe,g,ge,Ve,Q)||!1)?(ve||typeof V.UNSAFE_componentWillUpdate!="function"&&typeof V.componentWillUpdate!="function"||(typeof V.componentWillUpdate=="function"&&V.componentWillUpdate(g,Ve,Q),typeof V.UNSAFE_componentWillUpdate=="function"&&V.UNSAFE_componentWillUpdate(g,Ve,Q)),typeof V.componentDidUpdate=="function"&&(a.flags|=4),typeof V.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof V.componentDidUpdate!="function"||q===i.memoizedProps&&ge===i.memoizedState||(a.flags|=4),typeof V.getSnapshotBeforeUpdate!="function"||q===i.memoizedProps&&ge===i.memoizedState||(a.flags|=1024),a.memoizedProps=g,a.memoizedState=Ve),V.props=g,V.state=Ve,V.context=Q,g=oe):(typeof V.componentDidUpdate!="function"||q===i.memoizedProps&&ge===i.memoizedState||(a.flags|=4),typeof V.getSnapshotBeforeUpdate!="function"||q===i.memoizedProps&&ge===i.memoizedState||(a.flags|=1024),g=!1)}return Bg(i,a,d,g,I,w)}function Bg(i,a,d,g,w,I){D_(i,a);var V=(a.flags&128)!==0;if(!g&&!V)return w&&Vw(a,d,!1),Ci(i,a,I);g=a.stateNode,aR.current=a;var q=V&&typeof d.getDerivedStateFromError!="function"?null:g.render();return a.flags|=1,i!==null&&V?(a.child=Ll(a,i.child,null,I),a.child=Ll(a,null,q,I)):tr(i,a,q,I),a.memoizedState=g.state,w&&Vw(a,d,!0),a.child}function M_(i){var a=i.stateNode;a.pendingContext?Lw(i,a.pendingContext,a.pendingContext!==a.context):a.context&&Lw(i,a.context,!1),bg(i,a.containerInfo)}function O_(i,a,d,g,w){return Ol(),yg(w),a.flags|=256,tr(i,a,d,g),a.child}var $g={dehydrated:null,treeContext:null,retryLane:0};function zg(i){return{baseLanes:i,cachePool:null,transitions:null}}function L_(i,a,d){var g=a.pendingProps,w=Xt.current,I=!1,V=(a.flags&128)!==0,q;if((q=V)||(q=i!==null&&i.memoizedState===null?!1:(w&2)!==0),q?(I=!0,a.flags&=-129):(i===null||i.memoizedState!==null)&&(w|=1),Lt(Xt,w&1),i===null)return vg(a),i=a.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((a.mode&1)===0?a.lanes=1:i.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(V=g.children,i=g.fallback,I?(g=a.mode,I=a.child,V={mode:"hidden",children:V},(g&1)===0&&I!==null?(I.childLanes=0,I.pendingProps=V):I=mf(V,g,0,null),i=xa(i,g,d,null),I.return=a,i.return=a,I.sibling=i,a.child=I,a.child.memoizedState=zg(d),a.memoizedState=$g,i):Wg(a,V));if(w=i.memoizedState,w!==null&&(q=w.dehydrated,q!==null))return lR(i,a,V,g,q,w,d);if(I){I=g.fallback,V=a.mode,w=i.child,q=w.sibling;var Q={mode:"hidden",children:g.children};return(V&1)===0&&a.child!==w?(g=a.child,g.childLanes=0,g.pendingProps=Q,a.deletions=null):(g=So(w,Q),g.subtreeFlags=w.subtreeFlags&14680064),q!==null?I=So(q,I):(I=xa(I,V,d,null),I.flags|=2),I.return=a,g.return=a,g.sibling=I,a.child=g,g=I,I=a.child,V=i.child.memoizedState,V=V===null?zg(d):{baseLanes:V.baseLanes|d,cachePool:null,transitions:V.transitions},I.memoizedState=V,I.childLanes=i.childLanes&~d,a.memoizedState=$g,g}return I=i.child,i=I.sibling,g=So(I,{mode:"visible",children:g.children}),(a.mode&1)===0&&(g.lanes=d),g.return=a,g.sibling=null,i!==null&&(d=a.deletions,d===null?(a.deletions=[i],a.flags|=16):d.push(i)),a.child=g,a.memoizedState=null,g}function Wg(i,a){return a=mf({mode:"visible",children:a},i.mode,0,null),a.return=i,i.child=a}function tf(i,a,d,g){return g!==null&&yg(g),Ll(a,i.child,null,d),i=Wg(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function lR(i,a,d,g,w,I,V){if(d)return a.flags&256?(a.flags&=-257,g=Vg(Error(n(422))),tf(i,a,V,g)):a.memoizedState!==null?(a.child=i.child,a.flags|=128,null):(I=g.fallback,w=a.mode,g=mf({mode:"visible",children:g.children},w,0,null),I=xa(I,w,V,null),I.flags|=2,g.return=a,I.return=a,g.sibling=I,a.child=g,(a.mode&1)!==0&&Ll(a,i.child,null,V),a.child.memoizedState=zg(V),a.memoizedState=$g,I);if((a.mode&1)===0)return tf(i,a,V,null);if(w.data==="$!"){if(g=w.nextSibling&&w.nextSibling.dataset,g)var q=g.dgst;return g=q,I=Error(n(419)),g=Vg(I,g,void 0),tf(i,a,V,g)}if(q=(V&i.childLanes)!==0,cr||q){if(g=An,g!==null){switch(V&-V){case 4:w=2;break;case 16:w=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:w=32;break;case 536870912:w=268435456;break;default:w=0}w=(w&(g.suspendedLanes|V))!==0?0:w,w!==0&&w!==I.retryLane&&(I.retryLane=w,Ti(i,w),ms(g,i,w,-1))}return a0(),g=Vg(Error(n(421))),tf(i,a,V,g)}return w.data==="$?"?(a.flags|=128,a.child=i.child,a=ER.bind(null,i),w._reactRetry=a,null):(i=I.treeContext,Cr=uo(w.nextSibling),br=a,qt=!0,ds=null,i!==null&&(Ur[Hr++]=Si,Ur[Hr++]=xi,Ur[Hr++]=pa,Si=i.id,xi=i.overflow,pa=a),a=Wg(a,g.children),a.flags|=4096,a)}function F_(i,a,d){i.lanes|=a;var g=i.alternate;g!==null&&(g.lanes|=a),Sg(i.return,a,d)}function Gg(i,a,d,g,w){var I=i.memoizedState;I===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:g,tail:d,tailMode:w}:(I.isBackwards=a,I.rendering=null,I.renderingStartTime=0,I.last=g,I.tail=d,I.tailMode=w)}function V_(i,a,d){var g=a.pendingProps,w=g.revealOrder,I=g.tail;if(tr(i,a,g.children,d),g=Xt.current,(g&2)!==0)g=g&1|2,a.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&F_(i,d,a);else if(i.tag===19)F_(i,d,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}g&=1}if(Lt(Xt,g),(a.mode&1)===0)a.memoizedState=null;else switch(w){case"forwards":for(d=a.child,w=null;d!==null;)i=d.alternate,i!==null&&Kh(i)===null&&(w=d),d=d.sibling;d=w,d===null?(w=a.child,a.child=null):(w=d.sibling,d.sibling=null),Gg(a,!1,w,d,I);break;case"backwards":for(d=null,w=a.child,a.child=null;w!==null;){if(i=w.alternate,i!==null&&Kh(i)===null){a.child=w;break}i=w.sibling,w.sibling=d,d=w,w=i}Gg(a,!0,d,null,I);break;case"together":Gg(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function nf(i,a){(a.mode&1)===0&&i!==null&&(i.alternate=null,a.alternate=null,a.flags|=2)}function Ci(i,a,d){if(i!==null&&(a.dependencies=i.dependencies),wa|=a.lanes,(d&a.childLanes)===0)return null;if(i!==null&&a.child!==i.child)throw Error(n(153));if(a.child!==null){for(i=a.child,d=So(i,i.pendingProps),a.child=d,d.return=a;i.sibling!==null;)i=i.sibling,d=d.sibling=So(i,i.pendingProps),d.return=a;d.sibling=null}return a.child}function cR(i,a,d){switch(a.tag){case 3:M_(a),Ol();break;case 5:Jw(a);break;case 1:lr(a.type)&&Fh(a);break;case 4:bg(a,a.stateNode.containerInfo);break;case 10:var g=a.type._context,w=a.memoizedProps.value;Lt(zh,g._currentValue),g._currentValue=w;break;case 13:if(g=a.memoizedState,g!==null)return g.dehydrated!==null?(Lt(Xt,Xt.current&1),a.flags|=128,null):(d&a.child.childLanes)!==0?L_(i,a,d):(Lt(Xt,Xt.current&1),i=Ci(i,a,d),i!==null?i.sibling:null);Lt(Xt,Xt.current&1);break;case 19:if(g=(d&a.childLanes)!==0,(i.flags&128)!==0){if(g)return V_(i,a,d);a.flags|=128}if(w=a.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),Lt(Xt,Xt.current),g)break;return null;case 22:case 23:return a.lanes=0,k_(i,a,d)}return Ci(i,a,d)}var U_,qg,H_,B_;U_=function(i,a){for(var d=a.child;d!==null;){if(d.tag===5||d.tag===6)i.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===a)break;for(;d.sibling===null;){if(d.return===null||d.return===a)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},qg=function(){},H_=function(i,a,d,g){var w=i.memoizedProps;if(w!==g){i=a.stateNode,va(Ys.current);var I=null;switch(d){case"input":w=Oe(i,w),g=Oe(i,g),I=[];break;case"select":w=ee({},w,{value:void 0}),g=ee({},g,{value:void 0}),I=[];break;case"textarea":w=Qe(i,w),g=Qe(i,g),I=[];break;default:typeof w.onClick!="function"&&typeof g.onClick=="function"&&(i.onclick=Mh)}Us(d,g);var V;d=null;for(oe in w)if(!g.hasOwnProperty(oe)&&w.hasOwnProperty(oe)&&w[oe]!=null)if(oe==="style"){var q=w[oe];for(V in q)q.hasOwnProperty(V)&&(d||(d={}),d[V]="")}else oe!=="dangerouslySetInnerHTML"&&oe!=="children"&&oe!=="suppressContentEditableWarning"&&oe!=="suppressHydrationWarning"&&oe!=="autoFocus"&&(s.hasOwnProperty(oe)?I||(I=[]):(I=I||[]).push(oe,null));for(oe in g){var Q=g[oe];if(q=w!=null?w[oe]:void 0,g.hasOwnProperty(oe)&&Q!==q&&(Q!=null||q!=null))if(oe==="style")if(q){for(V in q)!q.hasOwnProperty(V)||Q&&Q.hasOwnProperty(V)||(d||(d={}),d[V]="");for(V in Q)Q.hasOwnProperty(V)&&q[V]!==Q[V]&&(d||(d={}),d[V]=Q[V])}else d||(I||(I=[]),I.push(oe,d)),d=Q;else oe==="dangerouslySetInnerHTML"?(Q=Q?Q.__html:void 0,q=q?q.__html:void 0,Q!=null&&q!==Q&&(I=I||[]).push(oe,Q)):oe==="children"?typeof Q!="string"&&typeof Q!="number"||(I=I||[]).push(oe,""+Q):oe!=="suppressContentEditableWarning"&&oe!=="suppressHydrationWarning"&&(s.hasOwnProperty(oe)?(Q!=null&&oe==="onScroll"&&Vt("scroll",i),I||q===Q||(I=[])):(I=I||[]).push(oe,Q))}d&&(I=I||[]).push("style",d);var oe=I;(a.updateQueue=oe)&&(a.flags|=4)}},B_=function(i,a,d,g){d!==g&&(a.flags|=4)};function Au(i,a){if(!qt)switch(i.tailMode){case"hidden":a=i.tail;for(var d=null;a!==null;)a.alternate!==null&&(d=a),a=a.sibling;d===null?i.tail=null:d.sibling=null;break;case"collapsed":d=i.tail;for(var g=null;d!==null;)d.alternate!==null&&(g=d),d=d.sibling;g===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:g.sibling=null}}function Kn(i){var a=i.alternate!==null&&i.alternate.child===i.child,d=0,g=0;if(a)for(var w=i.child;w!==null;)d|=w.lanes|w.childLanes,g|=w.subtreeFlags&14680064,g|=w.flags&14680064,w.return=i,w=w.sibling;else for(w=i.child;w!==null;)d|=w.lanes|w.childLanes,g|=w.subtreeFlags,g|=w.flags,w.return=i,w=w.sibling;return i.subtreeFlags|=g,i.childLanes=d,a}function uR(i,a,d){var g=a.pendingProps;switch(mg(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kn(a),null;case 1:return lr(a.type)&&Lh(),Kn(a),null;case 3:return g=a.stateNode,Ul(),Ut(ar),Ut(Gn),Ag(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(i===null||i.child===null)&&(Bh(a)?a.flags|=4:i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,ds!==null&&(s0(ds),ds=null))),qg(i,a),Kn(a),null;case 5:Cg(a);var w=va(xu.current);if(d=a.type,i!==null&&a.stateNode!=null)H_(i,a,d,g,w),i.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!g){if(a.stateNode===null)throw Error(n(166));return Kn(a),null}if(i=va(Ys.current),Bh(a)){g=a.stateNode,d=a.type;var I=a.memoizedProps;switch(g[Ks]=a,g[yu]=I,i=(a.mode&1)!==0,d){case"dialog":Vt("cancel",g),Vt("close",g);break;case"iframe":case"object":case"embed":Vt("load",g);break;case"video":case"audio":for(w=0;w<mu.length;w++)Vt(mu[w],g);break;case"source":Vt("error",g);break;case"img":case"image":case"link":Vt("error",g),Vt("load",g);break;case"details":Vt("toggle",g);break;case"input":ke(g,I),Vt("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!I.multiple},Vt("invalid",g);break;case"textarea":Wt(g,I),Vt("invalid",g)}Us(d,I),w=null;for(var V in I)if(I.hasOwnProperty(V)){var q=I[V];V==="children"?typeof q=="string"?g.textContent!==q&&(I.suppressHydrationWarning!==!0&&jh(g.textContent,q,i),w=["children",q]):typeof q=="number"&&g.textContent!==""+q&&(I.suppressHydrationWarning!==!0&&jh(g.textContent,q,i),w=["children",""+q]):s.hasOwnProperty(V)&&q!=null&&V==="onScroll"&&Vt("scroll",g)}switch(d){case"input":Ze(g),we(g,I,!0);break;case"textarea":Ze(g),xn(g);break;case"select":case"option":break;default:typeof I.onClick=="function"&&(g.onclick=Mh)}g=w,a.updateQueue=g,g!==null&&(a.flags|=4)}else{V=w.nodeType===9?w:w.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=Dt(d)),i==="http://www.w3.org/1999/xhtml"?d==="script"?(i=V.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof g.is=="string"?i=V.createElement(d,{is:g.is}):(i=V.createElement(d),d==="select"&&(V=i,g.multiple?V.multiple=!0:g.size&&(V.size=g.size))):i=V.createElementNS(i,d),i[Ks]=a,i[yu]=g,U_(i,a,!1,!1),a.stateNode=i;e:{switch(V=Hs(d,g),d){case"dialog":Vt("cancel",i),Vt("close",i),w=g;break;case"iframe":case"object":case"embed":Vt("load",i),w=g;break;case"video":case"audio":for(w=0;w<mu.length;w++)Vt(mu[w],i);w=g;break;case"source":Vt("error",i),w=g;break;case"img":case"image":case"link":Vt("error",i),Vt("load",i),w=g;break;case"details":Vt("toggle",i),w=g;break;case"input":ke(i,g),w=Oe(i,g),Vt("invalid",i);break;case"option":w=g;break;case"select":i._wrapperState={wasMultiple:!!g.multiple},w=ee({},g,{value:void 0}),Vt("invalid",i);break;case"textarea":Wt(i,g),w=Qe(i,g),Vt("invalid",i);break;default:w=g}Us(d,w),q=w;for(I in q)if(q.hasOwnProperty(I)){var Q=q[I];I==="style"?Fs(i,Q):I==="dangerouslySetInnerHTML"?(Q=Q?Q.__html:void 0,Q!=null&&fi(i,Q)):I==="children"?typeof Q=="string"?(d!=="textarea"||Q!=="")&&$n(i,Q):typeof Q=="number"&&$n(i,""+Q):I!=="suppressContentEditableWarning"&&I!=="suppressHydrationWarning"&&I!=="autoFocus"&&(s.hasOwnProperty(I)?Q!=null&&I==="onScroll"&&Vt("scroll",i):Q!=null&&B(i,I,Q,V))}switch(d){case"input":Ze(i),we(i,g,!1);break;case"textarea":Ze(i),xn(i);break;case"option":g.value!=null&&i.setAttribute("value",""+Re(g.value));break;case"select":i.multiple=!!g.multiple,I=g.value,I!=null?tt(i,!!g.multiple,I,!1):g.defaultValue!=null&&tt(i,!!g.multiple,g.defaultValue,!0);break;default:typeof w.onClick=="function"&&(i.onclick=Mh)}switch(d){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return Kn(a),null;case 6:if(i&&a.stateNode!=null)B_(i,a,i.memoizedProps,g);else{if(typeof g!="string"&&a.stateNode===null)throw Error(n(166));if(d=va(xu.current),va(Ys.current),Bh(a)){if(g=a.stateNode,d=a.memoizedProps,g[Ks]=a,(I=g.nodeValue!==d)&&(i=br,i!==null))switch(i.tag){case 3:jh(g.nodeValue,d,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&jh(g.nodeValue,d,(i.mode&1)!==0)}I&&(a.flags|=4)}else g=(d.nodeType===9?d:d.ownerDocument).createTextNode(g),g[Ks]=a,a.stateNode=g}return Kn(a),null;case 13:if(Ut(Xt),g=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(qt&&Cr!==null&&(a.mode&1)!==0&&(a.flags&128)===0)Ww(),Ol(),a.flags|=98560,I=!1;else if(I=Bh(a),g!==null&&g.dehydrated!==null){if(i===null){if(!I)throw Error(n(318));if(I=a.memoizedState,I=I!==null?I.dehydrated:null,!I)throw Error(n(317));I[Ks]=a}else Ol(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Kn(a),I=!1}else ds!==null&&(s0(ds),ds=null),I=!0;if(!I)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=d,a):(g=g!==null,g!==(i!==null&&i.memoizedState!==null)&&g&&(a.child.flags|=8192,(a.mode&1)!==0&&(i===null||(Xt.current&1)!==0?yn===0&&(yn=3):a0())),a.updateQueue!==null&&(a.flags|=4),Kn(a),null);case 4:return Ul(),qg(i,a),i===null&&gu(a.stateNode.containerInfo),Kn(a),null;case 10:return Eg(a.type._context),Kn(a),null;case 17:return lr(a.type)&&Lh(),Kn(a),null;case 19:if(Ut(Xt),I=a.memoizedState,I===null)return Kn(a),null;if(g=(a.flags&128)!==0,V=I.rendering,V===null)if(g)Au(I,!1);else{if(yn!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(V=Kh(i),V!==null){for(a.flags|=128,Au(I,!1),g=V.updateQueue,g!==null&&(a.updateQueue=g,a.flags|=4),a.subtreeFlags=0,g=d,d=a.child;d!==null;)I=d,i=g,I.flags&=14680066,V=I.alternate,V===null?(I.childLanes=0,I.lanes=i,I.child=null,I.subtreeFlags=0,I.memoizedProps=null,I.memoizedState=null,I.updateQueue=null,I.dependencies=null,I.stateNode=null):(I.childLanes=V.childLanes,I.lanes=V.lanes,I.child=V.child,I.subtreeFlags=0,I.deletions=null,I.memoizedProps=V.memoizedProps,I.memoizedState=V.memoizedState,I.updateQueue=V.updateQueue,I.type=V.type,i=V.dependencies,I.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),d=d.sibling;return Lt(Xt,Xt.current&1|2),a.child}i=i.sibling}I.tail!==null&&Ot()>zl&&(a.flags|=128,g=!0,Au(I,!1),a.lanes=4194304)}else{if(!g)if(i=Kh(V),i!==null){if(a.flags|=128,g=!0,d=i.updateQueue,d!==null&&(a.updateQueue=d,a.flags|=4),Au(I,!0),I.tail===null&&I.tailMode==="hidden"&&!V.alternate&&!qt)return Kn(a),null}else 2*Ot()-I.renderingStartTime>zl&&d!==1073741824&&(a.flags|=128,g=!0,Au(I,!1),a.lanes=4194304);I.isBackwards?(V.sibling=a.child,a.child=V):(d=I.last,d!==null?d.sibling=V:a.child=V,I.last=V)}return I.tail!==null?(a=I.tail,I.rendering=a,I.tail=a.sibling,I.renderingStartTime=Ot(),a.sibling=null,d=Xt.current,Lt(Xt,g?d&1|2:d&1),a):(Kn(a),null);case 22:case 23:return o0(),g=a.memoizedState!==null,i!==null&&i.memoizedState!==null!==g&&(a.flags|=8192),g&&(a.mode&1)!==0?(Ir&1073741824)!==0&&(Kn(a),a.subtreeFlags&6&&(a.flags|=8192)):Kn(a),null;case 24:return null;case 25:return null}throw Error(n(156,a.tag))}function dR(i,a){switch(mg(a),a.tag){case 1:return lr(a.type)&&Lh(),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return Ul(),Ut(ar),Ut(Gn),Ag(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 5:return Cg(a),null;case 13:if(Ut(Xt),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(n(340));Ol()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return Ut(Xt),null;case 4:return Ul(),null;case 10:return Eg(a.type._context),null;case 22:case 23:return o0(),null;case 24:return null;default:return null}}var rf=!1,Yn=!1,hR=typeof WeakSet=="function"?WeakSet:Set,Le=null;function Bl(i,a){var d=i.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(g){sn(i,a,g)}else d.current=null}function Kg(i,a,d){try{d()}catch(g){sn(i,a,g)}}var $_=!1;function fR(i,a){if(og=ao,i=Ew(),Xm(i)){if("selectionStart"in i)var d={start:i.selectionStart,end:i.selectionEnd};else e:{d=(d=i.ownerDocument)&&d.defaultView||window;var g=d.getSelection&&d.getSelection();if(g&&g.rangeCount!==0){d=g.anchorNode;var w=g.anchorOffset,I=g.focusNode;g=g.focusOffset;try{d.nodeType,I.nodeType}catch{d=null;break e}var V=0,q=-1,Q=-1,oe=0,ve=0,Se=i,ge=null;t:for(;;){for(var Me;Se!==d||w!==0&&Se.nodeType!==3||(q=V+w),Se!==I||g!==0&&Se.nodeType!==3||(Q=V+g),Se.nodeType===3&&(V+=Se.nodeValue.length),(Me=Se.firstChild)!==null;)ge=Se,Se=Me;for(;;){if(Se===i)break t;if(ge===d&&++oe===w&&(q=V),ge===I&&++ve===g&&(Q=V),(Me=Se.nextSibling)!==null)break;Se=ge,ge=Se.parentNode}Se=Me}d=q===-1||Q===-1?null:{start:q,end:Q}}else d=null}d=d||{start:0,end:0}}else d=null;for(ag={focusedElem:i,selectionRange:d},ao=!1,Le=a;Le!==null;)if(a=Le,i=a.child,(a.subtreeFlags&1028)!==0&&i!==null)i.return=a,Le=i;else for(;Le!==null;){a=Le;try{var Ve=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(Ve!==null){var Be=Ve.memoizedProps,on=Ve.memoizedState,re=a.stateNode,X=re.getSnapshotBeforeUpdate(a.elementType===a.type?Be:hs(a.type,Be),on);re.__reactInternalSnapshotBeforeUpdate=X}break;case 3:var se=a.stateNode.containerInfo;se.nodeType===1?se.textContent="":se.nodeType===9&&se.documentElement&&se.removeChild(se.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(be){sn(a,a.return,be)}if(i=a.sibling,i!==null){i.return=a.return,Le=i;break}Le=a.return}return Ve=$_,$_=!1,Ve}function Ru(i,a,d){var g=a.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var w=g=g.next;do{if((w.tag&i)===i){var I=w.destroy;w.destroy=void 0,I!==void 0&&Kg(a,d,I)}w=w.next}while(w!==g)}}function sf(i,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var d=a=a.next;do{if((d.tag&i)===i){var g=d.create;d.destroy=g()}d=d.next}while(d!==a)}}function Yg(i){var a=i.ref;if(a!==null){var d=i.stateNode;switch(i.tag){case 5:i=d;break;default:i=d}typeof a=="function"?a(i):a.current=i}}function z_(i){var a=i.alternate;a!==null&&(i.alternate=null,z_(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&(delete a[Ks],delete a[yu],delete a[dg],delete a[Y3],delete a[Z3])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function W_(i){return i.tag===5||i.tag===3||i.tag===4}function G_(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||W_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Zg(i,a,d){var g=i.tag;if(g===5||g===6)i=i.stateNode,a?d.nodeType===8?d.parentNode.insertBefore(i,a):d.insertBefore(i,a):(d.nodeType===8?(a=d.parentNode,a.insertBefore(i,d)):(a=d,a.appendChild(i)),d=d._reactRootContainer,d!=null||a.onclick!==null||(a.onclick=Mh));else if(g!==4&&(i=i.child,i!==null))for(Zg(i,a,d),i=i.sibling;i!==null;)Zg(i,a,d),i=i.sibling}function Qg(i,a,d){var g=i.tag;if(g===5||g===6)i=i.stateNode,a?d.insertBefore(i,a):d.appendChild(i);else if(g!==4&&(i=i.child,i!==null))for(Qg(i,a,d),i=i.sibling;i!==null;)Qg(i,a,d),i=i.sibling}var Mn=null,fs=!1;function vo(i,a,d){for(d=d.child;d!==null;)q_(i,a,d),d=d.sibling}function q_(i,a,d){if(Er&&typeof Er.onCommitFiberUnmount=="function")try{Er.onCommitFiberUnmount(ia,d)}catch{}switch(d.tag){case 5:Yn||Bl(d,a);case 6:var g=Mn,w=fs;Mn=null,vo(i,a,d),Mn=g,fs=w,Mn!==null&&(fs?(i=Mn,d=d.stateNode,i.nodeType===8?i.parentNode.removeChild(d):i.removeChild(d)):Mn.removeChild(d.stateNode));break;case 18:Mn!==null&&(fs?(i=Mn,d=d.stateNode,i.nodeType===8?ug(i.parentNode,d):i.nodeType===1&&ug(i,d),ls(i)):ug(Mn,d.stateNode));break;case 4:g=Mn,w=fs,Mn=d.stateNode.containerInfo,fs=!0,vo(i,a,d),Mn=g,fs=w;break;case 0:case 11:case 14:case 15:if(!Yn&&(g=d.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){w=g=g.next;do{var I=w,V=I.destroy;I=I.tag,V!==void 0&&((I&2)!==0||(I&4)!==0)&&Kg(d,a,V),w=w.next}while(w!==g)}vo(i,a,d);break;case 1:if(!Yn&&(Bl(d,a),g=d.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=d.memoizedProps,g.state=d.memoizedState,g.componentWillUnmount()}catch(q){sn(d,a,q)}vo(i,a,d);break;case 21:vo(i,a,d);break;case 22:d.mode&1?(Yn=(g=Yn)||d.memoizedState!==null,vo(i,a,d),Yn=g):vo(i,a,d);break;default:vo(i,a,d)}}function K_(i){var a=i.updateQueue;if(a!==null){i.updateQueue=null;var d=i.stateNode;d===null&&(d=i.stateNode=new hR),a.forEach(function(g){var w=SR.bind(null,i,g);d.has(g)||(d.add(g),g.then(w,w))})}}function ps(i,a){var d=a.deletions;if(d!==null)for(var g=0;g<d.length;g++){var w=d[g];try{var I=i,V=a,q=V;e:for(;q!==null;){switch(q.tag){case 5:Mn=q.stateNode,fs=!1;break e;case 3:Mn=q.stateNode.containerInfo,fs=!0;break e;case 4:Mn=q.stateNode.containerInfo,fs=!0;break e}q=q.return}if(Mn===null)throw Error(n(160));q_(I,V,w),Mn=null,fs=!1;var Q=w.alternate;Q!==null&&(Q.return=null),w.return=null}catch(oe){sn(w,a,oe)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)Y_(a,i),a=a.sibling}function Y_(i,a){var d=i.alternate,g=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(ps(a,i),Qs(i),g&4){try{Ru(3,i,i.return),sf(3,i)}catch(Be){sn(i,i.return,Be)}try{Ru(5,i,i.return)}catch(Be){sn(i,i.return,Be)}}break;case 1:ps(a,i),Qs(i),g&512&&d!==null&&Bl(d,d.return);break;case 5:if(ps(a,i),Qs(i),g&512&&d!==null&&Bl(d,d.return),i.flags&32){var w=i.stateNode;try{$n(w,"")}catch(Be){sn(i,i.return,Be)}}if(g&4&&(w=i.stateNode,w!=null)){var I=i.memoizedProps,V=d!==null?d.memoizedProps:I,q=i.type,Q=i.updateQueue;if(i.updateQueue=null,Q!==null)try{q==="input"&&I.type==="radio"&&I.name!=null&&ne(w,I),Hs(q,V);var oe=Hs(q,I);for(V=0;V<Q.length;V+=2){var ve=Q[V],Se=Q[V+1];ve==="style"?Fs(w,Se):ve==="dangerouslySetInnerHTML"?fi(w,Se):ve==="children"?$n(w,Se):B(w,ve,Se,oe)}switch(q){case"input":de(w,I);break;case"textarea":mn(w,I);break;case"select":var ge=w._wrapperState.wasMultiple;w._wrapperState.wasMultiple=!!I.multiple;var Me=I.value;Me!=null?tt(w,!!I.multiple,Me,!1):ge!==!!I.multiple&&(I.defaultValue!=null?tt(w,!!I.multiple,I.defaultValue,!0):tt(w,!!I.multiple,I.multiple?[]:"",!1))}w[yu]=I}catch(Be){sn(i,i.return,Be)}}break;case 6:if(ps(a,i),Qs(i),g&4){if(i.stateNode===null)throw Error(n(162));w=i.stateNode,I=i.memoizedProps;try{w.nodeValue=I}catch(Be){sn(i,i.return,Be)}}break;case 3:if(ps(a,i),Qs(i),g&4&&d!==null&&d.memoizedState.isDehydrated)try{ls(a.containerInfo)}catch(Be){sn(i,i.return,Be)}break;case 4:ps(a,i),Qs(i);break;case 13:ps(a,i),Qs(i),w=i.child,w.flags&8192&&(I=w.memoizedState!==null,w.stateNode.isHidden=I,!I||w.alternate!==null&&w.alternate.memoizedState!==null||(e0=Ot())),g&4&&K_(i);break;case 22:if(ve=d!==null&&d.memoizedState!==null,i.mode&1?(Yn=(oe=Yn)||ve,ps(a,i),Yn=oe):ps(a,i),Qs(i),g&8192){if(oe=i.memoizedState!==null,(i.stateNode.isHidden=oe)&&!ve&&(i.mode&1)!==0)for(Le=i,ve=i.child;ve!==null;){for(Se=Le=ve;Le!==null;){switch(ge=Le,Me=ge.child,ge.tag){case 0:case 11:case 14:case 15:Ru(4,ge,ge.return);break;case 1:Bl(ge,ge.return);var Ve=ge.stateNode;if(typeof Ve.componentWillUnmount=="function"){g=ge,d=ge.return;try{a=g,Ve.props=a.memoizedProps,Ve.state=a.memoizedState,Ve.componentWillUnmount()}catch(Be){sn(g,d,Be)}}break;case 5:Bl(ge,ge.return);break;case 22:if(ge.memoizedState!==null){X_(Se);continue}}Me!==null?(Me.return=ge,Le=Me):X_(Se)}ve=ve.sibling}e:for(ve=null,Se=i;;){if(Se.tag===5){if(ve===null){ve=Se;try{w=Se.stateNode,oe?(I=w.style,typeof I.setProperty=="function"?I.setProperty("display","none","important"):I.display="none"):(q=Se.stateNode,Q=Se.memoizedProps.style,V=Q!=null&&Q.hasOwnProperty("display")?Q.display:null,q.style.display=wr("display",V))}catch(Be){sn(i,i.return,Be)}}}else if(Se.tag===6){if(ve===null)try{Se.stateNode.nodeValue=oe?"":Se.memoizedProps}catch(Be){sn(i,i.return,Be)}}else if((Se.tag!==22&&Se.tag!==23||Se.memoizedState===null||Se===i)&&Se.child!==null){Se.child.return=Se,Se=Se.child;continue}if(Se===i)break e;for(;Se.sibling===null;){if(Se.return===null||Se.return===i)break e;ve===Se&&(ve=null),Se=Se.return}ve===Se&&(ve=null),Se.sibling.return=Se.return,Se=Se.sibling}}break;case 19:ps(a,i),Qs(i),g&4&&K_(i);break;case 21:break;default:ps(a,i),Qs(i)}}function Qs(i){var a=i.flags;if(a&2){try{e:{for(var d=i.return;d!==null;){if(W_(d)){var g=d;break e}d=d.return}throw Error(n(160))}switch(g.tag){case 5:var w=g.stateNode;g.flags&32&&($n(w,""),g.flags&=-33);var I=G_(i);Qg(i,I,w);break;case 3:case 4:var V=g.stateNode.containerInfo,q=G_(i);Zg(i,q,V);break;default:throw Error(n(161))}}catch(Q){sn(i,i.return,Q)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function pR(i,a,d){Le=i,Z_(i)}function Z_(i,a,d){for(var g=(i.mode&1)!==0;Le!==null;){var w=Le,I=w.child;if(w.tag===22&&g){var V=w.memoizedState!==null||rf;if(!V){var q=w.alternate,Q=q!==null&&q.memoizedState!==null||Yn;q=rf;var oe=Yn;if(rf=V,(Yn=Q)&&!oe)for(Le=w;Le!==null;)V=Le,Q=V.child,V.tag===22&&V.memoizedState!==null?J_(w):Q!==null?(Q.return=V,Le=Q):J_(w);for(;I!==null;)Le=I,Z_(I),I=I.sibling;Le=w,rf=q,Yn=oe}Q_(i)}else(w.subtreeFlags&8772)!==0&&I!==null?(I.return=w,Le=I):Q_(i)}}function Q_(i){for(;Le!==null;){var a=Le;if((a.flags&8772)!==0){var d=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:Yn||sf(5,a);break;case 1:var g=a.stateNode;if(a.flags&4&&!Yn)if(d===null)g.componentDidMount();else{var w=a.elementType===a.type?d.memoizedProps:hs(a.type,d.memoizedProps);g.componentDidUpdate(w,d.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var I=a.updateQueue;I!==null&&Xw(a,I,g);break;case 3:var V=a.updateQueue;if(V!==null){if(d=null,a.child!==null)switch(a.child.tag){case 5:d=a.child.stateNode;break;case 1:d=a.child.stateNode}Xw(a,V,d)}break;case 5:var q=a.stateNode;if(d===null&&a.flags&4){d=q;var Q=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":Q.autoFocus&&d.focus();break;case"img":Q.src&&(d.src=Q.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var oe=a.alternate;if(oe!==null){var ve=oe.memoizedState;if(ve!==null){var Se=ve.dehydrated;Se!==null&&ls(Se)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Yn||a.flags&512&&Yg(a)}catch(ge){sn(a,a.return,ge)}}if(a===i){Le=null;break}if(d=a.sibling,d!==null){d.return=a.return,Le=d;break}Le=a.return}}function X_(i){for(;Le!==null;){var a=Le;if(a===i){Le=null;break}var d=a.sibling;if(d!==null){d.return=a.return,Le=d;break}Le=a.return}}function J_(i){for(;Le!==null;){var a=Le;try{switch(a.tag){case 0:case 11:case 15:var d=a.return;try{sf(4,a)}catch(Q){sn(a,d,Q)}break;case 1:var g=a.stateNode;if(typeof g.componentDidMount=="function"){var w=a.return;try{g.componentDidMount()}catch(Q){sn(a,w,Q)}}var I=a.return;try{Yg(a)}catch(Q){sn(a,I,Q)}break;case 5:var V=a.return;try{Yg(a)}catch(Q){sn(a,V,Q)}}}catch(Q){sn(a,a.return,Q)}if(a===i){Le=null;break}var q=a.sibling;if(q!==null){q.return=a.return,Le=q;break}Le=a.return}}var mR=Math.ceil,of=m.ReactCurrentDispatcher,Xg=m.ReactCurrentOwner,zr=m.ReactCurrentBatchConfig,bt=0,An=null,un=null,On=0,Ir=0,$l=ho(0),yn=0,Pu=null,wa=0,af=0,Jg=0,Nu=null,ur=null,e0=0,zl=1/0,Ii=null,lf=!1,t0=null,yo=null,cf=!1,wo=null,uf=0,ku=0,n0=null,df=-1,hf=0;function nr(){return(bt&6)!==0?Ot():df!==-1?df:df=Ot()}function _o(i){return(i.mode&1)===0?1:(bt&2)!==0&&On!==0?On&-On:X3.transition!==null?(hf===0&&(hf=aa()),hf):(i=yt,i!==0||(i=window.event,i=i===void 0?16:ou(i.type)),i)}function ms(i,a,d,g){if(50<ku)throw ku=0,n0=null,Error(n(185));ro(i,d,g),((bt&2)===0||i!==An)&&(i===An&&((bt&2)===0&&(af|=d),yn===4&&Eo(i,On)),dr(i,g),d===1&&bt===0&&(a.mode&1)===0&&(zl=Ot()+500,Vh&&po()))}function dr(i,a){var d=i.callbackNode;mi(i,a);var g=oa(i,i===An?On:0);if(g===0)d!==null&&tu(d),i.callbackNode=null,i.callbackPriority=0;else if(a=g&-g,i.callbackPriority!==a){if(d!=null&&tu(d),a===1)i.tag===0?Q3(tE.bind(null,i)):Uw(tE.bind(null,i)),q3(function(){(bt&6)===0&&po()}),d=null;else{switch(io(g)){case 1:d=sa;break;case 4:d=eo;break;case 16:d=Lr;break;case 536870912:d=dh;break;default:d=Lr}d=cE(d,eE.bind(null,i))}i.callbackPriority=a,i.callbackNode=d}}function eE(i,a){if(df=-1,hf=0,(bt&6)!==0)throw Error(n(327));var d=i.callbackNode;if(Wl()&&i.callbackNode!==d)return null;var g=oa(i,i===An?On:0);if(g===0)return null;if((g&30)!==0||(g&i.expiredLanes)!==0||a)a=ff(i,g);else{a=g;var w=bt;bt|=2;var I=rE();(An!==i||On!==a)&&(Ii=null,zl=Ot()+500,Ea(i,a));do try{yR();break}catch(q){nE(i,q)}while(!0);_g(),of.current=I,bt=w,un!==null?a=0:(An=null,On=0,a=yn)}if(a!==0){if(a===2&&(w=Sr(i),w!==0&&(g=w,a=r0(i,w))),a===1)throw d=Pu,Ea(i,0),Eo(i,g),dr(i,Ot()),d;if(a===6)Eo(i,g);else{if(w=i.current.alternate,(g&30)===0&&!gR(w)&&(a=ff(i,g),a===2&&(I=Sr(i),I!==0&&(g=I,a=r0(i,I))),a===1))throw d=Pu,Ea(i,0),Eo(i,g),dr(i,Ot()),d;switch(i.finishedWork=w,i.finishedLanes=g,a){case 0:case 1:throw Error(n(345));case 2:Sa(i,ur,Ii);break;case 3:if(Eo(i,g),(g&130023424)===g&&(a=e0+500-Ot(),10<a)){if(oa(i,0)!==0)break;if(w=i.suspendedLanes,(w&g)!==g){nr(),i.pingedLanes|=i.suspendedLanes&w;break}i.timeoutHandle=cg(Sa.bind(null,i,ur,Ii),a);break}Sa(i,ur,Ii);break;case 4:if(Eo(i,g),(g&4194240)===g)break;for(a=i.eventTimes,w=-1;0<g;){var V=31-Jn(g);I=1<<V,V=a[V],V>w&&(w=V),g&=~I}if(g=w,g=Ot()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*mR(g/1960))-g,10<g){i.timeoutHandle=cg(Sa.bind(null,i,ur,Ii),g);break}Sa(i,ur,Ii);break;case 5:Sa(i,ur,Ii);break;default:throw Error(n(329))}}}return dr(i,Ot()),i.callbackNode===d?eE.bind(null,i):null}function r0(i,a){var d=Nu;return i.current.memoizedState.isDehydrated&&(Ea(i,a).flags|=256),i=ff(i,a),i!==2&&(a=ur,ur=d,a!==null&&s0(a)),i}function s0(i){ur===null?ur=i:ur.push.apply(ur,i)}function gR(i){for(var a=i;;){if(a.flags&16384){var d=a.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var g=0;g<d.length;g++){var w=d[g],I=w.getSnapshot;w=w.value;try{if(!us(I(),w))return!1}catch{return!1}}}if(d=a.child,a.subtreeFlags&16384&&d!==null)d.return=a,a=d;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Eo(i,a){for(a&=~Jg,a&=~af,i.suspendedLanes|=a,i.pingedLanes&=~a,i=i.expirationTimes;0<a;){var d=31-Jn(a),g=1<<d;i[d]=-1,a&=~g}}function tE(i){if((bt&6)!==0)throw Error(n(327));Wl();var a=oa(i,0);if((a&1)===0)return dr(i,Ot()),null;var d=ff(i,a);if(i.tag!==0&&d===2){var g=Sr(i);g!==0&&(a=g,d=r0(i,g))}if(d===1)throw d=Pu,Ea(i,0),Eo(i,a),dr(i,Ot()),d;if(d===6)throw Error(n(345));return i.finishedWork=i.current.alternate,i.finishedLanes=a,Sa(i,ur,Ii),dr(i,Ot()),null}function i0(i,a){var d=bt;bt|=1;try{return i(a)}finally{bt=d,bt===0&&(zl=Ot()+500,Vh&&po())}}function _a(i){wo!==null&&wo.tag===0&&(bt&6)===0&&Wl();var a=bt;bt|=1;var d=zr.transition,g=yt;try{if(zr.transition=null,yt=1,i)return i()}finally{yt=g,zr.transition=d,bt=a,(bt&6)===0&&po()}}function o0(){Ir=$l.current,Ut($l)}function Ea(i,a){i.finishedWork=null,i.finishedLanes=0;var d=i.timeoutHandle;if(d!==-1&&(i.timeoutHandle=-1,G3(d)),un!==null)for(d=un.return;d!==null;){var g=d;switch(mg(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&Lh();break;case 3:Ul(),Ut(ar),Ut(Gn),Ag();break;case 5:Cg(g);break;case 4:Ul();break;case 13:Ut(Xt);break;case 19:Ut(Xt);break;case 10:Eg(g.type._context);break;case 22:case 23:o0()}d=d.return}if(An=i,un=i=So(i.current,null),On=Ir=a,yn=0,Pu=null,Jg=af=wa=0,ur=Nu=null,ga!==null){for(a=0;a<ga.length;a++)if(d=ga[a],g=d.interleaved,g!==null){d.interleaved=null;var w=g.next,I=d.pending;if(I!==null){var V=I.next;I.next=w,g.next=V}d.pending=g}ga=null}return i}function nE(i,a){do{var d=un;try{if(_g(),Yh.current=Jh,Zh){for(var g=Jt.memoizedState;g!==null;){var w=g.queue;w!==null&&(w.pending=null),g=g.next}Zh=!1}if(ya=0,In=vn=Jt=null,Tu=!1,bu=0,Xg.current=null,d===null||d.return===null){yn=1,Pu=a,un=null;break}e:{var I=i,V=d.return,q=d,Q=a;if(a=On,q.flags|=32768,Q!==null&&typeof Q=="object"&&typeof Q.then=="function"){var oe=Q,ve=q,Se=ve.tag;if((ve.mode&1)===0&&(Se===0||Se===11||Se===15)){var ge=ve.alternate;ge?(ve.updateQueue=ge.updateQueue,ve.memoizedState=ge.memoizedState,ve.lanes=ge.lanes):(ve.updateQueue=null,ve.memoizedState=null)}var Me=I_(V);if(Me!==null){Me.flags&=-257,A_(Me,V,q,I,a),Me.mode&1&&C_(I,oe,a),a=Me,Q=oe;var Ve=a.updateQueue;if(Ve===null){var Be=new Set;Be.add(Q),a.updateQueue=Be}else Ve.add(Q);break e}else{if((a&1)===0){C_(I,oe,a),a0();break e}Q=Error(n(426))}}else if(qt&&q.mode&1){var on=I_(V);if(on!==null){(on.flags&65536)===0&&(on.flags|=256),A_(on,V,q,I,a),yg(Hl(Q,q));break e}}I=Q=Hl(Q,q),yn!==4&&(yn=2),Nu===null?Nu=[I]:Nu.push(I),I=V;do{switch(I.tag){case 3:I.flags|=65536,a&=-a,I.lanes|=a;var re=T_(I,Q,a);Qw(I,re);break e;case 1:q=Q;var X=I.type,se=I.stateNode;if((I.flags&128)===0&&(typeof X.getDerivedStateFromError=="function"||se!==null&&typeof se.componentDidCatch=="function"&&(yo===null||!yo.has(se)))){I.flags|=65536,a&=-a,I.lanes|=a;var be=b_(I,q,a);Qw(I,be);break e}}I=I.return}while(I!==null)}iE(d)}catch(We){a=We,un===d&&d!==null&&(un=d=d.return);continue}break}while(!0)}function rE(){var i=of.current;return of.current=Jh,i===null?Jh:i}function a0(){(yn===0||yn===3||yn===2)&&(yn=4),An===null||(wa&268435455)===0&&(af&268435455)===0||Eo(An,On)}function ff(i,a){var d=bt;bt|=2;var g=rE();(An!==i||On!==a)&&(Ii=null,Ea(i,a));do try{vR();break}catch(w){nE(i,w)}while(!0);if(_g(),bt=d,of.current=g,un!==null)throw Error(n(261));return An=null,On=0,yn}function vR(){for(;un!==null;)sE(un)}function yR(){for(;un!==null&&!ch();)sE(un)}function sE(i){var a=lE(i.alternate,i,Ir);i.memoizedProps=i.pendingProps,a===null?iE(i):un=a,Xg.current=null}function iE(i){var a=i;do{var d=a.alternate;if(i=a.return,(a.flags&32768)===0){if(d=uR(d,a,Ir),d!==null){un=d;return}}else{if(d=dR(d,a),d!==null){d.flags&=32767,un=d;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{yn=6,un=null;return}}if(a=a.sibling,a!==null){un=a;return}un=a=i}while(a!==null);yn===0&&(yn=5)}function Sa(i,a,d){var g=yt,w=zr.transition;try{zr.transition=null,yt=1,wR(i,a,d,g)}finally{zr.transition=w,yt=g}return null}function wR(i,a,d,g){do Wl();while(wo!==null);if((bt&6)!==0)throw Error(n(327));d=i.finishedWork;var w=i.finishedLanes;if(d===null)return null;if(i.finishedWork=null,i.finishedLanes=0,d===i.current)throw Error(n(177));i.callbackNode=null,i.callbackPriority=0;var I=d.lanes|d.childLanes;if(jt(i,I),i===An&&(un=An=null,On=0),(d.subtreeFlags&2064)===0&&(d.flags&2064)===0||cf||(cf=!0,cE(Lr,function(){return Wl(),null})),I=(d.flags&15990)!==0,(d.subtreeFlags&15990)!==0||I){I=zr.transition,zr.transition=null;var V=yt;yt=1;var q=bt;bt|=4,Xg.current=null,fR(i,d),Y_(d,i),V3(ag),ao=!!og,ag=og=null,i.current=d,pR(d),zm(),bt=q,yt=V,zr.transition=I}else i.current=d;if(cf&&(cf=!1,wo=i,uf=w),I=i.pendingLanes,I===0&&(yo=null),hh(d.stateNode),dr(i,Ot()),a!==null)for(g=i.onRecoverableError,d=0;d<a.length;d++)w=a[d],g(w.value,{componentStack:w.stack,digest:w.digest});if(lf)throw lf=!1,i=t0,t0=null,i;return(uf&1)!==0&&i.tag!==0&&Wl(),I=i.pendingLanes,(I&1)!==0?i===n0?ku++:(ku=0,n0=i):ku=0,po(),null}function Wl(){if(wo!==null){var i=io(uf),a=zr.transition,d=yt;try{if(zr.transition=null,yt=16>i?16:i,wo===null)var g=!1;else{if(i=wo,wo=null,uf=0,(bt&6)!==0)throw Error(n(331));var w=bt;for(bt|=4,Le=i.current;Le!==null;){var I=Le,V=I.child;if((Le.flags&16)!==0){var q=I.deletions;if(q!==null){for(var Q=0;Q<q.length;Q++){var oe=q[Q];for(Le=oe;Le!==null;){var ve=Le;switch(ve.tag){case 0:case 11:case 15:Ru(8,ve,I)}var Se=ve.child;if(Se!==null)Se.return=ve,Le=Se;else for(;Le!==null;){ve=Le;var ge=ve.sibling,Me=ve.return;if(z_(ve),ve===oe){Le=null;break}if(ge!==null){ge.return=Me,Le=ge;break}Le=Me}}}var Ve=I.alternate;if(Ve!==null){var Be=Ve.child;if(Be!==null){Ve.child=null;do{var on=Be.sibling;Be.sibling=null,Be=on}while(Be!==null)}}Le=I}}if((I.subtreeFlags&2064)!==0&&V!==null)V.return=I,Le=V;else e:for(;Le!==null;){if(I=Le,(I.flags&2048)!==0)switch(I.tag){case 0:case 11:case 15:Ru(9,I,I.return)}var re=I.sibling;if(re!==null){re.return=I.return,Le=re;break e}Le=I.return}}var X=i.current;for(Le=X;Le!==null;){V=Le;var se=V.child;if((V.subtreeFlags&2064)!==0&&se!==null)se.return=V,Le=se;else e:for(V=X;Le!==null;){if(q=Le,(q.flags&2048)!==0)try{switch(q.tag){case 0:case 11:case 15:sf(9,q)}}catch(We){sn(q,q.return,We)}if(q===V){Le=null;break e}var be=q.sibling;if(be!==null){be.return=q.return,Le=be;break e}Le=q.return}}if(bt=w,po(),Er&&typeof Er.onPostCommitFiberRoot=="function")try{Er.onPostCommitFiberRoot(ia,i)}catch{}g=!0}return g}finally{yt=d,zr.transition=a}}return!1}function oE(i,a,d){a=Hl(d,a),a=T_(i,a,1),i=go(i,a,1),a=nr(),i!==null&&(ro(i,1,a),dr(i,a))}function sn(i,a,d){if(i.tag===3)oE(i,i,d);else for(;a!==null;){if(a.tag===3){oE(a,i,d);break}else if(a.tag===1){var g=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(yo===null||!yo.has(g))){i=Hl(d,i),i=b_(a,i,1),a=go(a,i,1),i=nr(),a!==null&&(ro(a,1,i),dr(a,i));break}}a=a.return}}function _R(i,a,d){var g=i.pingCache;g!==null&&g.delete(a),a=nr(),i.pingedLanes|=i.suspendedLanes&d,An===i&&(On&d)===d&&(yn===4||yn===3&&(On&130023424)===On&&500>Ot()-e0?Ea(i,0):Jg|=d),dr(i,a)}function aE(i,a){a===0&&((i.mode&1)===0?a=1:(a=pl,pl<<=1,(pl&130023424)===0&&(pl=4194304)));var d=nr();i=Ti(i,a),i!==null&&(ro(i,a,d),dr(i,d))}function ER(i){var a=i.memoizedState,d=0;a!==null&&(d=a.retryLane),aE(i,d)}function SR(i,a){var d=0;switch(i.tag){case 13:var g=i.stateNode,w=i.memoizedState;w!==null&&(d=w.retryLane);break;case 19:g=i.stateNode;break;default:throw Error(n(314))}g!==null&&g.delete(a),aE(i,d)}var lE;lE=function(i,a,d){if(i!==null)if(i.memoizedProps!==a.pendingProps||ar.current)cr=!0;else{if((i.lanes&d)===0&&(a.flags&128)===0)return cr=!1,cR(i,a,d);cr=(i.flags&131072)!==0}else cr=!1,qt&&(a.flags&1048576)!==0&&Hw(a,Hh,a.index);switch(a.lanes=0,a.tag){case 2:var g=a.type;nf(i,a),i=a.pendingProps;var w=Dl(a,Gn.current);Vl(a,d),w=Ng(null,a,g,i,w,d);var I=kg();return a.flags|=1,typeof w=="object"&&w!==null&&typeof w.render=="function"&&w.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,lr(g)?(I=!0,Fh(a)):I=!1,a.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,Tg(a),w.updater=ef,a.stateNode=w,w._reactInternals=a,Fg(a,g,i,d),a=Bg(null,a,g,!0,I,d)):(a.tag=0,qt&&I&&pg(a),tr(null,a,w,d),a=a.child),a;case 16:g=a.elementType;e:{switch(nf(i,a),i=a.pendingProps,w=g._init,g=w(g._payload),a.type=g,w=a.tag=TR(g),i=hs(g,i),w){case 0:a=Hg(null,a,g,i,d);break e;case 1:a=j_(null,a,g,i,d);break e;case 11:a=R_(null,a,g,i,d);break e;case 14:a=P_(null,a,g,hs(g.type,i),d);break e}throw Error(n(306,g,""))}return a;case 0:return g=a.type,w=a.pendingProps,w=a.elementType===g?w:hs(g,w),Hg(i,a,g,w,d);case 1:return g=a.type,w=a.pendingProps,w=a.elementType===g?w:hs(g,w),j_(i,a,g,w,d);case 3:e:{if(M_(a),i===null)throw Error(n(387));g=a.pendingProps,I=a.memoizedState,w=I.element,Zw(i,a),qh(a,g,null,d);var V=a.memoizedState;if(g=V.element,I.isDehydrated)if(I={element:g,isDehydrated:!1,cache:V.cache,pendingSuspenseBoundaries:V.pendingSuspenseBoundaries,transitions:V.transitions},a.updateQueue.baseState=I,a.memoizedState=I,a.flags&256){w=Hl(Error(n(423)),a),a=O_(i,a,g,d,w);break e}else if(g!==w){w=Hl(Error(n(424)),a),a=O_(i,a,g,d,w);break e}else for(Cr=uo(a.stateNode.containerInfo.firstChild),br=a,qt=!0,ds=null,d=Kw(a,null,g,d),a.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(Ol(),g===w){a=Ci(i,a,d);break e}tr(i,a,g,d)}a=a.child}return a;case 5:return Jw(a),i===null&&vg(a),g=a.type,w=a.pendingProps,I=i!==null?i.memoizedProps:null,V=w.children,lg(g,w)?V=null:I!==null&&lg(g,I)&&(a.flags|=32),D_(i,a),tr(i,a,V,d),a.child;case 6:return i===null&&vg(a),null;case 13:return L_(i,a,d);case 4:return bg(a,a.stateNode.containerInfo),g=a.pendingProps,i===null?a.child=Ll(a,null,g,d):tr(i,a,g,d),a.child;case 11:return g=a.type,w=a.pendingProps,w=a.elementType===g?w:hs(g,w),R_(i,a,g,w,d);case 7:return tr(i,a,a.pendingProps,d),a.child;case 8:return tr(i,a,a.pendingProps.children,d),a.child;case 12:return tr(i,a,a.pendingProps.children,d),a.child;case 10:e:{if(g=a.type._context,w=a.pendingProps,I=a.memoizedProps,V=w.value,Lt(zh,g._currentValue),g._currentValue=V,I!==null)if(us(I.value,V)){if(I.children===w.children&&!ar.current){a=Ci(i,a,d);break e}}else for(I=a.child,I!==null&&(I.return=a);I!==null;){var q=I.dependencies;if(q!==null){V=I.child;for(var Q=q.firstContext;Q!==null;){if(Q.context===g){if(I.tag===1){Q=bi(-1,d&-d),Q.tag=2;var oe=I.updateQueue;if(oe!==null){oe=oe.shared;var ve=oe.pending;ve===null?Q.next=Q:(Q.next=ve.next,ve.next=Q),oe.pending=Q}}I.lanes|=d,Q=I.alternate,Q!==null&&(Q.lanes|=d),Sg(I.return,d,a),q.lanes|=d;break}Q=Q.next}}else if(I.tag===10)V=I.type===a.type?null:I.child;else if(I.tag===18){if(V=I.return,V===null)throw Error(n(341));V.lanes|=d,q=V.alternate,q!==null&&(q.lanes|=d),Sg(V,d,a),V=I.sibling}else V=I.child;if(V!==null)V.return=I;else for(V=I;V!==null;){if(V===a){V=null;break}if(I=V.sibling,I!==null){I.return=V.return,V=I;break}V=V.return}I=V}tr(i,a,w.children,d),a=a.child}return a;case 9:return w=a.type,g=a.pendingProps.children,Vl(a,d),w=Br(w),g=g(w),a.flags|=1,tr(i,a,g,d),a.child;case 14:return g=a.type,w=hs(g,a.pendingProps),w=hs(g.type,w),P_(i,a,g,w,d);case 15:return N_(i,a,a.type,a.pendingProps,d);case 17:return g=a.type,w=a.pendingProps,w=a.elementType===g?w:hs(g,w),nf(i,a),a.tag=1,lr(g)?(i=!0,Fh(a)):i=!1,Vl(a,d),S_(a,g,w),Fg(a,g,w,d),Bg(null,a,g,!0,i,d);case 19:return V_(i,a,d);case 22:return k_(i,a,d)}throw Error(n(156,a.tag))};function cE(i,a){return hl(i,a)}function xR(i,a,d,g){this.tag=i,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wr(i,a,d,g){return new xR(i,a,d,g)}function l0(i){return i=i.prototype,!(!i||!i.isReactComponent)}function TR(i){if(typeof i=="function")return l0(i)?1:0;if(i!=null){if(i=i.$$typeof,i===H)return 11;if(i===Y)return 14}return 2}function So(i,a){var d=i.alternate;return d===null?(d=Wr(i.tag,a,i.key,i.mode),d.elementType=i.elementType,d.type=i.type,d.stateNode=i.stateNode,d.alternate=i,i.alternate=d):(d.pendingProps=a,d.type=i.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=i.flags&14680064,d.childLanes=i.childLanes,d.lanes=i.lanes,d.child=i.child,d.memoizedProps=i.memoizedProps,d.memoizedState=i.memoizedState,d.updateQueue=i.updateQueue,a=i.dependencies,d.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},d.sibling=i.sibling,d.index=i.index,d.ref=i.ref,d}function pf(i,a,d,g,w,I){var V=2;if(g=i,typeof i=="function")l0(i)&&(V=1);else if(typeof i=="string")V=5;else e:switch(i){case _:return xa(d.children,w,I,a);case b:V=8,w|=8;break;case R:return i=Wr(12,d,a,w|2),i.elementType=R,i.lanes=I,i;case O:return i=Wr(13,d,a,w),i.elementType=O,i.lanes=I,i;case K:return i=Wr(19,d,a,w),i.elementType=K,i.lanes=I,i;case G:return mf(d,w,I,a);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case P:V=10;break e;case A:V=9;break e;case H:V=11;break e;case Y:V=14;break e;case F:V=16,g=null;break e}throw Error(n(130,i==null?i:typeof i,""))}return a=Wr(V,d,a,w),a.elementType=i,a.type=g,a.lanes=I,a}function xa(i,a,d,g){return i=Wr(7,i,g,a),i.lanes=d,i}function mf(i,a,d,g){return i=Wr(22,i,g,a),i.elementType=G,i.lanes=d,i.stateNode={isHidden:!1},i}function c0(i,a,d){return i=Wr(6,i,null,a),i.lanes=d,i}function u0(i,a,d){return a=Wr(4,i.children!==null?i.children:[],i.key,a),a.lanes=d,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}function bR(i,a,d,g,w){this.tag=a,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=no(0),this.expirationTimes=no(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=no(0),this.identifierPrefix=g,this.onRecoverableError=w,this.mutableSourceEagerHydrationData=null}function d0(i,a,d,g,w,I,V,q,Q){return i=new bR(i,a,d,q,Q),a===1?(a=1,I===!0&&(a|=8)):a=0,I=Wr(3,null,null,a),i.current=I,I.stateNode=i,I.memoizedState={element:g,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},Tg(I),i}function CR(i,a,d){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:x,key:g==null?null:""+g,children:i,containerInfo:a,implementation:d}}function uE(i){if(!i)return fo;i=i._reactInternals;e:{if(rs(i)!==i||i.tag!==1)throw Error(n(170));var a=i;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(lr(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(n(171))}if(i.tag===1){var d=i.type;if(lr(d))return Fw(i,d,a)}return a}function dE(i,a,d,g,w,I,V,q,Q){return i=d0(d,g,!0,i,w,I,V,q,Q),i.context=uE(null),d=i.current,g=nr(),w=_o(d),I=bi(g,w),I.callback=a??null,go(d,I,w),i.current.lanes=w,ro(i,w,g),dr(i,g),i}function gf(i,a,d,g){var w=a.current,I=nr(),V=_o(w);return d=uE(d),a.context===null?a.context=d:a.pendingContext=d,a=bi(I,V),a.payload={element:i},g=g===void 0?null:g,g!==null&&(a.callback=g),i=go(w,a,V),i!==null&&(ms(i,w,V,I),Gh(i,w,V)),V}function vf(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function hE(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var d=i.retryLane;i.retryLane=d!==0&&d<a?d:a}}function h0(i,a){hE(i,a),(i=i.alternate)&&hE(i,a)}function IR(){return null}var fE=typeof reportError=="function"?reportError:function(i){console.error(i)};function f0(i){this._internalRoot=i}yf.prototype.render=f0.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(n(409));gf(i,a,null,null)},yf.prototype.unmount=f0.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;_a(function(){gf(null,i,null,null)}),a[_i]=null}};function yf(i){this._internalRoot=i}yf.prototype.unstable_scheduleHydration=function(i){if(i){var a=vh();i={blockedOn:null,target:i,priority:a};for(var d=0;d<zs.length&&a!==0&&a<zs[d].priority;d++);zs.splice(d,0,i),d===0&&_h(i)}};function p0(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function wf(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function pE(){}function AR(i,a,d,g,w){if(w){if(typeof g=="function"){var I=g;g=function(){var oe=vf(V);I.call(oe)}}var V=dE(a,g,i,0,null,!1,!1,"",pE);return i._reactRootContainer=V,i[_i]=V.current,gu(i.nodeType===8?i.parentNode:i),_a(),V}for(;w=i.lastChild;)i.removeChild(w);if(typeof g=="function"){var q=g;g=function(){var oe=vf(Q);q.call(oe)}}var Q=d0(i,0,!1,null,null,!1,!1,"",pE);return i._reactRootContainer=Q,i[_i]=Q.current,gu(i.nodeType===8?i.parentNode:i),_a(function(){gf(a,Q,d,g)}),Q}function _f(i,a,d,g,w){var I=d._reactRootContainer;if(I){var V=I;if(typeof w=="function"){var q=w;w=function(){var Q=vf(V);q.call(Q)}}gf(a,V,i,w)}else V=AR(d,a,i,w,g);return vf(V)}mh=function(i){switch(i.tag){case 3:var a=i.stateNode;if(a.current.memoizedState.isDehydrated){var d=to(a.pendingLanes);d!==0&&(so(a,d|1),dr(a,Ot()),(bt&6)===0&&(zl=Ot()+500,po()))}break;case 13:_a(function(){var g=Ti(i,1);if(g!==null){var w=nr();ms(g,i,1,w)}}),h0(i,1)}},ml=function(i){if(i.tag===13){var a=Ti(i,134217728);if(a!==null){var d=nr();ms(a,i,134217728,d)}h0(i,134217728)}},gh=function(i){if(i.tag===13){var a=_o(i),d=Ti(i,a);if(d!==null){var g=nr();ms(d,i,a,g)}h0(i,a)}},vh=function(){return yt},yh=function(i,a){var d=yt;try{return yt=i,a()}finally{yt=d}},ft=function(i,a,d){switch(a){case"input":if(de(i,d),a=d.name,d.type==="radio"&&a!=null){for(d=i;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<d.length;a++){var g=d[a];if(g!==i&&g.form===i.form){var w=Oh(g);if(!w)throw Error(n(90));mt(g),de(g,w)}}}break;case"textarea":mn(i,d);break;case"select":a=d.value,a!=null&&tt(i,!!d.multiple,a,!1)}},Nt=i0,Zt=_a;var RR={usingClientEntryPoint:!1,Events:[wu,Nl,Oh,Fe,et,i0]},Du={findFiberByHostInstance:ha,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},PR={bundleType:Du.bundleType,version:Du.version,rendererPackageName:Du.rendererPackageName,rendererConfig:Du.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:m.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=eu(i),i===null?null:i.stateNode},findFiberByHostInstance:Du.findFiberByHostInstance||IR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ef=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ef.isDisabled&&Ef.supportsFiber)try{ia=Ef.inject(PR),Er=Ef}catch{}}return hr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=RR,hr.createPortal=function(i,a){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p0(a))throw Error(n(200));return CR(i,a,null,d)},hr.createRoot=function(i,a){if(!p0(i))throw Error(n(299));var d=!1,g="",w=fE;return a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onRecoverableError!==void 0&&(w=a.onRecoverableError)),a=d0(i,1,!1,null,null,d,!1,g,w),i[_i]=a.current,gu(i.nodeType===8?i.parentNode:i),new f0(a)},hr.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=eu(a),i=i===null?null:i.stateNode,i},hr.flushSync=function(i){return _a(i)},hr.hydrate=function(i,a,d){if(!wf(a))throw Error(n(200));return _f(null,i,a,!0,d)},hr.hydrateRoot=function(i,a,d){if(!p0(i))throw Error(n(405));var g=d!=null&&d.hydratedSources||null,w=!1,I="",V=fE;if(d!=null&&(d.unstable_strictMode===!0&&(w=!0),d.identifierPrefix!==void 0&&(I=d.identifierPrefix),d.onRecoverableError!==void 0&&(V=d.onRecoverableError)),a=dE(a,null,i,1,d??null,w,!1,I,V),i[_i]=a.current,gu(i),g)for(i=0;i<g.length;i++)d=g[i],w=d._getVersion,w=w(d._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[d,w]:a.mutableSourceEagerHydrationData.push(d,w);return new yf(a)},hr.render=function(i,a,d){if(!wf(a))throw Error(n(200));return _f(null,i,a,!1,d)},hr.unmountComponentAtNode=function(i){if(!wf(i))throw Error(n(40));return i._reactRootContainer?(_a(function(){_f(null,null,i,!1,function(){i._reactRootContainer=null,i[_i]=null})}),!0):!1},hr.unstable_batchedUpdates=i0,hr.unstable_renderSubtreeIntoContainer=function(i,a,d,g){if(!wf(d))throw Error(n(200));if(i==null||i._reactInternals===void 0)throw Error(n(38));return _f(i,a,d,!1,g)},hr.version="18.3.1-next-f1338f8080-20240426",hr}var SE;function zS(){if(SE)return v0.exports;SE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),v0.exports=UR(),v0.exports}var xE;function HR(){if(xE)return Sf;xE=1;var t=zS();return Sf.createRoot=t.createRoot,Sf.hydrateRoot=t.hydrateRoot,Sf}var BR=HR();const $R=ol(BR);var E=yy();const xe=ol(E),WS=jR({__proto__:null,default:xe},[E]);/**
 * react-router v7.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var TE="popstate";function zR(t={}){function e(r,s){let{pathname:o,search:l,hash:u}=r.location;return dv("",{pathname:o,search:l,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:md(s)}return GR(e,n,null,t)}function Yt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Is(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function WR(){return Math.random().toString(36).substring(2,10)}function bE(t,e){return{usr:t.state,key:t.key,idx:e}}function dv(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Lc(e):e,state:n,key:e&&e.key||r||WR()}}function md({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Lc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function GR(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:o=!1}=r,l=s.history,u="POP",h=null,p=v();p==null&&(p=0,l.replaceState({...l.state,idx:p},""));function v(){return(l.state||{idx:null}).idx}function y(){u="POP";let j=v(),L=j==null?null:j-p;p=j,h&&h({action:u,location:D.location,delta:L})}function T(j,L){u="PUSH";let U=dv(D.location,j,L);p=v()+1;let B=bE(U,p),m=D.createHref(U);try{l.pushState(B,"",m)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(m)}o&&h&&h({action:u,location:D.location,delta:1})}function k(j,L){u="REPLACE";let U=dv(D.location,j,L);p=v();let B=bE(U,p),m=D.createHref(U);l.replaceState(B,"",m),o&&h&&h({action:u,location:D.location,delta:0})}function N(j){return qR(j)}let D={get action(){return u},get location(){return t(s,l)},listen(j){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(TE,y),h=j,()=>{s.removeEventListener(TE,y),h=null}},createHref(j){return e(s,j)},createURL:N,encodeLocation(j){let L=N(j);return{pathname:L.pathname,search:L.search,hash:L.hash}},push:T,replace:k,go(j){return l.go(j)}};return D}function qR(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Yt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:md(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function GS(t,e,n="/"){return KR(t,e,n,!1)}function KR(t,e,n,r){let s=typeof e=="string"?Lc(e):e,o=Ui(s.pathname||"/",n);if(o==null)return null;let l=qS(t);YR(l);let u=null;for(let h=0;u==null&&h<l.length;++h){let p=oP(o);u=sP(l[h],p,r)}return u}function qS(t,e=[],n=[],r=""){let s=(o,l,u)=>{let h={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};h.relativePath.startsWith("/")&&(Yt(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length));let p=Li([r,h.relativePath]),v=n.concat(h);o.children&&o.children.length>0&&(Yt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),qS(o.children,e,v,p)),!(o.path==null&&!o.index)&&e.push({path:p,score:nP(p,o.index),routesMeta:v})};return t.forEach((o,l)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))s(o,l);else for(let h of KS(o.path))s(o,l,h)}),e}function KS(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let l=KS(r.join("/")),u=[];return u.push(...l.map(h=>h===""?o:[o,h].join("/"))),s&&u.push(...l),u.map(h=>t.startsWith("/")&&h===""?"/":h)}function YR(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:rP(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var ZR=/^:[\w-]+$/,QR=3,XR=2,JR=1,eP=10,tP=-2,CE=t=>t==="*";function nP(t,e){let n=t.split("/"),r=n.length;return n.some(CE)&&(r+=tP),e&&(r+=XR),n.filter(s=>!CE(s)).reduce((s,o)=>s+(ZR.test(o)?QR:o===""?JR:eP),r)}function rP(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function sP(t,e,n=!1){let{routesMeta:r}=t,s={},o="/",l=[];for(let u=0;u<r.length;++u){let h=r[u],p=u===r.length-1,v=o==="/"?e:e.slice(o.length)||"/",y=pp({path:h.relativePath,caseSensitive:h.caseSensitive,end:p},v),T=h.route;if(!y&&p&&n&&!r[r.length-1].route.index&&(y=pp({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},v)),!y)return null;Object.assign(s,y.params),l.push({params:s,pathname:Li([o,y.pathname]),pathnameBase:uP(Li([o,y.pathnameBase])),route:T}),y.pathnameBase!=="/"&&(o=Li([o,y.pathnameBase]))}return l}function pp(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=iP(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let o=s[0],l=o.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:r.reduce((p,{paramName:v,isOptional:y},T)=>{if(v==="*"){let N=u[T]||"";l=o.slice(0,o.length-N.length).replace(/(.)\/+$/,"$1")}const k=u[T];return y&&!k?p[v]=void 0:p[v]=(k||"").replace(/%2F/g,"/"),p},{}),pathname:o,pathnameBase:l,pattern:t}}function iP(t,e=!1,n=!0){Is(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,h)=>(r.push({paramName:u,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function oP(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Is(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ui(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function aP(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Lc(t):t;return{pathname:n?n.startsWith("/")?n:lP(n,e):e,search:dP(r),hash:hP(s)}}function lP(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function _0(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function cP(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function wy(t){let e=cP(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function _y(t,e,n,r=!1){let s;typeof t=="string"?s=Lc(t):(s={...t},Yt(!s.pathname||!s.pathname.includes("?"),_0("?","pathname","search",s)),Yt(!s.pathname||!s.pathname.includes("#"),_0("#","pathname","hash",s)),Yt(!s.search||!s.search.includes("#"),_0("#","search","hash",s)));let o=t===""||s.pathname==="",l=o?"/":s.pathname,u;if(l==null)u=n;else{let y=e.length-1;if(!r&&l.startsWith("..")){let T=l.split("/");for(;T[0]==="..";)T.shift(),y-=1;s.pathname=T.join("/")}u=y>=0?e[y]:"/"}let h=aP(s,u),p=l&&l!=="/"&&l.endsWith("/"),v=(o||l===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(p||v)&&(h.pathname+="/"),h}var Li=t=>t.join("/").replace(/\/\/+/g,"/"),uP=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),dP=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,hP=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function fP(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var YS=["POST","PUT","PATCH","DELETE"];new Set(YS);var pP=["GET",...YS];new Set(pP);var Fc=E.createContext(null);Fc.displayName="DataRouter";var Xp=E.createContext(null);Xp.displayName="DataRouterState";E.createContext(!1);var ZS=E.createContext({isTransitioning:!1});ZS.displayName="ViewTransition";var mP=E.createContext(new Map);mP.displayName="Fetchers";var gP=E.createContext(null);gP.displayName="Await";var ks=E.createContext(null);ks.displayName="Navigation";var Fd=E.createContext(null);Fd.displayName="Location";var Ds=E.createContext({outlet:null,matches:[],isDataRoute:!1});Ds.displayName="Route";var Ey=E.createContext(null);Ey.displayName="RouteError";function vP(t,{relative:e}={}){Yt(Vc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=E.useContext(ks),{hash:s,pathname:o,search:l}=Vd(t,{relative:e}),u=o;return n!=="/"&&(u=o==="/"?n:Li([n,o])),r.createHref({pathname:u,search:l,hash:s})}function Vc(){return E.useContext(Fd)!=null}function Mr(){return Yt(Vc(),"useLocation() may be used only in the context of a <Router> component."),E.useContext(Fd).location}var QS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function XS(t){E.useContext(ks).static||E.useLayoutEffect(t)}function js(){let{isDataRoute:t}=E.useContext(Ds);return t?PP():yP()}function yP(){Yt(Vc(),"useNavigate() may be used only in the context of a <Router> component.");let t=E.useContext(Fc),{basename:e,navigator:n}=E.useContext(ks),{matches:r}=E.useContext(Ds),{pathname:s}=Mr(),o=JSON.stringify(wy(r)),l=E.useRef(!1);return XS(()=>{l.current=!0}),E.useCallback((h,p={})=>{if(Is(l.current,QS),!l.current)return;if(typeof h=="number"){n.go(h);return}let v=_y(h,JSON.parse(o),s,p.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Li([e,v.pathname])),(p.replace?n.replace:n.push)(v,p.state,p)},[e,n,o,s,t])}E.createContext(null);function JS(){let{matches:t}=E.useContext(Ds),e=t[t.length-1];return e?e.params:{}}function Vd(t,{relative:e}={}){let{matches:n}=E.useContext(Ds),{pathname:r}=Mr(),s=JSON.stringify(wy(n));return E.useMemo(()=>_y(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function wP(t,e){return ex(t,e)}function ex(t,e,n,r){var L;Yt(Vc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=E.useContext(ks),{matches:o}=E.useContext(Ds),l=o[o.length-1],u=l?l.params:{},h=l?l.pathname:"/",p=l?l.pathnameBase:"/",v=l&&l.route;{let U=v&&v.path||"";tx(h,!v||U.endsWith("*")||U.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${U}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${U}"> to <Route path="${U==="/"?"*":`${U}/*`}">.`)}let y=Mr(),T;if(e){let U=typeof e=="string"?Lc(e):e;Yt(p==="/"||((L=U.pathname)==null?void 0:L.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${U.pathname}" was given in the \`location\` prop.`),T=U}else T=y;let k=T.pathname||"/",N=k;if(p!=="/"){let U=p.replace(/^\//,"").split("/");N="/"+k.replace(/^\//,"").split("/").slice(U.length).join("/")}let D=GS(t,{pathname:N});Is(v||D!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),Is(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=TP(D&&D.map(U=>Object.assign({},U,{params:Object.assign({},u,U.params),pathname:Li([p,s.encodeLocation?s.encodeLocation(U.pathname).pathname:U.pathname]),pathnameBase:U.pathnameBase==="/"?p:Li([p,s.encodeLocation?s.encodeLocation(U.pathnameBase).pathname:U.pathnameBase])})),o,n,r);return e&&j?E.createElement(Fd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},j):j}function _P(){let t=RP(),e=fP(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=E.createElement(E.Fragment,null,E.createElement("p",null," Hey developer "),E.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",E.createElement("code",{style:o},"ErrorBoundary")," or"," ",E.createElement("code",{style:o},"errorElement")," prop on your route.")),E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},e),n?E.createElement("pre",{style:s},n):null,l)}var EP=E.createElement(_P,null),SP=class extends E.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?E.createElement(Ds.Provider,{value:this.props.routeContext},E.createElement(Ey.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function xP({routeContext:t,match:e,children:n}){let r=E.useContext(Fc);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),E.createElement(Ds.Provider,{value:t},n)}function TP(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,o=n==null?void 0:n.errors;if(o!=null){let h=s.findIndex(p=>p.route.id&&(o==null?void 0:o[p.route.id])!==void 0);Yt(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,h+1))}let l=!1,u=-1;if(n)for(let h=0;h<s.length;h++){let p=s[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=h),p.route.id){let{loaderData:v,errors:y}=n,T=p.route.loader&&!v.hasOwnProperty(p.route.id)&&(!y||y[p.route.id]===void 0);if(p.route.lazy||T){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((h,p,v)=>{let y,T=!1,k=null,N=null;n&&(y=o&&p.route.id?o[p.route.id]:void 0,k=p.route.errorElement||EP,l&&(u<0&&v===0?(tx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,N=null):u===v&&(T=!0,N=p.route.hydrateFallbackElement||null)));let D=e.concat(s.slice(0,v+1)),j=()=>{let L;return y?L=k:T?L=N:p.route.Component?L=E.createElement(p.route.Component,null):p.route.element?L=p.route.element:L=h,E.createElement(xP,{match:p,routeContext:{outlet:h,matches:D,isDataRoute:n!=null},children:L})};return n&&(p.route.ErrorBoundary||p.route.errorElement||v===0)?E.createElement(SP,{location:n.location,revalidation:n.revalidation,component:k,error:y,children:j(),routeContext:{outlet:null,matches:D,isDataRoute:!0}}):j()},null)}function Sy(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bP(t){let e=E.useContext(Fc);return Yt(e,Sy(t)),e}function CP(t){let e=E.useContext(Xp);return Yt(e,Sy(t)),e}function IP(t){let e=E.useContext(Ds);return Yt(e,Sy(t)),e}function xy(t){let e=IP(t),n=e.matches[e.matches.length-1];return Yt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function AP(){return xy("useRouteId")}function RP(){var r;let t=E.useContext(Ey),e=CP("useRouteError"),n=xy("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function PP(){let{router:t}=bP("useNavigate"),e=xy("useNavigate"),n=E.useRef(!1);return XS(()=>{n.current=!0}),E.useCallback(async(s,o={})=>{Is(n.current,QS),n.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...o}))},[t,e])}var IE={};function tx(t,e,n){!e&&!IE[t]&&(IE[t]=!0,Is(!1,n))}E.memo(NP);function NP({routes:t,future:e,state:n}){return ex(t,void 0,n,e)}function nx({to:t,replace:e,state:n,relative:r}){Yt(Vc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=E.useContext(ks);Is(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=E.useContext(Ds),{pathname:l}=Mr(),u=js(),h=_y(t,wy(o),l,r==="path"),p=JSON.stringify(h);return E.useEffect(()=>{u(JSON.parse(p),{replace:e,state:n,relative:r})},[u,p,r,e,n]),null}function fr(t){Yt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function kP({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:o=!1}){Yt(!Vc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),u=E.useMemo(()=>({basename:l,navigator:s,static:o,future:{}}),[l,s,o]);typeof n=="string"&&(n=Lc(n));let{pathname:h="/",search:p="",hash:v="",state:y=null,key:T="default"}=n,k=E.useMemo(()=>{let N=Ui(h,l);return N==null?null:{location:{pathname:N,search:p,hash:v,state:y,key:T},navigationType:r}},[l,h,p,v,y,T,r]);return Is(k!=null,`<Router basename="${l}"> is not able to match the URL "${h}${p}${v}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:E.createElement(ks.Provider,{value:u},E.createElement(Fd.Provider,{children:e,value:k}))}function DP({children:t,location:e}){return wP(hv(t),e)}function hv(t,e=[]){let n=[];return E.Children.forEach(t,(r,s)=>{if(!E.isValidElement(r))return;let o=[...e,s];if(r.type===E.Fragment){n.push.apply(n,hv(r.props.children,o));return}Yt(r.type===fr,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Yt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=hv(r.props.children,o)),n.push(l)}),n}var Wf="get",Gf="application/x-www-form-urlencoded";function Jp(t){return t!=null&&typeof t.tagName=="string"}function jP(t){return Jp(t)&&t.tagName.toLowerCase()==="button"}function MP(t){return Jp(t)&&t.tagName.toLowerCase()==="form"}function OP(t){return Jp(t)&&t.tagName.toLowerCase()==="input"}function LP(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function FP(t,e){return t.button===0&&(!e||e==="_self")&&!LP(t)}var xf=null;function VP(){if(xf===null)try{new FormData(document.createElement("form"),0),xf=!1}catch{xf=!0}return xf}var UP=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function E0(t){return t!=null&&!UP.has(t)?(Is(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Gf}"`),null):t}function HP(t,e){let n,r,s,o,l;if(MP(t)){let u=t.getAttribute("action");r=u?Ui(u,e):null,n=t.getAttribute("method")||Wf,s=E0(t.getAttribute("enctype"))||Gf,o=new FormData(t)}else if(jP(t)||OP(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=t.getAttribute("formaction")||u.getAttribute("action");if(r=h?Ui(h,e):null,n=t.getAttribute("formmethod")||u.getAttribute("method")||Wf,s=E0(t.getAttribute("formenctype"))||E0(u.getAttribute("enctype"))||Gf,o=new FormData(u,t),!VP()){let{name:p,type:v,value:y}=t;if(v==="image"){let T=p?`${p}.`:"";o.append(`${T}x`,"0"),o.append(`${T}y`,"0")}else p&&o.append(p,y)}}else{if(Jp(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Wf,r=null,s=Gf,l=t}return o&&s==="text/plain"&&(l=o,o=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:o,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ty(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function BP(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Ui(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function $P(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function zP(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function WP(t,e,n){let r=await Promise.all(t.map(async s=>{let o=e.routes[s.route.id];if(o){let l=await $P(o,n);return l.links?l.links():[]}return[]}));return YP(r.flat(1).filter(zP).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function AE(t,e,n,r,s,o){let l=(h,p)=>n[p]?h.route.id!==n[p].route.id:!0,u=(h,p)=>{var v;return n[p].pathname!==h.pathname||((v=n[p].route.path)==null?void 0:v.endsWith("*"))&&n[p].params["*"]!==h.params["*"]};return o==="assets"?e.filter((h,p)=>l(h,p)||u(h,p)):o==="data"?e.filter((h,p)=>{var y;let v=r.routes[h.route.id];if(!v||!v.hasLoader)return!1;if(l(h,p)||u(h,p))return!0;if(h.route.shouldRevalidate){let T=h.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((y=n[0])==null?void 0:y.params)||{},nextUrl:new URL(t,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function GP(t,e,{includeHydrateFallback:n}={}){return qP(t.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function qP(t){return[...new Set(t)]}function KP(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function YP(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let o=JSON.stringify(KP(s));return n.has(o)||(n.add(o),r.push({key:o,link:s})),r},[])}function rx(){let t=E.useContext(Fc);return Ty(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function ZP(){let t=E.useContext(Xp);return Ty(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var by=E.createContext(void 0);by.displayName="FrameworkContext";function sx(){let t=E.useContext(by);return Ty(t,"You must render this element inside a <HydratedRouter> element"),t}function QP(t,e){let n=E.useContext(by),[r,s]=E.useState(!1),[o,l]=E.useState(!1),{onFocus:u,onBlur:h,onMouseEnter:p,onMouseLeave:v,onTouchStart:y}=e,T=E.useRef(null);E.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let D=L=>{L.forEach(U=>{l(U.isIntersecting)})},j=new IntersectionObserver(D,{threshold:.5});return T.current&&j.observe(T.current),()=>{j.disconnect()}}},[t]),E.useEffect(()=>{if(r){let D=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(D)}}},[r]);let k=()=>{s(!0)},N=()=>{s(!1),l(!1)};return n?t!=="intent"?[o,T,{}]:[o,T,{onFocus:Mu(u,k),onBlur:Mu(h,N),onMouseEnter:Mu(p,k),onMouseLeave:Mu(v,N),onTouchStart:Mu(y,k)}]:[!1,T,{}]}function Mu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function XP({page:t,...e}){let{router:n}=rx(),r=E.useMemo(()=>GS(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?E.createElement(eN,{page:t,matches:r,...e}):null}function JP(t){let{manifest:e,routeModules:n}=sx(),[r,s]=E.useState([]);return E.useEffect(()=>{let o=!1;return WP(t,e,n).then(l=>{o||s(l)}),()=>{o=!0}},[t,e,n]),r}function eN({page:t,matches:e,...n}){let r=Mr(),{manifest:s,routeModules:o}=sx(),{basename:l}=rx(),{loaderData:u,matches:h}=ZP(),p=E.useMemo(()=>AE(t,e,h,s,r,"data"),[t,e,h,s,r]),v=E.useMemo(()=>AE(t,e,h,s,r,"assets"),[t,e,h,s,r]),y=E.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let N=new Set,D=!1;if(e.forEach(L=>{var B;let U=s.routes[L.route.id];!U||!U.hasLoader||(!p.some(m=>m.route.id===L.route.id)&&L.route.id in u&&((B=o[L.route.id])!=null&&B.shouldRevalidate)||U.hasClientLoader?D=!0:N.add(L.route.id))}),N.size===0)return[];let j=BP(t,l,"data");return D&&N.size>0&&j.searchParams.set("_routes",e.filter(L=>N.has(L.route.id)).map(L=>L.route.id).join(",")),[j.pathname+j.search]},[l,u,r,s,p,e,t,o]),T=E.useMemo(()=>GP(v,s),[v,s]),k=JP(v);return E.createElement(E.Fragment,null,y.map(N=>E.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...n})),T.map(N=>E.createElement("link",{key:N,rel:"modulepreload",href:N,...n})),k.map(({key:N,link:D})=>E.createElement("link",{key:N,nonce:n.nonce,...D})))}function tN(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var ix=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ix&&(window.__reactRouterVersion="7.8.0")}catch{}function nN({basename:t,children:e,window:n}){let r=E.useRef();r.current==null&&(r.current=zR({window:n,v5Compat:!0}));let s=r.current,[o,l]=E.useState({action:s.action,location:s.location}),u=E.useCallback(h=>{E.startTransition(()=>l(h))},[l]);return E.useLayoutEffect(()=>s.listen(u),[s,u]),E.createElement(kP,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:s})}var ox=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ht=E.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:s,reloadDocument:o,replace:l,state:u,target:h,to:p,preventScrollReset:v,viewTransition:y,...T},k){let{basename:N}=E.useContext(ks),D=typeof p=="string"&&ox.test(p),j,L=!1;if(typeof p=="string"&&D&&(j=p,ix))try{let R=new URL(window.location.href),P=p.startsWith("//")?new URL(R.protocol+p):new URL(p),A=Ui(P.pathname,N);P.origin===R.origin&&A!=null?p=A+P.search+P.hash:L=!0}catch{Is(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let U=vP(p,{relative:s}),[B,m,S]=QP(r,T),x=oN(p,{replace:l,state:u,target:h,preventScrollReset:v,relative:s,viewTransition:y});function _(R){e&&e(R),R.defaultPrevented||x(R)}let b=E.createElement("a",{...T,...S,href:j||U,onClick:L||o?e:_,ref:tN(k,m),target:h,"data-discover":!D&&n==="render"?"true":void 0});return B&&!D?E.createElement(E.Fragment,null,b,E.createElement(XP,{page:U})):b});Ht.displayName="Link";var rN=E.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:s=!1,style:o,to:l,viewTransition:u,children:h,...p},v){let y=Vd(l,{relative:p.relative}),T=Mr(),k=E.useContext(Xp),{navigator:N,basename:D}=E.useContext(ks),j=k!=null&&dN(y)&&u===!0,L=N.encodeLocation?N.encodeLocation(y).pathname:y.pathname,U=T.pathname,B=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;n||(U=U.toLowerCase(),B=B?B.toLowerCase():null,L=L.toLowerCase()),B&&D&&(B=Ui(B,D)||B);const m=L!=="/"&&L.endsWith("/")?L.length-1:L.length;let S=U===L||!s&&U.startsWith(L)&&U.charAt(m)==="/",x=B!=null&&(B===L||!s&&B.startsWith(L)&&B.charAt(L.length)==="/"),_={isActive:S,isPending:x,isTransitioning:j},b=S?e:void 0,R;typeof r=="function"?R=r(_):R=[r,S?"active":null,x?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let P=typeof o=="function"?o(_):o;return E.createElement(Ht,{...p,"aria-current":b,className:R,ref:v,style:P,to:l,viewTransition:u},typeof h=="function"?h(_):h)});rN.displayName="NavLink";var sN=E.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:o,method:l=Wf,action:u,onSubmit:h,relative:p,preventScrollReset:v,viewTransition:y,...T},k)=>{let N=cN(),D=uN(u,{relative:p}),j=l.toLowerCase()==="get"?"get":"post",L=typeof u=="string"&&ox.test(u),U=B=>{if(h&&h(B),B.defaultPrevented)return;B.preventDefault();let m=B.nativeEvent.submitter,S=(m==null?void 0:m.getAttribute("formmethod"))||l;N(m||B.currentTarget,{fetcherKey:e,method:S,navigate:n,replace:s,state:o,relative:p,preventScrollReset:v,viewTransition:y})};return E.createElement("form",{ref:k,method:j,action:D,onSubmit:r?h:U,...T,"data-discover":!L&&t==="render"?"true":void 0})});sN.displayName="Form";function iN(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ax(t){let e=E.useContext(Fc);return Yt(e,iN(t)),e}function oN(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:o,viewTransition:l}={}){let u=js(),h=Mr(),p=Vd(t,{relative:o});return E.useCallback(v=>{if(FP(v,e)){v.preventDefault();let y=n!==void 0?n:md(h)===md(p);u(t,{replace:y,state:r,preventScrollReset:s,relative:o,viewTransition:l})}},[h,u,p,n,r,e,t,s,o,l])}var aN=0,lN=()=>`__${String(++aN)}__`;function cN(){let{router:t}=ax("useSubmit"),{basename:e}=E.useContext(ks),n=AP();return E.useCallback(async(r,s={})=>{let{action:o,method:l,encType:u,formData:h,body:p}=HP(r,e);if(s.navigate===!1){let v=s.fetcherKey||lN();await t.fetch(v,n,s.action||o,{preventScrollReset:s.preventScrollReset,formData:h,body:p,formMethod:s.method||l,formEncType:s.encType||u,flushSync:s.flushSync})}else await t.navigate(s.action||o,{preventScrollReset:s.preventScrollReset,formData:h,body:p,formMethod:s.method||l,formEncType:s.encType||u,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function uN(t,{relative:e}={}){let{basename:n}=E.useContext(ks),r=E.useContext(Ds);Yt(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),o={...Vd(t||".",{relative:e})},l=Mr();if(t==null){o.search=l.search;let u=new URLSearchParams(o.search),h=u.getAll("index");if(h.some(v=>v==="")){u.delete("index"),h.filter(y=>y).forEach(y=>u.append("index",y));let v=u.toString();o.search=v?`?${v}`:""}}return(!t||t===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:Li([n,o.pathname])),md(o)}function dN(t,{relative:e}={}){let n=E.useContext(ZS);Yt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=ax("useViewTransitionState"),s=Vd(t,{relative:e});if(!n.isTransitioning)return!1;let o=Ui(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=Ui(n.nextLocation.pathname,r)||n.nextLocation.pathname;return pp(s.pathname,l)!=null||pp(s.pathname,o)!=null}var Cy=zS();const lx=ol(Cy);var S0,RE;function hN(){if(RE)return S0;RE=1;var t=typeof Element<"u",e=typeof Map=="function",n=typeof Set=="function",r=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function s(o,l){if(o===l)return!0;if(o&&l&&typeof o=="object"&&typeof l=="object"){if(o.constructor!==l.constructor)return!1;var u,h,p;if(Array.isArray(o)){if(u=o.length,u!=l.length)return!1;for(h=u;h--!==0;)if(!s(o[h],l[h]))return!1;return!0}var v;if(e&&o instanceof Map&&l instanceof Map){if(o.size!==l.size)return!1;for(v=o.entries();!(h=v.next()).done;)if(!l.has(h.value[0]))return!1;for(v=o.entries();!(h=v.next()).done;)if(!s(h.value[1],l.get(h.value[0])))return!1;return!0}if(n&&o instanceof Set&&l instanceof Set){if(o.size!==l.size)return!1;for(v=o.entries();!(h=v.next()).done;)if(!l.has(h.value[0]))return!1;return!0}if(r&&ArrayBuffer.isView(o)&&ArrayBuffer.isView(l)){if(u=o.length,u!=l.length)return!1;for(h=u;h--!==0;)if(o[h]!==l[h])return!1;return!0}if(o.constructor===RegExp)return o.source===l.source&&o.flags===l.flags;if(o.valueOf!==Object.prototype.valueOf&&typeof o.valueOf=="function"&&typeof l.valueOf=="function")return o.valueOf()===l.valueOf();if(o.toString!==Object.prototype.toString&&typeof o.toString=="function"&&typeof l.toString=="function")return o.toString()===l.toString();if(p=Object.keys(o),u=p.length,u!==Object.keys(l).length)return!1;for(h=u;h--!==0;)if(!Object.prototype.hasOwnProperty.call(l,p[h]))return!1;if(t&&o instanceof Element)return!1;for(h=u;h--!==0;)if(!((p[h]==="_owner"||p[h]==="__v"||p[h]==="__o")&&o.$$typeof)&&!s(o[p[h]],l[p[h]]))return!1;return!0}return o!==o&&l!==l}return S0=function(l,u){try{return s(l,u)}catch(h){if((h.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw h}},S0}var fN=hN();const pN=ol(fN);var x0,PE;function mN(){if(PE)return x0;PE=1;var t=function(e,n,r,s,o,l,u,h){if(!e){var p;if(n===void 0)p=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var v=[r,s,o,l,u,h],y=0;p=new Error(n.replace(/%s/g,function(){return v[y++]})),p.name="Invariant Violation"}throw p.framesToPop=1,p}};return x0=t,x0}var gN=mN();const NE=ol(gN);var T0,kE;function vN(){return kE||(kE=1,T0=function(e,n,r,s){var o=r?r.call(s,e,n):void 0;if(o!==void 0)return!!o;if(e===n)return!0;if(typeof e!="object"||!e||typeof n!="object"||!n)return!1;var l=Object.keys(e),u=Object.keys(n);if(l.length!==u.length)return!1;for(var h=Object.prototype.hasOwnProperty.bind(n),p=0;p<l.length;p++){var v=l[p];if(!h(v))return!1;var y=e[v],T=n[v];if(o=r?r.call(s,y,T,v):void 0,o===!1||o===void 0&&y!==T)return!1}return!0}),T0}var yN=vN();const wN=ol(yN);var cx=(t=>(t.BASE="base",t.BODY="body",t.HEAD="head",t.HTML="html",t.LINK="link",t.META="meta",t.NOSCRIPT="noscript",t.SCRIPT="script",t.STYLE="style",t.TITLE="title",t.FRAGMENT="Symbol(react.fragment)",t))(cx||{}),b0={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},DE=Object.values(cx),Iy={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},_N=Object.entries(Iy).reduce((t,[e,n])=>(t[n]=e,t),{}),_s="data-rh",uc={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},dc=(t,e)=>{for(let n=t.length-1;n>=0;n-=1){const r=t[n];if(Object.prototype.hasOwnProperty.call(r,e))return r[e]}return null},EN=t=>{let e=dc(t,"title");const n=dc(t,uc.TITLE_TEMPLATE);if(Array.isArray(e)&&(e=e.join("")),n&&e)return n.replace(/%s/g,()=>e);const r=dc(t,uc.DEFAULT_TITLE);return e||r||void 0},SN=t=>dc(t,uc.ON_CHANGE_CLIENT_STATE)||(()=>{}),C0=(t,e)=>e.filter(n=>typeof n[t]<"u").map(n=>n[t]).reduce((n,r)=>({...n,...r}),{}),xN=(t,e)=>e.filter(n=>typeof n.base<"u").map(n=>n.base).reverse().reduce((n,r)=>{if(!n.length){const s=Object.keys(r);for(let o=0;o<s.length;o+=1){const u=s[o].toLowerCase();if(t.indexOf(u)!==-1&&r[u])return n.concat(r)}}return n},[]),TN=t=>console&&typeof console.warn=="function"&&console.warn(t),Ou=(t,e,n)=>{const r={};return n.filter(s=>Array.isArray(s[t])?!0:(typeof s[t]<"u"&&TN(`Helmet: ${t} should be of type "Array". Instead found type "${typeof s[t]}"`),!1)).map(s=>s[t]).reverse().reduce((s,o)=>{const l={};o.filter(h=>{let p;const v=Object.keys(h);for(let T=0;T<v.length;T+=1){const k=v[T],N=k.toLowerCase();e.indexOf(N)!==-1&&!(p==="rel"&&h[p].toLowerCase()==="canonical")&&!(N==="rel"&&h[N].toLowerCase()==="stylesheet")&&(p=N),e.indexOf(k)!==-1&&(k==="innerHTML"||k==="cssText"||k==="itemprop")&&(p=k)}if(!p||!h[p])return!1;const y=h[p].toLowerCase();return r[p]||(r[p]={}),l[p]||(l[p]={}),r[p][y]?!1:(l[p][y]=!0,!0)}).reverse().forEach(h=>s.push(h));const u=Object.keys(l);for(let h=0;h<u.length;h+=1){const p=u[h],v={...r[p],...l[p]};r[p]=v}return s},[]).reverse()},bN=(t,e)=>{if(Array.isArray(t)&&t.length){for(let n=0;n<t.length;n+=1)if(t[n][e])return!0}return!1},CN=t=>({baseTag:xN(["href"],t),bodyAttributes:C0("bodyAttributes",t),defer:dc(t,uc.DEFER),encode:dc(t,uc.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:C0("htmlAttributes",t),linkTags:Ou("link",["rel","href"],t),metaTags:Ou("meta",["name","charset","http-equiv","property","itemprop"],t),noscriptTags:Ou("noscript",["innerHTML"],t),onChangeClientState:SN(t),scriptTags:Ou("script",["src","innerHTML"],t),styleTags:Ou("style",["cssText"],t),title:EN(t),titleAttributes:C0("titleAttributes",t),prioritizeSeoTags:bN(t,uc.PRIORITIZE_SEO_TAGS)}),ux=t=>Array.isArray(t)?t.join(""):t,IN=(t,e)=>{const n=Object.keys(t);for(let r=0;r<n.length;r+=1)if(e[n[r]]&&e[n[r]].includes(t[n[r]]))return!0;return!1},I0=(t,e)=>Array.isArray(t)?t.reduce((n,r)=>(IN(r,e)?n.priority.push(r):n.default.push(r),n),{priority:[],default:[]}):{default:t,priority:[]},jE=(t,e)=>({...t,[e]:void 0}),AN=["noscript","script","style"],fv=(t,e=!0)=>e===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),dx=t=>Object.keys(t).reduce((e,n)=>{const r=typeof t[n]<"u"?`${n}="${t[n]}"`:`${n}`;return e?`${e} ${r}`:r},""),RN=(t,e,n,r)=>{const s=dx(n),o=ux(e);return s?`<${t} ${_s}="true" ${s}>${fv(o,r)}</${t}>`:`<${t} ${_s}="true">${fv(o,r)}</${t}>`},PN=(t,e,n=!0)=>e.reduce((r,s)=>{const o=s,l=Object.keys(o).filter(p=>!(p==="innerHTML"||p==="cssText")).reduce((p,v)=>{const y=typeof o[v]>"u"?v:`${v}="${fv(o[v],n)}"`;return p?`${p} ${y}`:y},""),u=o.innerHTML||o.cssText||"",h=AN.indexOf(t)===-1;return`${r}<${t} ${_s}="true" ${l}${h?"/>":`>${u}</${t}>`}`},""),hx=(t,e={})=>Object.keys(t).reduce((n,r)=>{const s=Iy[r];return n[s||r]=t[r],n},e),NN=(t,e,n)=>{const r={key:e,[_s]:!0},s=hx(n,r);return[xe.createElement("title",s,e)]},qf=(t,e)=>e.map((n,r)=>{const s={key:r,[_s]:!0};return Object.keys(n).forEach(o=>{const u=Iy[o]||o;if(u==="innerHTML"||u==="cssText"){const h=n.innerHTML||n.cssText;s.dangerouslySetInnerHTML={__html:h}}else s[u]=n[o]}),xe.createElement(t,s)}),Gr=(t,e,n=!0)=>{switch(t){case"title":return{toComponent:()=>NN(t,e.title,e.titleAttributes),toString:()=>RN(t,e.title,e.titleAttributes,n)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>hx(e),toString:()=>dx(e)};default:return{toComponent:()=>qf(t,e),toString:()=>PN(t,e,n)}}},kN=({metaTags:t,linkTags:e,scriptTags:n,encode:r})=>{const s=I0(t,b0.meta),o=I0(e,b0.link),l=I0(n,b0.script);return{priorityMethods:{toComponent:()=>[...qf("meta",s.priority),...qf("link",o.priority),...qf("script",l.priority)],toString:()=>`${Gr("meta",s.priority,r)} ${Gr("link",o.priority,r)} ${Gr("script",l.priority,r)}`},metaTags:s.default,linkTags:o.default,scriptTags:l.default}},DN=t=>{const{baseTag:e,bodyAttributes:n,encode:r=!0,htmlAttributes:s,noscriptTags:o,styleTags:l,title:u="",titleAttributes:h,prioritizeSeoTags:p}=t;let{linkTags:v,metaTags:y,scriptTags:T}=t,k={toComponent:()=>{},toString:()=>""};return p&&({priorityMethods:k,linkTags:v,metaTags:y,scriptTags:T}=kN(t)),{priority:k,base:Gr("base",e,r),bodyAttributes:Gr("bodyAttributes",n,r),htmlAttributes:Gr("htmlAttributes",s,r),link:Gr("link",v,r),meta:Gr("meta",y,r),noscript:Gr("noscript",o,r),script:Gr("script",T,r),style:Gr("style",l,r),title:Gr("title",{title:u,titleAttributes:h},r)}},pv=DN,Tf=[],fx=!!(typeof window<"u"&&window.document&&window.document.createElement),mv=class{constructor(t,e){Ai(this,"instances",[]);Ai(this,"canUseDOM",fx);Ai(this,"context");Ai(this,"value",{setHelmet:t=>{this.context.helmet=t},helmetInstances:{get:()=>this.canUseDOM?Tf:this.instances,add:t=>{(this.canUseDOM?Tf:this.instances).push(t)},remove:t=>{const e=(this.canUseDOM?Tf:this.instances).indexOf(t);(this.canUseDOM?Tf:this.instances).splice(e,1)}}});this.context=t,this.canUseDOM=e||!1,e||(t.helmet=pv({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},jN={},px=xe.createContext(jN),Ua,mx=(Ua=class extends E.Component{constructor(n){super(n);Ai(this,"helmetData");this.helmetData=new mv(this.props.context||{},Ua.canUseDOM)}render(){return xe.createElement(px.Provider,{value:this.helmetData.value},this.props.children)}},Ai(Ua,"canUseDOM",fx),Ua),Gl=(t,e)=>{const n=document.head||document.querySelector("head"),r=n.querySelectorAll(`${t}[${_s}]`),s=[].slice.call(r),o=[];let l;return e&&e.length&&e.forEach(u=>{const h=document.createElement(t);for(const p in u)if(Object.prototype.hasOwnProperty.call(u,p))if(p==="innerHTML")h.innerHTML=u.innerHTML;else if(p==="cssText")h.styleSheet?h.styleSheet.cssText=u.cssText:h.appendChild(document.createTextNode(u.cssText));else{const v=p,y=typeof u[v]>"u"?"":u[v];h.setAttribute(p,y)}h.setAttribute(_s,"true"),s.some((p,v)=>(l=v,h.isEqualNode(p)))?s.splice(l,1):o.push(h)}),s.forEach(u=>{var h;return(h=u.parentNode)==null?void 0:h.removeChild(u)}),o.forEach(u=>n.appendChild(u)),{oldTags:s,newTags:o}},gv=(t,e)=>{const n=document.getElementsByTagName(t)[0];if(!n)return;const r=n.getAttribute(_s),s=r?r.split(","):[],o=[...s],l=Object.keys(e);for(const u of l){const h=e[u]||"";n.getAttribute(u)!==h&&n.setAttribute(u,h),s.indexOf(u)===-1&&s.push(u);const p=o.indexOf(u);p!==-1&&o.splice(p,1)}for(let u=o.length-1;u>=0;u-=1)n.removeAttribute(o[u]);s.length===o.length?n.removeAttribute(_s):n.getAttribute(_s)!==l.join(",")&&n.setAttribute(_s,l.join(","))},MN=(t,e)=>{typeof t<"u"&&document.title!==t&&(document.title=ux(t)),gv("title",e)},ME=(t,e)=>{const{baseTag:n,bodyAttributes:r,htmlAttributes:s,linkTags:o,metaTags:l,noscriptTags:u,onChangeClientState:h,scriptTags:p,styleTags:v,title:y,titleAttributes:T}=t;gv("body",r),gv("html",s),MN(y,T);const k={baseTag:Gl("base",n),linkTags:Gl("link",o),metaTags:Gl("meta",l),noscriptTags:Gl("noscript",u),scriptTags:Gl("script",p),styleTags:Gl("style",v)},N={},D={};Object.keys(k).forEach(j=>{const{newTags:L,oldTags:U}=k[j];L.length&&(N[j]=L),U.length&&(D[j]=k[j].oldTags)}),e&&e(),h(t,N,D)},Lu=null,ON=t=>{Lu&&cancelAnimationFrame(Lu),t.defer?Lu=requestAnimationFrame(()=>{ME(t,()=>{Lu=null})}):(ME(t),Lu=null)},LN=ON,OE=class extends E.Component{constructor(){super(...arguments);Ai(this,"rendered",!1)}shouldComponentUpdate(e){return!wN(e,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:e}=this.props.context;e.remove(this),this.emitChange()}emitChange(){const{helmetInstances:e,setHelmet:n}=this.props.context;let r=null;const s=CN(e.get().map(o=>{const l={...o.props};return delete l.context,l}));mx.canUseDOM?LN(s):pv&&(r=pv(s)),n(r)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:e}=this.props.context;e.add(this),this.emitChange()}render(){return this.init(),null}},uv,FN=(uv=class extends E.Component{shouldComponentUpdate(t){return!pN(jE(this.props,"helmetData"),jE(t,"helmetData"))}mapNestedChildrenToProps(t,e){if(!e)return null;switch(t.type){case"script":case"noscript":return{innerHTML:e};case"style":return{cssText:e};default:throw new Error(`<${t.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(t,e,n,r){return{...e,[t.type]:[...e[t.type]||[],{...n,...this.mapNestedChildrenToProps(t,r)}]}}mapObjectTypeChildren(t,e,n,r){switch(t.type){case"title":return{...e,[t.type]:r,titleAttributes:{...n}};case"body":return{...e,bodyAttributes:{...n}};case"html":return{...e,htmlAttributes:{...n}};default:return{...e,[t.type]:{...n}}}}mapArrayTypeChildrenToProps(t,e){let n={...e};return Object.keys(t).forEach(r=>{n={...n,[r]:t[r]}}),n}warnOnInvalidChildren(t,e){return NE(DE.some(n=>t.type===n),typeof t.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${DE.join(", ")} are allowed. Helmet does not support rendering <${t.type}> elements. Refer to our API for more information.`),NE(!e||typeof e=="string"||Array.isArray(e)&&!e.some(n=>typeof n!="string"),`Helmet expects a string as a child of <${t.type}>. Did you forget to wrap your children in braces? ( <${t.type}>{\`\`}</${t.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(t,e){let n={};return xe.Children.forEach(t,r=>{if(!r||!r.props)return;const{children:s,...o}=r.props,l=Object.keys(o).reduce((h,p)=>(h[_N[p]||p]=o[p],h),{});let{type:u}=r;switch(typeof u=="symbol"?u=u.toString():this.warnOnInvalidChildren(r,s),u){case"Symbol(react.fragment)":e=this.mapChildrenToProps(s,e);break;case"link":case"meta":case"noscript":case"script":case"style":n=this.flattenArrayTypeChildren(r,n,l,s);break;default:e=this.mapObjectTypeChildren(r,e,l,s);break}}),this.mapArrayTypeChildrenToProps(n,e)}render(){const{children:t,...e}=this.props;let n={...e},{helmetData:r}=e;if(t&&(n=this.mapChildrenToProps(t,n)),r&&!(r instanceof mv)){const s=r;r=new mv(s.context,!0),delete n.helmetData}return r?xe.createElement(OE,{...n,context:r.value}):xe.createElement(px.Consumer,null,s=>xe.createElement(OE,{...n,context:s}))}},Ai(uv,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),uv);const At={Monthly:"monthly",Quarterly:"quarterly",Semiannually:"semiannually",Annually:"annually"},Ay={Monthly:12,Quarterly:4,Semiannually:2,Annually:1},Ne={USED:"used",NOT_USED:"not_used",PARTIALLY_USED:"partially_used",INACTIVE:"inactive"},kn={USED:"Redeemed",NOT_USED:"Not Used",PARTIALLY_USED:"Partially Used",INACTIVE:"Not Tracked"},Fu={HIDE_ALL:"hide",DO_NOT_HIDE:"do_not_hide"},Hn={USED:"#007B53",NOT_USED:"#0B0D0F",PARTIALLY_USED:"#005DCF",INACTIVE:"#B5BBC2"},LE={12:{width:12,height:8,viewBox:"0 0 12 8",elements:{card:c.jsx("rect",{width:"12",height:"8",rx:"1"},"card"),chip:c.jsx("rect",{x:"1",y:"3",width:"3",height:"1.8",rx:"0.5"},"chip"),stripe:c.jsx("rect",{x:"1",y:"6.2",width:"8",height:"0.6",rx:"0.3"},"stripe")}},16:{width:16,height:10,viewBox:"0 0 16 10",elements:{card:c.jsx("rect",{x:"0.75",width:"14.5",height:"9.32",rx:"1.3"},"card"),chip:c.jsx("rect",{x:"1.79",y:"3.11",width:"3.11",height:"2.07",rx:"0.5"},"chip"),stripe:c.jsx("rect",{x:"2",y:"7.15",width:"9",height:"0.7",rx:"0.35"},"stripe")}},20:{width:18,height:11,viewBox:"0 0 18 11",elements:{card:c.jsx("rect",{width:"18",height:"11",rx:"1.4"},"card"),chip:c.jsx("rect",{x:"2",y:"4.1",width:"4.5",height:"2.7",rx:"1"},"chip"),stripe:c.jsx("rect",{x:"2",y:"9",width:"11",height:"0.8",rx:"0.4"},"stripe")}},24:{width:22,height:14,viewBox:"0 0 22 14",elements:{card:c.jsx("rect",{width:"22",height:"14",rx:"1.8"},"card"),chip:c.jsx("rect",{x:"2",y:"5",width:"5",height:"3",rx:"0.9"},"chip"),stripe:c.jsx("rect",{x:"2",y:"11",width:"13",height:"1",rx:"0.5"},"stripe")}},32:{width:30,height:19,viewBox:"0 0 30 19",elements:{card:c.jsx("rect",{width:"30",height:"19",rx:"3"},"card"),chip:c.jsx("rect",{x:"3",y:"7",width:"7",height:"5",rx:"1.1"},"chip"),stripe:c.jsx("rect",{x:"3",y:"15",width:"19",height:"1",rx:"0.5"},"stripe")}},36:{width:32,height:20,viewBox:"0 0 32 20",elements:{card:c.jsx("rect",{width:"32",height:"20",rx:"3"},"card"),chip:c.jsx("rect",{x:"3",y:"7",width:"7",height:"5",rx:"1.2"},"chip"),stripe:c.jsx("rect",{x:"3",y:"16",width:"21",height:"1",rx:"0.5"},"stripe")}}},Kr=({title:t,size:e,primary:n="#5A5F66",secondary:r="#F2F4F6",className:s="",...o})=>{const l=LE[e];if(!l)return console.warn(`Card icon size "${e}" not found in registry. Available sizes: ${Object.keys(LE).join(", ")}`),null;const u=`card-icon-${Date.now()}-${Math.random().toString(36).substr(2,9)}`;return c.jsxs("svg",{className:s,xmlns:"http://www.w3.org/2000/svg",width:l.width,height:l.height,viewBox:l.viewBox,role:"img","aria-labelledby":u,...o,children:[c.jsx("title",{id:u,children:t}),xe.cloneElement(l.elements.card,{fill:n}),xe.cloneElement(l.elements.chip,{fill:r}),xe.cloneElement(l.elements.stripe,{fill:r})]})},he={DEFAULT:"0 0 24 24",MINI:"0 0 20 20",MICRO:"0 0 16 16"},Ft=(t,e,n,r)=>xe.createElement(De,{name:t,variant:e,color:n,size:r}),Ry=({icon:t,alt:e="",className:n="",size:r=20,width:s,height:o,...l})=>{const u=s||r,h=o||r;return typeof t=="string"?c.jsx("img",{src:t,alt:e,className:n,width:u,height:h,...l}):typeof t=="function"?t({className:n,size:u,width:u,height:h,...l}):xe.createElement(t,{className:n,size:u,width:u,height:h,...l})},VN={home:{solid:{viewBox:he.DEFAULT,paths:[c.jsx("path",{d:"M11.47 3.841a.75.75 0 0 1 1.06 0l8.69 8.69a.75.75 0 1 0 1.06-1.061l-8.689-8.69a2.25 2.25 0 0 0-3.182 0l-8.69 8.69a.75.75 0 1 0 1.061 1.06l8.69-8.689Z"},"1"),c.jsx("path",{d:"m12 5.432 8.159 8.159c.03.03.06.058.091.086v6.198c0 1.035-.84 1.875-1.875 1.875H15a.75.75 0 0 1-.75-.75v-4.5a.75.75 0 0 0-.75-.75h-3a.75.75 0 0 0-.75.75V21a.75.75 0 0 1-.75.75H5.625a1.875 1.875 0 0 1-1.875-1.875v-6.198a2.29 2.29 0 0 0 .091-.086L12 5.432Z"},"2")]},outline:{viewBox:he.DEFAULT,strokeWidth:1.5,paths:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"},"1")]},mini:{viewBox:he.MINI,paths:[c.jsx("path",{fillRule:"evenodd",d:"M9.293 2.293a1 1 0 0 1 1.414 0l7 7A1 1 0 0 1 17 11h-1v6a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1v-3a1 1 0 0 0-1-1H9a1 1 0 0 0-1 1v3a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-6H3a1 1 0 0 1-.707-1.707l7-7Z",clipRule:"evenodd"},"1")]},micro:{viewBox:he.MICRO,paths:[c.jsx("path",{d:"M8.543 2.232a.75.75 0 0 0-1.085 0l-5.25 5.5A.75.75 0 0 0 2.75 9H4v4a1 1 0 0 0 1 1h1a1 1 0 0 0 1-1v-1a1 1 0 1 1 2 0v1a1 1 0 0 0 1 1h1a1 1 0 0 0 1-1V9h1.25a.75.75 0 0 0 .543-1.268l-5.25-5.5Z"},"1")]}},account:{solid:{viewBox:he.DEFAULT,paths:[c.jsx("path",{fillRule:"evenodd",d:"M7.5 6a4.5 4.5 0 1 1 9 0 4.5 4.5 0 0 1-9 0ZM3.751 20.105a8.25 8.25 0 0 1 16.498 0 .75.75 0 0 1-.437.695A18.683 18.683 0 0 1 12 22.5c-2.786 0-5.433-.608-7.812-1.7a.75.75 0 0 1-.437-.695Z",clipRule:"evenodd"},"1")]},outline:{viewBox:he.DEFAULT,strokeWidth:1.5,paths:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"},"1")]},mini:{viewBox:he.MINI,paths:[c.jsx("path",{d:"M10 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6ZM3.465 14.493a1.23 1.23 0 0 0 .41 1.412A9.957 9.957 0 0 0 10 18c2.31 0 4.438-.784 6.131-2.1.43-.333.604-.903.408-1.41a7.002 7.002 0 0 0-13.074.003Z"},"1")]},micro:{viewBox:he.MICRO,paths:[c.jsx("path",{d:"M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6ZM12.735 14c.618 0 1.093-.561.872-1.139a6.002 6.002 0 0 0-11.215 0c-.22.578.254 1.139.872 1.139h9.47Z"},"1")]}},"sign-out":{solid:{viewBox:he.DEFAULT,paths:[c.jsx("path",{fillRule:"evenodd",d:"M7.5 3.75A1.5 1.5 0 0 0 6 5.25v13.5a1.5 1.5 0 0 0 1.5 1.5h6a1.5 1.5 0 0 0 1.5-1.5V15a.75.75 0 0 1 1.5 0v3.75a3 3 0 0 1-3 3h-6a3 3 0 0 1-3-3V5.25a3 3 0 0 1 3-3h6a3 3 0 0 1 3 3V9A.75.75 0 0 1 15 9V5.25a1.5 1.5 0 0 0-1.5-1.5h-6Zm10.72 4.72a.75.75 0 0 1 1.06 0l3 3a.75.75 0 0 1 0 1.06l-3 3a.75.75 0 1 1-1.06-1.06l1.72-1.72H9a.75.75 0 0 1 0-1.5h10.94l-1.72-1.72a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"},"1")]},outline:{viewBox:he.DEFAULT,strokeWidth:1.5,paths:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"},"1")]},mini:{viewBox:he.MINI,paths:[c.jsx("path",{fillRule:"evenodd",d:"M3 4.25A2.25 2.25 0 0 1 5.25 2h5.5A2.25 2.25 0 0 1 13 4.25v2a.75.75 0 0 1-1.5 0v-2a.75.75 0 0 0-.75-.75h-5.5a.75.75 0 0 0-.75.75v11.5c0 .414.336.75.75.75h5.5a.75.75 0 0 0 .75-.75v-2a.75.75 0 0 1 1.5 0v2A2.25 2.25 0 0 1 10.75 18h-5.5A2.25 2.25 0 0 1 3 15.75V4.25Z",clipRule:"evenodd"},"1"),c.jsx("path",{fillRule:"evenodd",d:"M6 10a.75.75 0 0 1 .75-.75h9.546l-1.048-.943a.75.75 0 1 1 1.004-1.114l2.5 2.25a.75.75 0 0 1 0 1.114l-2.5 2.25a.75.75 0 1 1-1.004-1.114l1.048-.943H6.75A.75.75 0 0 1 6 10Z",clipRule:"evenodd"},"2")]},micro:{viewBox:he.MICRO,paths:[c.jsx("path",{fillRule:"evenodd",d:"M2 4.75A2.75 2.75 0 0 1 4.75 2h3a2.75 2.75 0 0 1 2.75 2.75v.5a.75.75 0 0 1-1.5 0v-.5c0-.69-.56-1.25-1.25-1.25h-3c-.69 0-1.25.56-1.25 1.25v6.5c0 .69.56 1.25 1.25 1.25h3c.69 0 1.25-.56 1.25-1.25v-.5a.75.75 0 0 1 1.5 0v.5A2.75 2.75 0 0 1 7.75 14h-3A2.75 2.75 0 0 1 2 11.25v-6.5Zm9.47.47a.75.75 0 0 1 1.06 0l2.25 2.25a.75.75 0 0 1 0 1.06l-2.25 2.25a.75.75 0 1 1-1.06-1.06l.97-.97H5.25a.75.75 0 0 1 0-1.5h7.19l-.97-.97a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"},"1")]}},"arrow-up":{solid:{viewBox:he.DEFAULT,paths:[c.jsx("path",{fillRule:"evenodd",d:"M11.47 2.47a.75.75 0 0 1 1.06 0l7.5 7.5a.75.75 0 1 1-1.06 1.06l-6.22-6.22V21a.75.75 0 0 1-1.5 0V4.81l-6.22 6.22a.75.75 0 1 1-1.06-1.06l7.5-7.5Z",clipRule:"evenodd"},"1")]},mini:{viewBox:he.MINI,paths:[c.jsx("path",{fillRule:"evenodd",d:"M10 17a.75.75 0 0 1-.75-.75V5.612L5.29 9.77a.75.75 0 0 1-1.08-1.04l5.25-5.5a.75.75 0 0 1 1.08 0l5.25 5.5a.75.75 0 1 1-1.08 1.04l-3.96-4.158V16.25A.75.75 0 0 1 10 17Z",clipRule:"evenodd"},"1")]},micro:{viewBox:he.MICRO,paths:[c.jsx("path",{fillRule:"evenodd",d:"M8 14a.75.75 0 0 1-.75-.75V4.56L4.03 7.78a.75.75 0 0 1-1.06-1.06l4.5-4.5a.75.75 0 0 1 1.06 0l4.5 4.5a.75.75 0 0 1-1.06 1.06L8.75 4.56v8.69A.75.75 0 0 1 8 14Z",clipRule:"evenodd"},"1")]}},"arrow-left":{solid:{viewBox:he.DEFAULT,strokeWidth:1.5,noFill:!0,paths:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"},"1")]},mini:{viewBox:he.MINI,paths:[c.jsx("path",{fillRule:"evenodd",d:"M17 10a.75.75 0 0 1-.75.75H5.612l4.158 3.96a.75.75 0 1 1-1.04 1.08l-5.5-5.25a.75.75 0 0 1 0-1.08l5.5-5.25a.75.75 0 1 1 1.04 1.08L5.612 9.25H16.25A.75.75 0 0 1 17 10Z",clipRule:"evenodd"},"1")]},micro:{viewBox:he.MICRO,paths:[c.jsx("path",{fillRule:"evenodd",d:"M14 8a.75.75 0 0 1-.75.75H4.56l3.22 3.22a.75.75 0 1 1-1.06 1.06l-4.5-4.5a.75.75 0 0 1 0-1.06l4.5-4.5a.75.75 0 0 1 1.06 1.06L4.56 7.25h8.69A.75.75 0 0 1 14 8Z",clipRule:"evenodd"},"1")]}},stop:{solid:{viewBox:he.DEFAULT,paths:[c.jsx("path",{fillRule:"evenodd",d:"M4.5 7.5a3 3 0 0 1 3-3h9a3 3 0 0 1 3 3v9a3 3 0 0 1-3 3h-9a3 3 0 0 1-3-3v-9Z",clipRule:"evenodd"},"1")]},mini:{viewBox:he.MINI,paths:[c.jsx("path",{d:"M5.25 3A2.25 2.25 0 0 0 3 5.25v9.5A2.25 2.25 0 0 0 5.25 17h9.5A2.25 2.25 0 0 0 17 14.75v-9.5A2.25 2.25 0 0 0 14.75 3h-9.5Z"},"1")]},micro:{viewBox:he.MICRO,paths:[c.jsx("rect",{width:"10",height:"10",x:"3",y:"3",rx:"1.5"},"1")]}},card:{solid:{viewBox:he.DEFAULT,paths:[c.jsx("path",{d:"M4.5 3.75a3 3 0 0 0-3 3v.75h21v-.75a3 3 0 0 0-3-3h-15Z"},"1"),c.jsx("path",{fillRule:"evenodd",d:"M22.5 9.75h-21v7.5a3 3 0 0 0 3 3h15a3 3 0 0 0 3-3v-7.5Zm-18 3.75a.75.75 0 0 1 .75-.75h6a.75.75 0 0 1 0 1.5h-6a.75.75 0 0 1-.75-.75Zm.75 2.25a.75.75 0 0 0 0 1.5h3a.75.75 0 0 0 0-1.5h-3Z",clipRule:"evenodd"},"2")]},outline:{viewBox:he.DEFAULT,strokeWidth:1.5,paths:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Z"},"1")]},mini:{viewBox:he.MINI,paths:[c.jsx("path",{fillRule:"evenodd",d:"M2.5 4A1.5 1.5 0 0 0 1 5.5V6h18v-.5A1.5 1.5 0 0 0 17.5 4h-15ZM19 8.5H1v6A1.5 1.5 0 0 0 2.5 16h15a1.5 1.5 0 0 0 1.5-1.5v-6ZM3 13.25a.75.75 0 0 1 .75-.75h1.5a.75.75 0 0 1 0 1.5h-1.5a.75.75 0 0 1-.75-.75Zm4.75-.75a.75.75 0 0 0 0 1.5h3.5a.75.75 0 0 0 0-1.5h-3.5Z",clipRule:"evenodd"},"1")]},micro:{viewBox:he.MICRO,paths:[c.jsx("path",{d:"M2.5 3A1.5 1.5 0 0 0 1 4.5V5h14v-.5A1.5 1.5 0 0 0 13.5 3h-11Z"},"1"),c.jsx("path",{fillRule:"evenodd",d:"M15 7H1v4.5A1.5 1.5 0 0 0 2.5 13h11a1.5 1.5 0 0 0 1.5-1.5V7ZM3 10.25a.75.75 0 0 1 .75-.75h.5a.75.75 0 0 1 0 1.5h-.5a.75.75 0 0 1-.75-.75Zm3.75-.75a.75.75 0 0 0 0 1.5h2.5a.75.75 0 0 0 0-1.5h-2.5Z",clipRule:"evenodd"},"2")]}},bank:{outline:{viewBox:he.DEFAULT,strokeWidth:1.5,paths:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21v-8.25M15.75 21v-8.25M8.25 21v-8.25M3 9l9-6 9 6m-1.5 12V10.332A48.36 48.36 0 0 0 12 9.75c-2.551 0-5.056.2-7.5.582V21M3 21h18M12 6.75h.008v.008H12V6.75Z"},"1")]},solid:{viewBox:he.DEFAULT,paths:[c.jsx("path",{d:"M11.584 2.376a.75.75 0 0 1 .832 0l9 6a.75.75 0 1 1-.832 1.248L12 3.901 3.416 9.624a.75.75 0 0 1-.832-1.248l9-6Z"},"1"),c.jsx("path",{fillRule:"evenodd",d:"M20.25 10.332v9.918H21a.75.75 0 0 1 0 1.5H3a.75.75 0 0 1 0-1.5h.75v-9.918a.75.75 0 0 1 .634-.74A49.109 49.109 0 0 1 12 9c2.59 0 5.134.202 7.616.592a.75.75 0 0 1 .634.74Zm-7.5 2.418a.75.75 0 0 0-1.5 0v6.75a.75.75 0 0 0 1.5 0v-6.75Zm3-.75a.75.75 0 0 1 .75.75v6.75a.75.75 0 0 1-1.5 0v-6.75a.75.75 0 0 1 .75-.75ZM9 12.75a.75.75 0 0 0-1.5 0v6.75a.75.75 0 0 0 1.5 0v-6.75Z",clipRule:"evenodd"},"2"),c.jsx("path",{d:"M12 7.875a1.125 1.125 0 1 0 0-2.25 1.125 1.125 0 0 0 0 2.25Z"},"3")]},mini:{viewBox:he.MINI,paths:[c.jsx("path",{fillRule:"evenodd",d:"M9.674 2.075a.75.75 0 0 1 .652 0l7.25 3.5A.75.75 0 0 1 17 6.957V16.5h.25a.75.75 0 0 1 0 1.5H2.75a.75.75 0 0 1 0 1.5H3V6.957a.75.75 0 0 1-.576-1.382l7.25-3.5ZM11 6a1 1 0 1 1-2 0 1 1 0 0 1 2 0ZM7.5 9.75a.75.75 0 0 0-1.5 0v5.5a.75.75 0 0 0 1.5 0v-5.5Zm3.25 0a.75.75 0 0 0-1.5 0v5.5a.75.75 0 0 0 1.5 0v-5.5Zm3.25 0a.75.75 0 0 0-1.5 0v5.5a.75.75 0 0 0 1.5 0v-5.5Z",clipRule:"evenodd"},"1")]},micro:{viewBox:he.MICRO,paths:[c.jsx("path",{fillRule:"evenodd",d:"M7.605 2.112a.75.75 0 0 1 .79 0l5.25 3.25A.75.75 0 0 1 13 6.707V12.5h.25a.75.75 0 0 1 0 1.5H2.75a.75.75 0 0 1 0 1.5H3V6.707a.75.75 0 0 1-.645-1.345l5.25-3.25ZM4.5 8.75a.75.75 0 0 1 1.5 0v3a.75.75 0 0 1-1.5 0v-3ZM8 8a.75.75 0 0 0-.75.75v3a.75.75 0 0 0 1.5 0v-3A.75.75 0 0 0 8 8Zm2 .75a.75.75 0 0 1 1.5 0v3a.75.75 0 0 1-1.5 0v-3ZM8 6a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z",clipRule:"evenodd"},"1")]}},"bar-menu":{outline:{viewBox:he.DEFAULT,strokeWidth:1.5,noFill:!0,paths:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"},"1")]},solid:{viewBox:he.DEFAULT,paths:[c.jsx("path",{fillRule:"evenodd",d:"M3 6.75A.75.75 0 0 1 3.75 6h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 6.75ZM3 12a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 12Zm0 5.25a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75a.75.75 0 0 1-.75-.75Z",clipRule:"evenodd"},"1")]},mini:{viewBox:he.MINI,paths:[c.jsx("path",{fillRule:"evenodd",d:"M2 4.75A.75.75 0 0 1 2.75 4h14.5a.75.75 0 0 1 0 1.5H2.75A.75.75 0 0 1 2 4.75ZM2 10a.75.75 0 0 1 .75-.75h14.5a.75.75 0 0 1 0 1.5H2.75A.75.75 0 0 1 2 10Zm0 5.25a.75.75 0 0 1 .75-.75h14.5a.75.75 0 0 1 0 1.5H2.75a.75.75 0 0 1-.75-.75Z",clipRule:"evenodd"},"1")]},micro:{viewBox:he.MICRO,paths:[c.jsx("path",{fillRule:"evenodd",d:"M2 3.75A.75.75 0 0 1 2.75 3h10.5a.75.75 0 0 1 0 1.5H2.75A.75.75 0 0 1 2 3.75ZM2 8a.75.75 0 0 1 .75-.75h10.5a.75.75 0 0 1 0 1.5H2.75A.75.75 0 0 1 2 8Zm0 4.25a.75.75 0 0 1 .75-.75h10.5a.75.75 0 0 1 0 1.5H2.75a.75.75 0 0 1-.75-.75Z",clipRule:"evenodd"},"1")]}},history:{solid:{viewBox:he.DEFAULT,paths:[c.jsx("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25ZM12.75 6a.75.75 0 0 0-1.5 0v6c0 .414.336.75.75.75h4.5a.75.75 0 0 0 0-1.5h-3.75V6Z",clipRule:"evenodd"},"1")]},outline:{viewBox:he.DEFAULT,strokeWidth:1.5,paths:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"},"1")]},mini:{viewBox:he.MINI,paths:[c.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 1 0 0-16 8 8 0 0 0 0 16Zm.75-13a.75.75 0 0 0-1.5 0v5c0 .414.336.75.75.75h4a.75.75 0 0 0 0-1.5h-3.25V5Z",clipRule:"evenodd"},"1")]},micro:{viewBox:he.MICRO,paths:[c.jsx("path",{fillRule:"evenodd",d:"M1 8a7 7 0 1 1 14 0A7 7 0 0 1 1 8Zm7.75-4.25a.75.75 0 0 0-1.5 0V8c0 .414.336.75.75.75h3.25a.75.75 0 0 0 0-1.5h-2.5v-3.5Z",clipRule:"evenodd"},"1")]}},preferences:{solid:{viewBox:he.DEFAULT,paths:[c.jsx("path",{d:"M6 12a.75.75 0 0 1-.75-.75v-7.5a.75.75 0 1 1 1.5 0v7.5A.75.75 0 0 1 6 12ZM18 12a.75.75 0 0 1-.75-.75v-7.5a.75.75 0 0 1 1.5 0v7.5A.75.75 0 0 1 18 12ZM6.75 20.25v-1.5a.75.75 0 0 0-1.5 0v1.5a.75.75 0 0 0 1.5 0ZM18.75 18.75v1.5a.75.75 0 0 1-1.5 0v-1.5a.75.75 0 0 1 1.5 0ZM12.75 5.25v-1.5a.75.75 0 0 0-1.5 0v1.5a.75.75 0 0 0 1.5 0ZM12 21a.75.75 0 0 1-.75-.75v-7.5a.75.75 0 0 1 1.5 0v7.5A.75.75 0 0 1 12 21ZM3.75 15a2.25 2.25 0 1 0 4.5 0 2.25 2.25 0 0 0-4.5 0ZM12 11.25a2.25 2.25 0 1 1 0-4.5 2.25 2.25 0 0 1 0 4.5ZM15.75 15a2.25 2.25 0 1 0 4.5 0 2.25 2.25 0 0 0-4.5 0Z"},"1")]},outline:{viewBox:he.DEFAULT,strokeWidth:1.5,paths:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 13.5V3.75m0 9.75a1.5 1.5 0 0 1 0 3m0-3a1.5 1.5 0 0 0 0 3m0 3.75V16.5m12-3V3.75m0 9.75a1.5 1.5 0 0 1 0 3m0-3a1.5 1.5 0 0 0 0 3m0 3.75V16.5m-6-9V3.75m0 3.75a1.5 1.5 0 0 1 0 3m0-3a1.5 1.5 0 0 0 0 3m0 9.75V10.5"},"1")]},mini:{viewBox:he.MINI,paths:[c.jsx("path",{d:"M17 2.75a.75.75 0 0 0-1.5 0v5.5a.75.75 0 0 0 1.5 0v-5.5ZM17 15.75a.75.75 0 0 0-1.5 0v1.5a.75.75 0 0 0 1.5 0v-1.5ZM3.75 15a.75.75 0 0 1 .75.75v1.5a.75.75 0 0 1-1.5 0v-1.5a.75.75 0 0 1 .75-.75ZM4.5 2.75a.75.75 0 0 0-1.5 0v5.5a.75.75 0 0 0 1.5 0v-5.5ZM10 11a.75.75 0 0 1 .75.75v5.5a.75.75 0 0 1-1.5 0v-5.5A.75.75 0 0 1 10 11ZM10.75 2.75a.75.75 0 0 0-1.5 0v1.5a.75.75 0 0 0 1.5 0v-1.5ZM10 6a2 2 0 1 0 0 4 2 2 0 0 0 0-4ZM3.75 10a2 2 0 1 0 0 4 2 2 0 0 0 0-4ZM16.25 10a2 2 0 1 0 0 4 2 2 0 0 0 0-4Z"},"1")]},micro:{viewBox:he.MICRO,paths:[c.jsx("path",{d:"M7.25 13.25V7.5h1.5v5.75a.75.75 0 0 1-1.5 0ZM8.75 2.75V5h.75a.75.75 0 0 1 0 1.5h-3a.75.75 0 0 1 0-1.5h.75V2.75a.75.75 0 0 1 1.5 0ZM2.25 9.5a.75.75 0 0 0 0 1.5h3a.75.75 0 0 0 0-1.5H4.5V2.75a.75.75 0 0 0-1.5 0V9.5h-.75ZM10 10.25a.75.75 0 0 1 .75-.75h.75V2.75a.75.75 0 0 1 1.5 0V9.5h.75a.75.75 0 0 1 0 1.5h-3a.75.75 0 0 1-.75-.75ZM3 12v1.25a.75.75 0 0 0 1.5 0V12H3ZM11.5 13.25V12H13v1.25a.75.75 0 0 1-1.5 0Z"},"1")]}},help:{solid:{viewBox:he.DEFAULT,paths:[c.jsx("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm11.378-3.917c-.89-.777-2.366-.777-3.255 0a.75.75 0 0 1-.988-1.129c1.454-1.272 3.776-1.272 5.23 0 1.513 1.324 1.513 3.518 0 4.842a3.75 3.75 0 0 1-.837.552c-.676.328-1.028.774-1.028 1.152v.75a.75.75 0 0 1-1.5 0v-.75c0-1.279 1.06-2.107 1.875-2.502.182-.088.351-.199.503-.331.83-.727.83-1.857 0-2.584ZM12 18a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z",clipRule:"evenodd"},"1")]},outline:{viewBox:he.DEFAULT,strokeWidth:1.5,paths:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 5.25h.008v.008H12v-.008Z"},"1")]},mini:{viewBox:he.MINI,paths:[c.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 1 1-16 0 8 8 0 0 1 16 0ZM8.94 6.94a.75.75 0 1 1-1.061-1.061 3 3 0 1 1 2.871 5.026v.345a.75.75 0 0 1-1.5 0v-.5c0-.72.57-1.172 1.081-1.287A1.5 1.5 0 1 0 8.94 6.94ZM10 15a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z",clipRule:"evenodd"},"1")]},micro:{viewBox:he.MICRO,paths:[c.jsx("path",{fillRule:"evenodd",d:"M15 8A7 7 0 1 1 1 8a7 7 0 0 1 14 0Zm-6 3.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0ZM7.293 5.293a1 1 0 1 1 .99 1.667c-.459.134-1.033.566-1.033 1.29v.25a.75.75 0 1 0 1.5 0v-.115a2.5 2.5 0 1 0-2.518-4.153.75.75 0 1 0 1.061 1.06Z",clipRule:"evenodd"},"1")]}},"ellipsis-horizontal":{solid:{viewBox:he.DEFAULT,paths:[c.jsx("path",{fillRule:"evenodd",d:"M4.5 12a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0Zm6 0a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0Zm6 0a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0Z",clipRule:"evenodd"},"1")]},mini:{viewBox:he.MINI,paths:[c.jsx("path",{d:"M3 10a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0ZM8.5 10a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0ZM15.5 8.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3Z"},"1")]},micro:{viewBox:he.MICRO,paths:[c.jsx("path",{d:"M2 8a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0ZM6.5 8a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0ZM12.5 6.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3Z"},"1")]}},"ellipsis-vertical":{solid:{viewBox:he.DEFAULT,paths:[c.jsx("path",{fillRule:"evenodd",d:"M10.5 6a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0Zm0 6a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0Zm0 6a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0Z",clipRule:"evenodd"},"1")]},mini:{viewBox:he.MINI,paths:[c.jsx("path",{d:"M10 3a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM10 8.5a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM11.5 15.5a1.5 1.5 0 1 0-3 0 1.5 1.5 0 0 0 3 0Z"},"1")]},micro:{viewBox:he.MICRO,paths:[c.jsx("path",{d:"M8 2a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM8 6.5a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM9.5 12.5a1.5 1.5 0 1 0-3 0 1.5 1.5 0 0 0 3 0Z"},"1")]}},pencil:{solid:{viewBox:he.DEFAULT,paths:[c.jsx("path",{d:"M21.731 2.269a2.625 2.625 0 0 0-3.712 0l-1.157 1.157 3.712 3.712 1.157-1.157a2.625 2.625 0 0 0 0-3.712ZM19.513 8.199l-3.712-3.712-8.4 8.4a5.25 5.25 0 0 0-1.32 2.214l-.8 2.685a.75.75 0 0 0 .933.933l2.685-.8a5.25 5.25 0 0 0 2.214-1.32l8.4-8.4Z"},"1"),c.jsx("path",{d:"M5.25 5.25a3 3 0 0 0-3 3v10.5a3 3 0 0 0 3 3h10.5a3 3 0 0 0 3-3V13.5a.75.75 0 0 0-1.5 0v5.25a1.5 1.5 0 0 1-1.5 1.5H5.25a1.5 1.5 0 0 1-1.5-1.5V8.25a1.5 1.5 0 0 1 1.5-1.5h5.25a.75.75 0 0 0 0-1.5H5.25Z"},"2")]},outline:{viewBox:he.DEFAULT,strokeWidth:1.5,paths:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"},"1")]},mini:{viewBox:he.MINI,paths:[c.jsx("path",{d:"m5.433 13.917 1.262-3.155A4 4 0 0 1 7.58 9.42l6.92-6.918a2.121 2.121 0 0 1 3 3l-6.92 6.918c-.383.383-.84.685-1.343.886l-3.154 1.262a.5.5 0 0 1-.65-.65Z"},"1"),c.jsx("path",{d:"M3.5 5.75c0-.69.56-1.25 1.25-1.25H10A.75.75 0 0 0 10 3H4.75A2.75 2.75 0 0 0 2 5.75v9.5A2.75 2.75 0 0 0 4.75 18h9.5A2.75 2.75 0 0 0 17 15.25V10a.75.75 0 0 0-1.5 0v5.25c0 .69-.56 1.25-1.25 1.25h-9.5c-.69 0-1.25-.56-1.25-1.25v-9.5Z"},"2")]},micro:{viewBox:he.MICRO,paths:[c.jsx("path",{d:"M13.488 2.513a1.75 1.75 0 0 0-2.475 0L6.75 6.774a2.75 2.75 0 0 0-.596.892l-.848 2.047a.75.75 0 0 0 .98.98l2.047-.848a2.75 2.75 0 0 0 .892-.596l4.261-4.262a1.75 1.75 0 0 0 0-2.474Z"},"1"),c.jsx("path",{d:"M4.75 3.5c-.69 0-1.25.56-1.25 1.25v6.5c0 .69.56 1.25 1.25 1.25h6.5c.69 0 1.25-.56 1.25-1.25V9A.75.75 0 0 1 14 9v2.25A2.75 2.75 0 0 1 11.25 14h-6.5A2.75 2.75 0 0 1 2 11.25v-6.5A2.75 2.75 0 0 1 4.75 2H7a.75.75 0 0 1 0 1.5H4.75Z"},"2")]}},delete:{solid:{viewBox:he.DEFAULT,paths:[c.jsx("path",{fillRule:"evenodd",d:"M16.5 4.478v.227a48.816 48.816 0 0 1 3.878.512.75.75 0 1 1-.256 1.478l-.209-.035-1.005 13.07a3 3 0 0 1-2.991 2.77H8.084a3 3 0 0 1-2.991-2.77L4.087 6.66l-.209.035a.75.75 0 0 1-.256-1.478A48.567 48.567 0 0 1 7.5 4.705v-.227c0-1.564 1.213-2.9 2.816-2.951a52.662 52.662 0 0 1 3.369 0c1.603.051 2.815 1.387 2.815 2.951Zm-6.136-1.452a51.196 51.196 0 0 1 3.273 0C14.39 3.05 15 3.684 15 4.478v.113a49.488 49.488 0 0 0-6 0v-.113c0-.794.609-1.428 1.364-1.452Zm-.355 5.945a.75.75 0 1 0-1.5.058l.347 9a.75.75 0 1 0 1.499-.058l-.346-9Zm5.48.058a.75.75 0 1 0-1.498-.058l-.347 9a.75.75 0 0 0 1.5.058l.345-9Z",clipRule:"evenodd"},"1")]},outline:{viewBox:he.DEFAULT,strokeWidth:1.5,paths:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"},"1")]},mini:{viewBox:he.MINI,paths:[c.jsx("path",{fillRule:"evenodd",d:"M8.75 1A2.75 2.75 0 0 0 6 3.75v.443c-.795.077-1.584.176-2.365.298a.75.75 0 1 0 .23 1.482l.149-.022.841 10.518A2.75 2.75 0 0 0 7.596 19h4.807a2.75 2.75 0 0 0 2.742-2.53l.841-10.52.149.023a.75.75 0 0 0 .23-1.482A41.03 41.03 0 0 0 14 4.193V3.75A2.75 2.75 0 0 0 11.25 1h-2.5ZM10 4c.84 0 1.673.025 2.5.075V3.75c0-.69-.56-1.25-1.25-1.25h-2.5c-.69 0-1.25.56-1.25 1.25v.325C8.327 4.025 9.16 4 10 4ZM8.58 7.72a.75.75 0 0 0-1.5.06l.3 7.5a.75.75 0 1 0 1.5-.06l-.3-7.5Zm4.34.06a.75.75 0 1 0-1.5-.06l-.3 7.5a.75.75 0 1 0 1.5.06l.3-7.5Z",clipRule:"evenodd"},"1")]},micro:{viewBox:he.MICRO,paths:[c.jsx("path",{fillRule:"evenodd",d:"M5 3.25V4H2.75a.75.75 0 0 0 0 1.5h.3l.815 8.15A1.5 1.5 0 0 0 5.357 15h5.285a1.5 1.5 0 0 0 1.493-1.35l.815-8.15h.3a.75.75 0 0 0 0-1.5H11v-.75A2.25 2.25 0 0 0 8.75 1h-1.5A2.25 2.25 0 0 0 5 3.25Zm2.25-.75a.75.75 0 0 0-.75.75V4h3v-.75a.75.75 0 0 0-.75-.75h-1.5ZM6.05 6a.75.75 0 0 1 .787.713l.275 5.5a.75.75 0 0 1-1.498.075l-.275-5.5A.75.75 0 0 1 6.05 6Zm3.9 0a.75.75 0 0 1 .712.787l-.275 5.5a.75.75 0 0 1-1.498-.075l.275-5.5a.75.75 0 0 1 .786-.711Z",clipRule:"evenodd"},"1")]}},"chevron-up":{solid:{viewBox:he.DEFAULT,paths:[c.jsx("path",{fillRule:"evenodd",d:"M11.47 7.72a.75.75 0 0 1 1.06 0l7.5 7.5a.75.75 0 1 1-1.06 1.06L12 9.31l-6.97 6.97a.75.75 0 0 1-1.06-1.06l7.5-7.5Z",clipRule:"evenodd"},"1")]},mini:{viewBox:he.MINI,paths:[c.jsx("path",{fillRule:"evenodd",d:"M9.47 6.47a.75.75 0 0 1 1.06 0l4.25 4.25a.75.75 0 1 1-1.06 1.06L10 8.06l-3.72 3.72a.75.75 0 0 1-1.06-1.06l4.25-4.25Z",clipRule:"evenodd"},"1")]},micro:{viewBox:he.MICRO,paths:[c.jsx("path",{fillRule:"evenodd",d:"M11.78 9.78a.75.75 0 0 1-1.06 0L8 7.06 5.28 9.78a.75.75 0 0 1-1.06-1.06l3.25-3.25a.75.75 0 0 1 1.06 0l3.25 3.25a.75.75 0 0 1 0 1.06Z",clipRule:"evenodd"},"1")]}},"chevron-down":{solid:{viewBox:he.DEFAULT,paths:[c.jsx("path",{fillRule:"evenodd",d:"M12.53 16.28a.75.75 0 0 1-1.06 0l-7.5-7.5a.75.75 0 0 1 1.06-1.06L12 14.69l6.97-6.97a.75.75 0 1 1 1.06 1.06l-7.5 7.5Z",clipRule:"evenodd"},"1")]},mini:{viewBox:he.MINI,paths:[c.jsx("path",{fillRule:"evenodd",d:"M5.22 8.22a.75.75 0 0 1 1.06 0L10 11.94l3.72-3.72a.75.75 0 1 1 1.06 1.06l-4.25 4.25a.75.75 0 0 1-1.06 0L5.22 9.28a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"},"1")]},micro:{viewBox:he.MICRO,paths:[c.jsx("path",{fillRule:"evenodd",d:"M4.22 6.22a.75.75 0 0 1 1.06 0L8 8.94l2.72-2.72a.75.75 0 1 1 1.06 1.06l-3.25 3.25a.75.75 0 0 1-1.06 0L4.22 7.28a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"},"1")]}},"chevron-double-left":{outline:{viewBox:he.DEFAULT,strokeWidth:1.5,noFill:!0,paths:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m18.75 4.5-7.5 7.5 7.5 7.5m-6-15L5.25 12l7.5 7.5"},"1")]},solid:{viewBox:he.DEFAULT,paths:[c.jsx("path",{fillRule:"evenodd",d:"M10.72 11.47a.75.75 0 0 0 0 1.06l7.5 7.5a.75.75 0 1 0 1.06-1.06L12.31 12l6.97-6.97a.75.75 0 0 0-1.06-1.06l-7.5 7.5Z",clipRule:"evenodd"},"1"),c.jsx("path",{fillRule:"evenodd",d:"M4.72 11.47a.75.75 0 0 0 0 1.06l7.5 7.5a.75.75 0 1 0 1.06-1.06L6.31 12l6.97-6.97a.75.75 0 0 0-1.06-1.06l-7.5 7.5Z",clipRule:"evenodd"},"2")]},mini:{viewBox:he.MINI,paths:[c.jsx("path",{fillRule:"evenodd",d:"M4.72 9.47a.75.75 0 0 0 0 1.06l4.25 4.25a.75.75 0 1 0 1.06-1.06L6.31 10l3.72-3.72a.75.75 0 1 0-1.06-1.06L4.72 9.47Zm9.25-4.25L9.72 9.47a.75.75 0 0 0 0 1.06l4.25 4.25a.75.75 0 1 0 1.06-1.06L11.31 10l3.72-3.72a.75.75 0 0 0-1.06-1.06Z",clipRule:"evenodd"},"1")]},micro:{viewBox:he.MICRO,paths:[c.jsx("path",{fillRule:"evenodd",d:"M3.22 7.595a.75.75 0 0 0 0 1.06l3.25 3.25a.75.75 0 0 0 1.06-1.06l-2.72-2.72 2.72-2.72a.75.75 0 0 0-1.06-1.06l-3.25 3.25Zm8.25-3.25-3.25 3.25a.75.75 0 0 0 0 1.06l3.25 3.25a.75.75 0 1 0 1.06-1.06l-2.72-2.72 2.72-2.72a.75.75 0 0 0-1.06-1.06Z",clipRule:"evenodd"},"1")]}},star:{solid:{viewBox:he.DEFAULT,paths:[c.jsx("path",{fillRule:"evenodd",d:"M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.006 5.404.434c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.434 2.082-5.005Z",clipRule:"evenodd"},"1")]},outline:{viewBox:he.DEFAULT,strokeWidth:1.5,paths:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"},"1")]},mini:{viewBox:he.MINI,paths:[c.jsx("path",{fillRule:"evenodd",d:"M10.868 2.884c-.321-.772-1.415-.772-1.736 0l-1.83 4.401-4.753.381c-.833.067-1.171 1.107-.536 1.651l3.62 3.102-1.106 4.637c-.194.813.691 1.456 1.405 1.02L10 15.591l4.069 2.485c.713.436 1.598-.207 1.404-1.02l-1.106-4.637 3.62-3.102c.635-.544.297-1.584-.536-1.65l-4.752-.382-1.831-4.401Z",clipRule:"evenodd"},"1")]},micro:{viewBox:he.MICRO,paths:[c.jsx("path",{fillRule:"evenodd",d:"M8 1.75a.75.75 0 0 1 .692.462l1.41 3.393 3.664.293a.75.75 0 0 1 .428 1.317l-2.791 2.39.853 3.575a.75.75 0 0 1-1.12.814L7.998 12.08l-3.135 1.915a.75.75 0 0 1-1.12-.814l.852-3.574-2.79-2.39a.75.75 0 0 1 .427-1.318l3.663-.293 1.41-3.393A.75.75 0 0 1 8 1.75Z",clipRule:"evenodd"},"1")]}},"plus-circle":{solid:{viewBox:he.DEFAULT,paths:[c.jsx("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25ZM12.75 9a.75.75 0 0 0-1.5 0v2.25H9a.75.75 0 0 0 0 1.5h2.25V15a.75.75 0 0 0 1.5 0v-2.25H15a.75.75 0 0 0 0-1.5h-2.25V9Z",clipRule:"evenodd"},"1")]},outline:{viewBox:he.DEFAULT,strokeWidth:1.5,paths:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v6m3-3H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"},"1")]},mini:{viewBox:he.MINI,paths:[c.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 1 0 0-16 8 8 0 0 0 0 16Zm.75-11.25a.75.75 0 0 0-1.5 0v2.5h-2.5a.75.75 0 0 0 0 1.5h2.5v2.5a.75.75 0 0 0 1.5 0v-2.5h2.5a.75.75 0 0 0 0-1.5h-2.5v-2.5Z",clipRule:"evenodd"},"1")]},micro:{viewBox:he.MICRO,paths:[c.jsx("path",{fillRule:"evenodd",d:"M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14Zm.75-10.25v2.5h2.5a.75.75 0 0 1 0 1.5h-2.5v2.5a.75.75 0 0 1-1.5 0v-2.5h-2.5a.75.75 0 0 1 0-1.5h2.5v-2.5a.75.75 0 0 1 1.5 0Z",clipRule:"evenodd"},"1")]}},search:{outline:{viewBox:he.DEFAULT,strokeWidth:1.5,paths:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"},"1")]},solid:{viewBox:he.DEFAULT,paths:[c.jsx("path",{fillRule:"evenodd",d:"M10.5 3.75a6.75 6.75 0 1 0 0 13.5 6.75 6.75 0 0 0 0-13.5ZM2.25 10.5a8.25 8.25 0 1 1 14.59 5.28l4.69 4.69a.75.75 0 1 1-1.06 1.06l-4.69-4.69A8.25 8.25 0 0 1 2.25 10.5Z",clipRule:"evenodd"},"1")]},mini:{viewBox:he.MINI,paths:[c.jsx("path",{fillRule:"evenodd",d:"M9 3.5a5.5 5.5 0 1 0 0 11 5.5 5.5 0 0 0 0-11ZM2 9a7 7 0 1 1 12.452 4.391l3.328 3.329a.75.75 0 1 1-1.06 1.06l-3.329-3.328A7 7 0 0 1 2 9Z",clipRule:"evenodd"},"1")]},micro:{viewBox:he.MICRO,paths:[c.jsx("path",{fillRule:"evenodd",d:"M9.965 11.026a5 5 0 1 1 1.06-1.06l2.755 2.754a.75.75 0 1 1-1.06 1.06l-2.755-2.754ZM10.5 7a3.5 3.5 0 1 1-7 0 3.5 3.5 0 0 1 7 0Z",clipRule:"evenodd"},"1")]}},sidebar:{open:{viewBox:he.DEFAULT,strokeWidth:1.5,noFill:!0,paths:[c.jsx("rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"},"1"),c.jsx("path",{d:"M9 3v18"},"2")]},close:{viewBox:he.DEFAULT,strokeWidth:1.5,noFill:!0,paths:[c.jsx("rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"},"1"),c.jsx("path",{d:"M9 3v18"},"2")]}},spinner:{default:{viewBox:he.DEFAULT,strokeWidth:2,noFill:!0,paths:[c.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"},"1")]}},"chat-bubble":{solid:{viewBox:he.DEFAULT,paths:[c.jsx("path",{fillRule:"evenodd",d:"M4.848 2.771A49.144 49.144 0 0 1 12 2.25c2.43 0 4.817.178 7.152.52 1.978.292 3.348 2.024 3.348 3.97v6.02c0 1.946-1.37 3.678-3.348 3.97a48.901 48.901 0 0 1-3.476.383.39.39 0 0 0-.297.17l-2.755 4.133a.75.75 0 0 1-1.248 0l-2.755-4.133a.39.39 0 0 0-.297-.17 48.9 48.9 0 0 1-3.476-.384c-1.978-.29-3.348-2.024-3.348-3.97V6.741c0-1.946 1.37-3.68 3.348-3.97ZM6.75 8.25a.75.75 0 0 1 .75-.75h9a.75.75 0 0 1 0 1.5h-9a.75.75 0 0 1-.75-.75Zm.75 2.25a.75.75 0 0 0 0 1.5H12a.75.75 0 0 0 0-1.5H7.5Z",clipRule:"evenodd"},"1")]},outline:{viewBox:he.DEFAULT,strokeWidth:1.5,paths:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.5 8.25h9m-9 3H12m-9.75 1.51c0 1.6 1.123 2.994 2.707 3.227 1.129.166 2.27.293 3.423.379.35.026.67.21.865.501L12 21l2.755-4.133a1.14 1.14 0 0 1 .865-.501 48.172 48.172 0 0 0 3.423-.379c1.584-.233 2.707-1.626 2.707-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0 0 12 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018Z"},"1")]},mini:{viewBox:he.MINI,paths:[c.jsx("path",{fillRule:"evenodd",d:"M10 2c-2.236 0-4.43.18-6.57.524C1.993 2.755 1 4.014 1 5.426v5.148c0 1.413.993 2.67 2.43 2.902 1.168.188 2.352.327 3.55.414.28.02.521.18.642.413l1.713 3.293a.75.75 0 0 0 1.33 0l1.713-3.293a.783.783 0 0 1 .642-.413 41.102 41.102 0 0 0 3.55-.414c1.437-.231 2.43-1.49 2.43-2.902V5.426c0-1.413-.993-2.67-2.43-2.902A41.289 41.289 0 0 0 10 2ZM6.75 6a.75.75 0 0 0 0 1.5h6.5a.75.75 0 0 0 0-1.5h-6.5Zm0 2.5a.75.75 0 0 0 0 1.5h3.5a.75.75 0 0 0 0-1.5h-3.5Z",clipRule:"evenodd"},"1")]},micro:{viewBox:he.MICRO,paths:[c.jsx("path",{fillRule:"evenodd",d:"M1 8.74c0 .983.713 1.825 1.69 1.943.904.108 1.817.19 2.737.243.363.02.688.231.85.556l1.052 2.103a.75.75 0 0 0 1.342 0l1.052-2.103c.162-.325.487-.535.85-.556.92-.053 1.833-.134 2.738-.243.976-.118 1.689-.96 1.689-1.942V4.259c0-.982-.713-1.824-1.69-1.942a44.45 44.45 0 0 0-10.62 0C1.712 2.435 1 3.277 1 4.26v4.482Zm3-3.49a.75.75 0 0 1 .75-.75h6.5a.75.75 0 0 1 0 1.5h-6.5A.75.75 0 0 1 4 5.25ZM4.75 7a.75.75 0 0 0 0 1.5h2.5a.75.75 0 0 0 0-1.5h-2.5Z",clipRule:"evenodd"},"1")]}},"history-clock":{micro:{viewBox:"0 -960 960 960",paths:[c.jsx("path",{d:"M480-144q-140 0-238-98t-98-238h72q0 109 77.5 186.5T480-216q109 0 186.5-77.5T744-480q0-109-77.5-186.5T480-744q-62 0-114.55 25.6Q312.91-692.8 277-648h107v72H144v-240h72v130q46-60 114.5-95T480-816q70 0 131.13 26.6 61.14 26.6 106.4 71.87 45.27 45.26 71.87 106.4Q816-550 816-480t-26.6 131.13q-26.6 61.14-71.87 106.4-45.26 45.27-106.4 71.87Q550-144 480-144Zm100-200L444-480v-192h72v162l115 115-51 51Z"},"1")]}},"today-calendar":{micro:{viewBox:"0 -960 960 960",paths:[c.jsx("path",{d:"M384.23-264Q344-264 316-291.77q-28-27.78-28-68Q288-400 315.77-428q27.78-28 68-28Q424-456 452-428.23q28 27.78 28 68Q480-320 452.23-292q-27.78 28-68 28ZM216-96q-29.7 0-50.85-21.5Q144-139 144-168v-528q0-29 21.15-50.5T216-768h72v-96h72v96h240v-96h72v96h72q29.7 0 50.85 21.5Q816-725 816-696v528q0 29-21.15 50.5T744-96H216Zm0-72h528v-360H216v360Zm0-432h528v-96H216v96Zm0 0v-96 96Z"},"1")]}},calendar:{outline:{viewBox:he.DEFAULT,strokeWidth:1.5,noFill:!0,paths:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"},"1")]},solid:{viewBox:he.DEFAULT,paths:[c.jsx("path",{fillRule:"evenodd",d:"M6.75 2.25A.75.75 0 0 1 7.5 3v1.5h9V3A.75.75 0 0 1 18 3v1.5h.75a3 3 0 0 1 3 3v11.25a3 3 0 0 1-3 3H5.25a3 3 0 0 1-3-3V7.5a3 3 0 0 1 3-3H6V3a.75.75 0 0 1 .75-.75Zm13.5 9a1.5 1.5 0 0 0-1.5-1.5H5.25a1.5 1.5 0 0 0-1.5 1.5v7.5a1.5 1.5 0 0 0 1.5 1.5h13.5a1.5 1.5 0 0 0 1.5-1.5v-7.5Z",clipRule:"evenodd"},"1")]},mini:{viewBox:he.MINI,paths:[c.jsx("path",{fillRule:"evenodd",d:"M5.75 2a.75.75 0 0 1 .75.75V4h7V2.75a.75.75 0 0 1 1.5 0V4h.25A2.75 2.75 0 0 1 18 6.75v8.5A2.75 2.75 0 0 1 15.25 18H4.75A2.75 2.75 0 0 1 2 15.25v-8.5A2.75 2.75 0 0 1 4.75 4H5V2.75A.75.75 0 0 1 5.75 2Zm-1 5.5c-.69 0-1.25.56-1.25 1.25v6.5c0 .69.56 1.25 1.25 1.25h10.5c.69 0 1.25-.56 1.25-1.25v-6.5c0-.69-.56-1.25-1.25-1.25H4.75Z",clipRule:"evenodd"},"1")]},micro:{viewBox:he.MICRO,paths:[c.jsx("path",{fillRule:"evenodd",d:"M4 1.75a.75.75 0 0 1 1.5 0V3h5V1.75a.75.75 0 0 1 1.5 0V3a2 2 0 0 1 2 2v7a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2V1.75ZM4.5 6a1 1 0 0 0-1 1v4.5a1 1 0 0 0 1 1h7a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1h-7Z",clipRule:"evenodd"},"1")]}},"map-pin":{micro:{viewBox:"0 0 20 20",paths:[c.jsx("path",{d:"M12.5 6C12.5 5.3125 12.2552 4.72396 11.7656 4.23437C11.276 3.74479 10.6875 3.5 10 3.5C9.3125 3.5 8.72396 3.74479 8.23438 4.23437C7.74479 4.72396 7.5 5.3125 7.5 6C7.5 6.6875 7.74479 7.27604 8.23438 7.76562C8.72396 8.25521 9.3125 8.5 10 8.5C10.6875 8.5 11.276 8.25521 11.7656 7.76562C12.2552 7.27604 12.5 6.6875 12.5 6ZM14 6C14 6.98653 13.691 7.84431 13.0729 8.57333C12.4549 9.30222 11.6806 9.75694 10.75 9.9375V18H9.25V9.9375C8.31944 9.75694 7.54514 9.30222 6.92708 8.57333C6.30903 7.84431 6 6.98653 6 6C6 4.88889 6.38889 3.94444 7.16667 3.16667C7.94444 2.38889 8.88889 2 10 2C11.1111 2 12.0556 2.38889 12.8333 3.16667C13.6111 3.94444 14 4.88889 14 6Z"},"1")]},mini:{viewBox:he.MINI,paths:[c.jsx("path",{fillRule:"evenodd",d:"M11.25 4.5C11.25 3.875 11.0104 3.35417 10.5313 2.9375C10.0521 2.52083 9.46875 2.3125 8.78125 2.3125C8.09375 2.3125 7.51042 2.52083 7.03125 2.9375C6.55208 3.35417 6.3125 3.875 6.3125 4.5C6.3125 5.125 6.55208 5.64583 7.03125 6.0625C7.51042 6.47917 8.09375 6.6875 8.78125 6.6875C9.46875 6.6875 10.0521 6.47917 10.5313 6.0625C11.0104 5.64583 11.25 5.125 11.25 4.5ZM12.5 4.5C12.5 5.29167 12.2344 5.98958 11.7031 6.59375C11.1719 7.19792 10.5156 7.59375 9.73438 7.78125V14H7.82813V7.78125C7.04688 7.59375 6.39063 7.19792 5.85938 6.59375C5.32813 5.98958 5.0625 5.29167 5.0625 4.5C5.0625 3.54167 5.37500 2.75000 6.00000 2.125C6.62500 1.50000 7.59375 1.1875 8.90625 1.1875C10.2188 1.1875 11.1875 1.50000 11.8125 2.125C12.4375 2.75000 12.5 3.54167 12.5 4.5Z",clipRule:"evenodd"},"1")]}},filter:{outline:{viewBox:he.DEFAULT,strokeWidth:1.5,paths:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"},"1")]},solid:{viewBox:he.DEFAULT,paths:[c.jsx("path",{fillRule:"evenodd",d:"M3.792 2.938A49.069 49.069 0 0 1 12 2.25c2.797 0 5.54.236 8.209.688a1.857 1.857 0 0 1 1.541 1.836v1.044a3 3 0 0 1-.879 2.121l-6.182 6.182a1.5 1.5 0 0 0-.439 1.061v2.927a3 3 0 0 1-1.658 2.684l-1.757.878A.75.75 0 0 1 9.75 21v-5.818a1.5 1.5 0 0 0-.44-1.06L3.13 7.938a3 3 0 0 1-.879-2.121V4.774c0-.897.64-1.683 1.542-1.836Z",clipRule:"evenodd"},"1")]},mini:{viewBox:he.MINI,paths:[c.jsx("path",{fillRule:"evenodd",d:"M2.628 1.601C5.028 1.206 7.49 1 10 1s4.973.206 7.372.601a.75.75 0 0 1 .628.74v2.288a2.25 2.25 0 0 1-.659 1.59l-4.682 4.683a2.25 2.25 0 0 0-.659 1.59v3.037c0 .684-.31 1.33-.844 1.757l-1.937 1.55A.75.75 0 0 1 8 18.25v-5.757a2.25 2.25 0 0 0-.659-1.591L2.659 6.22A2.25 2.25 0 0 1 2 4.629V2.34a.75.75 0 0 1 .628-.74Z",clipRule:"evenodd"},"1")]},micro:{viewBox:he.MICRO,paths:[c.jsx("path",{d:"M14 2a1 1 0 0 0-1-1H3a1 1 0 0 0-1 1v2.172a2 2 0 0 0 .586 1.414l2.828 2.828A2 2 0 0 1 6 9.828v4.363a.5.5 0 0 0 .724.447l2.17-1.085A2 2 0 0 0 10 11.763V9.829a2 2 0 0 1 .586-1.414l2.828-2.828A2 2 0 0 0 14 4.172V2Z"},"1")]}},gift:{outline:{viewBox:he.DEFAULT,strokeWidth:1.5,paths:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 11.25v8.25a1.5 1.5 0 0 1-1.5 1.5H5.25a1.5 1.5 0 0 1-1.5-1.5v-8.25M12 4.875A2.625 2.625 0 1 0 9.375 7.5H12m0-2.625V7.5m0-2.625A2.625 2.625 0 1 1 14.625 7.5H12m0 0V21m-8.625-9.75h18c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125h-18c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125Z"},"1")]},solid:{viewBox:he.DEFAULT,paths:[c.jsx("path",{d:"M9.375 3a1.875 1.875 0 0 0 0 3.75h1.875v4.5H3.375A1.875 1.875 0 0 1 1.5 9.375v-.75c0-1.036.84-1.875 1.875-1.875h3.193A3.375 3.375 0 0 1 12 2.753a3.375 3.375 0 0 1 5.432 3.997h3.943c1.035 0 1.875.84 1.875 1.875v.75c0 1.036-.84 1.875-1.875 1.875H12.75v-4.5h1.875a1.875 1.875 0 1 0-1.875-1.875V6.75h-1.5V4.875C11.25 3.839 10.41 3 9.375 3ZM11.25 12.75H3v6.75a2.25 2.25 0 0 0 2.25 2.25h6v-9ZM12.75 12.75v9h6.75a2.25 2.25 0 0 0 2.25-2.25v-6.75h-9Z"},"1")]},mini:{viewBox:he.MINI,paths:[c.jsx("path",{fillRule:"evenodd",d:"M14 6a2.5 2.5 0 0 0-4-3 2.5 2.5 0 0 0-4 3H3.25C2.56 6 2 6.56 2 7.25v.5C2 8.44 2.56 9 3.25 9h6V6h1.5v3h6C17.44 9 18 8.44 18 7.75v-.5C18 6.56 17.44 6 16.75 6H14Zm-1-1.5a1 1 0 0 1-1 1h-1v-1a1 1 0 1 1 2 0Zm-6 0a1 1 0 0 0 1 1h1v-1a1 1 0 0 0-2 0Z",clipRule:"evenodd"},"1"),c.jsx("path",{d:"M9.25 10.5H3v4.75A2.75 2.75 0 0 0 5.75 18h3.5v-7.5ZM10.75 18v-7.5H17v4.75A2.75 2.75 0 0 1 14.25 18h-3.5Z"},"2")]},micro:{viewBox:he.MICRO,paths:[c.jsx("path",{fillRule:"evenodd",d:"M3.75 3.5c0 .563.186 1.082.5 1.5H2a1 1 0 0 0 0 2h5.25V5h1.5v2H14a1 1 0 1 0 0-2h-2.25A2.5 2.5 0 0 0 8 1.714 2.5 2.5 0 0 0 3.75 3.5Zm3.499 0v-.038A1 1 0 1 0 6.25 4.5h1l-.001-1Zm2.5-1a1 1 0 0 0-1 .962l.001.038v1h.999a1 1 0 0 0 0-2Z",clipRule:"evenodd"},"1"),c.jsx("path",{d:"M7.25 8.5H2V12a2 2 0 0 0 2 2h3.25V8.5ZM8.75 14V8.5H14V12a2 2 0 0 1-2 2H8.75Z"},"2")]}},banknotes:{outline:{viewBox:he.DEFAULT,strokeWidth:1.5,paths:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18.75a60.07 60.07 0 0 1 15.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 0 1 3 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 0 0-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 0 1-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 0 0 3 15h-.75M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm3 0h.008v.008H18V10.5Zm-12 0h.008v.008H6V10.5Z"},"1")]},solid:{viewBox:he.DEFAULT,paths:[c.jsx("path",{d:"M12 7.5a2.25 2.25 0 1 0 0 4.5 2.25 2.25 0 0 0 0-4.5Z"},"1"),c.jsx("path",{fillRule:"evenodd",d:"M1.5 4.875C1.5 3.839 2.34 3 3.375 3h17.25c1.035 0 1.875.84 1.875 1.875v9.75c0 1.036-.84 1.875-1.875 1.875H3.375A1.875 1.875 0 0 1 1.5 14.625v-9.75ZM8.25 9.75a3.75 3.75 0 1 1 7.5 0 3.75 3.75 0 0 1-7.5 0ZM18.75 9a.75.75 0 0 0-.75.75v.008c0 .414.336.75.75.75h.008a.75.75 0 0 0 .75-.75V9.75a.75.75 0 0 0-.75-.75h-.008ZM4.5 9.75A.75.75 0 0 1 5.25 9h.008a.75.75 0 0 1 .75.75v.008a.75.75 0 0 1-.75.75H5.25a.75.75 0 0 1-.75-.75V9.75Z",clipRule:"evenodd"},"2"),c.jsx("path",{d:"M2.25 18a.75.75 0 0 0 0 1.5c5.4 0 10.63.722 15.6 2.075 1.19.324 2.4-.558 2.4-1.82V18.75a.75.75 0 0 0-.75-.75H2.25Z"},"3")]},mini:{viewBox:he.MINI,paths:[c.jsx("path",{fillRule:"evenodd",d:"M1 4a1 1 0 0 1 1-1h16a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4Zm12 4a3 3 0 1 1-6 0 3 3 0 0 1 6 0ZM4 9a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm13-1a1 1 0 1 1-2 0 1 1 0 0 1 2 0ZM1.75 14.5a.75.75 0 0 0 0 1.5c4.417 0 8.693.603 12.749 1.73 1.111.309 2.251-.512 2.251-1.696v-.784a.75.75 0 0 0-1.5 0v.784a.272.272 0 0 1-.35.25A49.043 49.043 0 0 0 1.75 14.5Z",clipRule:"evenodd"},"1")]},micro:{viewBox:he.MICRO,paths:[c.jsx("path",{fillRule:"evenodd",d:"M1 3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V3Zm9 3a2 2 0 1 1-4 0 2 2 0 0 1 4 0Zm-6.25-.75a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5ZM11.5 6A.75.75 0 1 1 13 6a.75.75 0 0 1-1.5 0Z",clipRule:"evenodd"},"1"),c.jsx("path",{d:"M13 11.75a.75.75 0 0 0-1.5 0v.179c0 .15-.138.28-.306.255A65.277 65.277 0 0 0 1.75 11.5a.75.75 0 0 0 0 1.5c3.135 0 6.215.228 9.227.668A1.764 1.764 0 0 0 13 11.928v-.178Z"},"2")]}},"exclamation-triangle":{solid:{viewBox:he.DEFAULT,paths:[c.jsx("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003ZM12 8.25a.75.75 0 0 1 .75.75v3.75a.75.75 0 0 1-1.5 0V9a.75.75 0 0 1 .75-.75Zm0 8.25a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z",clipRule:"evenodd"},"1")]},outline:{viewBox:he.DEFAULT,strokeWidth:1.5,paths:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"},"1")]},mini:{viewBox:he.MINI,paths:[c.jsx("path",{fillRule:"evenodd",d:"M8.485 2.495c.673-1.167 2.357-1.167 3.03 0l6.28 10.875c.673 1.167-.17 2.625-1.516 2.625H3.72c-1.347 0-2.189-1.458-1.515-2.625L8.485 2.495ZM10 5a.75.75 0 0 1 .75.75v3.5a.75.75 0 0 1-1.5 0v-3.5A.75.75 0 0 1 10 5Zm0 9a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z",clipRule:"evenodd"},"1")]},micro:{viewBox:he.MICRO,paths:[c.jsx("path",{fillRule:"evenodd",d:"M6.701 2.25c.577-1 2.02-1 2.598 0l5.196 9a1.5 1.5 0 0 1-1.299 2.25H2.804a1.5 1.5 0 0 1-1.3-2.25l5.197-9ZM8 4a.75.75 0 0 1 .75.75v3a.75.75 0 1 1-1.5 0v-3A.75.75 0 0 1 8 4Zm0 8a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z",clipRule:"evenodd"},"1")]}},"info-circle":{solid:{viewBox:he.DEFAULT,paths:[c.jsx("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm8.706-1.442c1.146-.573 2.437.463 2.126 1.706l-.709 2.836.042-.02a.75.75 0 0 1 .67 1.34l-.04.022c-1.147.573-2.438-.463-2.127-1.706l.71-2.836-.042.02a.75.75 0 1 1-.671-1.34l.041-.022ZM12 9a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z",clipRule:"evenodd"},"1")]},outline:{viewBox:he.DEFAULT,strokeWidth:1.5,paths:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"},"1")]},mini:{viewBox:he.MINI,paths:[c.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 1 1-16 0 8 8 0 0 1 16 0Zm-7-4a1 1 0 1 1-2 0 1 1 0 0 1 2 0ZM9 9a.75.75 0 0 0 0 1.5h.253a.25.25 0 0 1 .244.304l-.459 2.066A1.75 1.75 0 0 0 10.747 15H11a.75.75 0 0 0 0-1.5h-.253a.25.25 0 0 1-.244-.304l.459-2.066A1.75 1.75 0 0 0 9.253 9H9Z",clipRule:"evenodd"},"1")]},micro:{viewBox:he.MICRO,paths:[c.jsx("path",{fillRule:"evenodd",d:"M15 8A7 7 0 1 1 1 8a7 7 0 0 1 14 0ZM9 5a1 1 0 1 1-2 0 1 1 0 0 1 2 0ZM6.75 8a.75.75 0 0 0 0 1.5h.75v1.75a.75.75 0 0 0 1.5 0v-2.5A.75.75 0 0 0 8.25 8h-1.5Z",clipRule:"evenodd"},"1")]}},"not-used-icon":{micro:{viewBox:"0 -960 960 960",paths:[c.jsx("path",{d:"M480.28-96Q401-96 331-126t-122.5-82.5Q156-261 126-330.96t-30-149.5Q96-560 126-629.5q30-69.5 82.5-122T330.96-834q69.96-30 149.5-30t149.04 30q69.5 30 122 82.5T834-629.28q30 69.73 30 149Q864-401 834-331t-82.5 122.5Q699-156 629.28-126q-69.73 30-149 30Zm-.28-72q130 0 221-91t91-221q0-130-91-221t-221-91q-130 0-221 91t-91 221q0 130 91 221t221 91Zm0-312Z"},"1")]}},"partially-used-icon":{micro:{viewBox:"0 -960 960 960",paths:[c.jsx("path",{d:"M480-480Zm-384 0q0-85 34.5-158.5T223-765q58-53 134.5-79T519-862q15 2 23 14t5 27q-3 15-15.5 23.5T504-791q-67-5-127.5 17T269-709q-47 43-74 101.5T168-480q0 130 91 221t221 91q68 0 127-27t102-73q45-48 66-109t16-127q-2-15 6.5-27.5T821-547q15-3 27 5t14 23q8 85-17.5 160.5T766-224q-55 62-129.5 95T480-96q-79 0-149-30t-122.5-82.5Q156-261 126-331T96-480Zm624-120q-50 0-85-35t-35-85q0-50 35-85t85-35q50 0 85 35t35 85q0 50-35 85t-85 35Z"},"1")]}},"used-icon":{micro:{viewBox:"0 -960 960 960",paths:[c.jsx("path",{d:"m429-336 238-237-51-51-187 186-85-84-51 51 136 135Zm51 240q-79 0-149-30t-122.5-82.5Q156-261 126-331T96-480q0-80 30-149.5t82.5-122Q261-804 331-834t149-30q80 0 149.5 30t122 82.5Q804-699 834-629.5T864-480q0 79-30 149t-82.5 122.5Q699-156 629.5-126T480-96Zm0-72q130 0 221-91t91-221q0-130-91-221t-221-91q-130 0-221 91t-91 221q0 130 91 221t221 91Zm0-312Z"},"1")]}},inactive:{micro:{viewBox:"0 -960 960 960",paths:[c.jsx("path",{d:"m768-91-72-72q-48.39 32-103.19 49Q538-97 480.49-97q-79.55 0-149.52-30Q261-157 208.5-209.5T126-331.97q-30-69.97-30-149.52 0-57.51 17-112.32 17-54.8 49-103.19l-72-73 51-51 678 679-51 51Zm-288-78q43.69 0 84.85-12Q606-193 643-216L215-644q-23 37-35 78.15-12 41.16-12 84.85 0 129.67 91.16 220.84Q350.33-169 480-169Zm318-97-53-52q22-37 34.5-78.15Q792-437.31 792-481q0-129.67-91.16-220.84Q609.67-793 480-793q-43 0-84.5 12T317-747l-53-52q48.39-32 103.19-49Q422-865 479.9-865q80.1 0 149.6 30t122 82.5Q804-700 834-630.5t30 149.6q0 57.9-17 112.36T798-266ZM536-531ZM432-427Z"},"1")]}},"check-circle":{solid:{viewBox:he.DEFAULT,paths:[c.jsx("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm13.36-1.814a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"},"1")]},outline:{viewBox:he.DEFAULT,strokeWidth:1.5,paths:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"},"1")]},mini:{viewBox:he.MINI,paths:[c.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 1 0 0-16 8 8 0 0 0 0 16Zm3.857-9.809a.75.75 0 0 0-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 1 0-1.06 1.061l2.5 2.5a.75.75 0 0 0 1.137-.089l4-5.5Z",clipRule:"evenodd"},"1")]},micro:{viewBox:he.MICRO,paths:[c.jsx("path",{fillRule:"evenodd",d:"M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14Zm3.844-8.791a.75.75 0 0 0-1.188-.918l-3.7 4.79-1.649-1.833a.75.75 0 1 0-1.114 1.004l2.25 2.5a.75.75 0 0 0 1.15-.043l4.25-5.5Z",clipRule:"evenodd"},"1")]}},"x-mark":{outline:{viewBox:he.DEFAULT,strokeWidth:1.5,paths:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"},"1")]},solid:{viewBox:he.DEFAULT,paths:[c.jsx("path",{fillRule:"evenodd",d:"M5.47 5.47a.75.75 0 0 1 1.06 0L12 10.94l5.47-5.47a.75.75 0 1 1 1.06 1.06L13.06 12l5.47 5.47a.75.75 0 1 1-1.06 1.06L12 13.06l-5.47 5.47a.75.75 0 0 1-1.06-1.06L10.94 12 5.47 6.53a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"},"1")]},mini:{viewBox:he.MINI,paths:[c.jsx("path",{d:"M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z"},"1")]},micro:{viewBox:he.MICRO,paths:[c.jsx("path",{d:"M5.28 4.22a.75.75 0 0 0-1.06 1.06L6.94 8l-2.72 2.72a.75.75 0 1 0 1.06 1.06L8 9.06l2.72 2.72a.75.75 0 1 0 1.06-1.06L9.06 8l2.72-2.72a.75.75 0 0 0-1.06-1.06L8 6.94 5.28 4.22Z"},"1")]}}},De=({name:t,variant:e="solid",size:n,width:r,height:s,color:o="currentColor",fillColor:l,strokeColor:u,strokeWidth:h,viewBox:p,className:v="",...y})=>{const T=VN[t];if(!T)return console.warn(`Icon "${t}" not found in registry`),null;const k=T[e];if(!k)return console.warn(`Variant "${e}" not found for icon "${t}"`),null;const N=r||n||24,D=s||n||24,j=p||k.viewBox||he.DEFAULT,L=k.noFill||!1;let U=l,B=u;L?(U=l||"none",B=u||o):(U=l||(e==="outline"?"none":o),B=u||(e==="outline"?o:"none"));const m=h||k.strokeWidth||(e==="outline"||L?1.5:void 0),S=t==="spinner"?`animate-spin ${v}`:v;return c.jsx("svg",{className:S,xmlns:"http://www.w3.org/2000/svg",width:N,height:D,viewBox:j,fill:U,stroke:B,strokeWidth:m,strokeLinecap:"round",strokeLinejoin:"round",style:{color:o},...y,children:k.paths})},FE=40,gx={USER:"user",ASSISTANT:"assistant"},Ho={KEEP_HISTORY:"keep_history",DO_NOT_TRACK_HISTORY:"do_not_track_history"},Ts={FREE:"free",PREMIUM:"premium"},mp=[{value:1,label:"January"},{value:2,label:"February"},{value:3,label:"March"},{value:4,label:"April"},{value:5,label:"May"},{value:6,label:"June"},{value:7,label:"July"},{value:8,label:"August"},{value:9,label:"September"},{value:10,label:"October"},{value:11,label:"November"},{value:12,label:"December"}],vx=[{value:1,label:"Jan"},{value:2,label:"Feb"},{value:3,label:"Mar"},{value:4,label:"Apr"},{value:5,label:"May"},{value:6,label:"Jun"},{value:7,label:"Jul"},{value:8,label:"Aug"},{value:9,label:"Sep"},{value:10,label:"Oct"},{value:11,label:"Nov"},{value:12,label:"Dec"}],Bn="ReCard",em="/temp_logo.png",UN="https://placehold.co/20x20",HN="/temp_avatar.png",BN=20,$N=20,vv=3,zN=250,WN=90,Zr=780,GN="Guest",qN="/temp_account.png",Xn={nounSingular:"chat",nounPlural:"chats",historyTitle:"Chat History",newChatButton:"New Chat",recentSectionTitle:"Recent Chats",loadingHistory:"Loading chat history...",emptyHistory:"No chat history available",emptyHistoryForPeriod:"No chat history available for this period",promptHistoryLoading:"Loading chat history...",inlineNewChatReminder:"create a new chat"},KN=Xn.newChatButton,YN="https://placehold.co/20x20",Go=(t={})=>xe.createElement(De,{name:"spinner",variant:"default",size:12,...t}),qa=12,rt={HOME:"Home",TRANSACTION_HISTORY:Xn.historyTitle,MY_CARDS:"My Cards",MY_CREDITS:"My Credits",NEW_TRANSACTION_CHAT:Xn.newChatButton,PREFERENCES:"Preferences",MY_ACCOUNT:"My Account",SIGN_OUT:"Sign Out"},Ki="#B5BBC2",ZN="#5A5F66",Qn="#22CC9D",gp="#007B53",Py="#EF4444",td=Ki,Vu=Qn,ko=Ki,an={HOME:{ACTIVE:(t={})=>Ft("home","solid",Vu,t.size),INACTIVE:(t={})=>Ft("home","outline",ko,t.size),MINI:(t={})=>Ft("home","mini",Qn,t.size)},TRANSACTION_HISTORY:{ACTIVE:(t={})=>Ft("history","solid",Vu,t.size),INACTIVE:(t={})=>Ft("history","outline",ko,t.size),MINI:(t={})=>Ft("history","mini",Qn,t.size)},MY_CARDS:{ACTIVE:(t={})=>Ft("card","solid",Vu,t.size),INACTIVE:(t={})=>Ft("card","outline",ko,t.size),MINI:(t={})=>Ft("card","mini",Qn,t.size)},MY_CREDITS:{ACTIVE:(t={})=>Ft("banknotes","solid",Vu,t.size),INACTIVE:(t={})=>Ft("banknotes","outline",ko,t.size),MINI:(t={})=>Ft("banknotes","mini",Qn,t.size)},PREFERENCES:{ACTIVE:(t={})=>Ft("preferences","solid",Vu,t.size),INACTIVE:(t={})=>Ft("preferences","outline",ko,t.size),MINI:(t={})=>Ft("preferences","mini",Qn,t.size)},MY_ACCOUNT:{MINI:(t={})=>Ft("account","mini",Qn,t.size)},DELETE_HISTORY:{MINI:(t={})=>Ft("delete","mini",Qn,t.size)},LOGO:em},VE=Ki,QN=Py,Do={PREFERENCES:{NORMAL:(t={})=>Ft("preferences","mini",VE,t.size)},MY_ACCOUNT:{NORMAL:(t={})=>Ft("account","mini",VE,t.size)},SIGN_OUT:{RED:(t={})=>Ft("sign-out","mini",QN,t.size)}},XN=["January","February","March","April","May","June","July","August","September","October","November","December"],Ni=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Js={DEFAULT:Ki,ERROR:"#ff4444",INFO:"#2196F3",WARNING:"#ff9800",SUCCESS:"#4caf50",LOADING:"#6b7280"},ql={DEFAULT:"",ERROR:(t={})=>Ft("exclamation-triangle","mini",Js.ERROR,t.size),INFO:(t={})=>Ft("info-circle","mini",Js.INFO,t.size),WARNING:(t={})=>Ft("exclamation-triangle","mini",Js.WARNING,t.size),SUCCESS:(t={})=>Ft("check-circle","mini",Js.SUCCESS,t.size),LOADING:"loading-spinner"},Kl={DEFAULT:"",ERROR:"Error",INFO:"Info",WARNING:"Warning",SUCCESS:"Success",LOADING:"Loading"},vp={FREE:"Free Plan",PREMIUM:"Premium Plan"},fe={HOME:{PATH:"/",TITLE:"Home",DYNAMIC_PATH:"/:chatId"},SIGN_IN:{PATH:"/signin",TITLE:"Sign In"},SIGN_UP:{PATH:"/signup",TITLE:"Sign Up"},FORGOT_PASSWORD:{PATH:"/forgotpassword",TITLE:"Reset Password"},WELCOME:{PATH:"/welcome",TITLE:"Welcome"},PREFERENCES:{PATH:"/preferences",TITLE:"Preferences"},ACCOUNT:{PATH:"/account",TITLE:"Account"},HISTORY:{PATH:"/history",TITLE:rt.TRANSACTION_HISTORY},MY_CARDS:{PATH:"/my-cards",TITLE:"My Cards"},MY_CREDITS:{PATH:"/my-credits",TITLE:"My Credits"},MY_CREDITS_HISTORY:{PATH:"/my-credits/history",TITLE:"My Credits"},DELETE_HISTORY:{PATH:"/delete-history",TITLE:"Delete History"}},Ma={getPageByPath:t=>Object.values(fe).find(n=>{if(n.PATH===t)return!0;if("DYNAMIC_PATH"in n&&n.DYNAMIC_PATH){const r=n;return new RegExp(`^${r.DYNAMIC_PATH.replace(":chatId","[^/]+")}$`).test(t)}return!1})||null,getTitleByPath:t=>{const e=Ma.getPageByPath(t);return e?e.TITLE:null},isPage:(t,e)=>{const n=fe[e];if(t===n.PATH)return!0;if("DYNAMIC_PATH"in n&&n.DYNAMIC_PATH&&e==="HOME")return Object.values(fe).map(o=>o.PATH.slice(1)).filter(o=>o).some(o=>t===`/${o}`)?!1:/^\/[a-zA-Z0-9_-]+$/.test(t);if("DYNAMIC_PATH"in n&&n.DYNAMIC_PATH){const r=n;return new RegExp(`^${r.DYNAMIC_PATH.replace(":chatId","[^/]+")}$`).test(t)}return!1},getAllPaths:()=>Object.values(fe).map(t=>t.PATH),getAllTitles:()=>Object.values(fe).map(t=>t.TITLE)},JN=()=>{};var UE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yx=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},ek=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=t[n++];e[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=t[n++],l=t[n++],u=t[n++],h=((s&7)<<18|(o&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const o=t[n++],l=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|l&63)}}return e.join("")},wx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const o=t[s],l=s+1<t.length,u=l?t[s+1]:0,h=s+2<t.length,p=h?t[s+2]:0,v=o>>2,y=(o&3)<<4|u>>4;let T=(u&15)<<2|p>>6,k=p&63;h||(k=64,l||(T=64)),r.push(n[v],n[y],n[T],n[k])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(yx(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):ek(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const o=n[t.charAt(s++)],u=s<t.length?n[t.charAt(s)]:0;++s;const p=s<t.length?n[t.charAt(s)]:64;++s;const y=s<t.length?n[t.charAt(s)]:64;if(++s,o==null||u==null||p==null||y==null)throw new tk;const T=o<<2|u>>4;if(r.push(T),p!==64){const k=u<<4&240|p>>2;if(r.push(k),y!==64){const N=p<<6&192|y;r.push(N)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class tk extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const nk=function(t){const e=yx(t);return wx.encodeByteArray(e,!0)},yp=function(t){return nk(t).replace(/\./g,"")},_x=function(t){try{return wx.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ex(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rk=()=>Ex().__FIREBASE_DEFAULTS__,sk=()=>{if(typeof process>"u"||typeof UE>"u")return;const t=UE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},ik=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&_x(t[1]);return e&&JSON.parse(e)},tm=()=>{try{return JN()||rk()||sk()||ik()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Sx=t=>{var e,n;return(n=(e=tm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},ok=t=>{const e=Sx(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},xx=()=>{var t;return(t=tm())===null||t===void 0?void 0:t.config},Tx=t=>{var e;return(e=tm())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uc(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function bx(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lk(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[yp(JSON.stringify(n)),yp(JSON.stringify(l)),""].join(".")}const nd={};function ck(){const t={prod:[],emulator:[]};for(const e of Object.keys(nd))nd[e]?t.emulator.push(e):t.prod.push(e);return t}function uk(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let HE=!1;function Cx(t,e){if(typeof window>"u"||typeof document>"u"||!Uc(window.location.host)||nd[t]===e||nd[t]||HE)return;nd[t]=e;function n(T){return`__firebase__banner__${T}`}const r="__firebase__banner",o=ck().prod.length>0;function l(){const T=document.getElementById(r);T&&T.remove()}function u(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function h(T,k){T.setAttribute("width","24"),T.setAttribute("id",k),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function p(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{HE=!0,l()},T}function v(T,k){T.setAttribute("id",k),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function y(){const T=uk(r),k=n("text"),N=document.getElementById(k)||document.createElement("span"),D=n("learnmore"),j=document.getElementById(D)||document.createElement("a"),L=n("preprendIcon"),U=document.getElementById(L)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const B=T.element;u(B),v(j,D);const m=p();h(U,L),B.append(U,N,j,m),document.body.appendChild(B)}o?(N.innerText="Preview backend disconnected.",U.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(U.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,N.innerText="Preview backend running in this workspace."),N.setAttribute("id",k)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dk(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(En())}function Ix(){var t;const e=(t=tm())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function hk(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function fk(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function pk(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function mk(){const t=En();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Ax(){return!Ix()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Rx(){return!Ix()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function Px(){try{return typeof indexedDB=="object"}catch{return!1}}function gk(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var o;e(((o=s.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vk="FirebaseError";class Yi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=vk,Object.setPrototypeOf(this,Yi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ud.prototype.create)}}class Ud{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,o=this.errors[e],l=o?yk(o,r):"Error",u=`${this.serviceName}: ${l} (${s}).`;return new Yi(s,u,r)}}function yk(t,e){return t.replace(wk,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const wk=/\{\$([^}]+)}/g;function _k(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ka(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const o=t[s],l=e[s];if(BE(o)&&BE(l)){if(!Ka(o,l))return!1}else if(o!==l)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function BE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hd(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Zu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,o]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(o)}}),e}function Qu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function Ek(t,e){const n=new Sk(t,e);return n.subscribe.bind(n)}class Sk{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");xk(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=A0),s.error===void 0&&(s.error=A0),s.complete===void 0&&(s.complete=A0);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function xk(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function A0(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ms(t){return t&&t._delegate?t._delegate:t}class Ya{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new ak;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Ck(e))try{this.getOrInitializeService({instanceIdentifier:Aa})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(e=Aa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Aa){return this.instances.has(e)}getOptions(e=Aa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);r===u&&l.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(s,o);const l=this.instances.get(s);return l&&e(l,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:bk(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Aa){return this.component?this.component.multipleInstances?e:Aa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function bk(t){return t===Aa?void 0:t}function Ck(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Tk(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(gt||(gt={}));const Ak={debug:gt.DEBUG,verbose:gt.VERBOSE,info:gt.INFO,warn:gt.WARN,error:gt.ERROR,silent:gt.SILENT},Rk=gt.INFO,Pk={[gt.DEBUG]:"log",[gt.VERBOSE]:"log",[gt.INFO]:"info",[gt.WARN]:"warn",[gt.ERROR]:"error"},Nk=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=Pk[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ny{constructor(e){this.name=e,this._logLevel=Rk,this._logHandler=Nk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in gt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Ak[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,gt.DEBUG,...e),this._logHandler(this,gt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,gt.VERBOSE,...e),this._logHandler(this,gt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,gt.INFO,...e),this._logHandler(this,gt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,gt.WARN,...e),this._logHandler(this,gt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,gt.ERROR,...e),this._logHandler(this,gt.ERROR,...e)}}const kk=(t,e)=>e.some(n=>t instanceof n);let $E,zE;function Dk(){return $E||($E=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jk(){return zE||(zE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Nx=new WeakMap,yv=new WeakMap,kx=new WeakMap,R0=new WeakMap,ky=new WeakMap;function Mk(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",o),t.removeEventListener("error",l)},o=()=>{n(Bo(t.result)),s()},l=()=>{r(t.error),s()};t.addEventListener("success",o),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&Nx.set(n,t)}).catch(()=>{}),ky.set(e,t),e}function Ok(t){if(yv.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",l),t.removeEventListener("abort",l)},o=()=>{n(),s()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",o),t.addEventListener("error",l),t.addEventListener("abort",l)});yv.set(t,e)}let wv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return yv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||kx.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Bo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Lk(t){wv=t(wv)}function Fk(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(P0(this),e,...n);return kx.set(r,e.sort?e.sort():[e]),Bo(r)}:jk().includes(t)?function(...e){return t.apply(P0(this),e),Bo(Nx.get(this))}:function(...e){return Bo(t.apply(P0(this),e))}}function Vk(t){return typeof t=="function"?Fk(t):(t instanceof IDBTransaction&&Ok(t),kk(t,Dk())?new Proxy(t,wv):t)}function Bo(t){if(t instanceof IDBRequest)return Mk(t);if(R0.has(t))return R0.get(t);const e=Vk(t);return e!==t&&(R0.set(t,e),ky.set(e,t)),e}const P0=t=>ky.get(t);function Uk(t,e,{blocked:n,upgrade:r,blocking:s,terminated:o}={}){const l=indexedDB.open(t,e),u=Bo(l);return r&&l.addEventListener("upgradeneeded",h=>{r(Bo(l.result),h.oldVersion,h.newVersion,Bo(l.transaction),h)}),n&&l.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),u.then(h=>{o&&h.addEventListener("close",()=>o()),s&&h.addEventListener("versionchange",p=>s(p.oldVersion,p.newVersion,p))}).catch(()=>{}),u}const Hk=["get","getKey","getAll","getAllKeys","count"],Bk=["put","add","delete","clear"],N0=new Map;function WE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(N0.get(e))return N0.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=Bk.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||Hk.includes(n)))return;const o=async function(l,...u){const h=this.transaction(l,s?"readwrite":"readonly");let p=h.store;return r&&(p=p.index(u.shift())),(await Promise.all([p[n](...u),s&&h.done]))[0]};return N0.set(e,o),o}Lk(t=>({...t,get:(e,n,r)=>WE(e,n)||t.get(e,n,r),has:(e,n)=>!!WE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(zk(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function zk(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const _v="@firebase/app",GE="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hi=new Ny("@firebase/app"),Wk="@firebase/app-compat",Gk="@firebase/analytics-compat",qk="@firebase/analytics",Kk="@firebase/app-check-compat",Yk="@firebase/app-check",Zk="@firebase/auth",Qk="@firebase/auth-compat",Xk="@firebase/database",Jk="@firebase/data-connect",e7="@firebase/database-compat",t7="@firebase/functions",n7="@firebase/functions-compat",r7="@firebase/installations",s7="@firebase/installations-compat",i7="@firebase/messaging",o7="@firebase/messaging-compat",a7="@firebase/performance",l7="@firebase/performance-compat",c7="@firebase/remote-config",u7="@firebase/remote-config-compat",d7="@firebase/storage",h7="@firebase/storage-compat",f7="@firebase/firestore",p7="@firebase/ai",m7="@firebase/firestore-compat",g7="firebase",v7="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ev="[DEFAULT]",y7={[_v]:"fire-core",[Wk]:"fire-core-compat",[qk]:"fire-analytics",[Gk]:"fire-analytics-compat",[Yk]:"fire-app-check",[Kk]:"fire-app-check-compat",[Zk]:"fire-auth",[Qk]:"fire-auth-compat",[Xk]:"fire-rtdb",[Jk]:"fire-data-connect",[e7]:"fire-rtdb-compat",[t7]:"fire-fn",[n7]:"fire-fn-compat",[r7]:"fire-iid",[s7]:"fire-iid-compat",[i7]:"fire-fcm",[o7]:"fire-fcm-compat",[a7]:"fire-perf",[l7]:"fire-perf-compat",[c7]:"fire-rc",[u7]:"fire-rc-compat",[d7]:"fire-gcs",[h7]:"fire-gcs-compat",[f7]:"fire-fst",[m7]:"fire-fst-compat",[p7]:"fire-vertex","fire-js":"fire-js",[g7]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wp=new Map,w7=new Map,Sv=new Map;function qE(t,e){try{t.container.addComponent(e)}catch(n){Hi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ec(t){const e=t.name;if(Sv.has(e))return Hi.debug(`There were multiple attempts to register component ${e}.`),!1;Sv.set(e,t);for(const n of wp.values())qE(n,t);for(const n of w7.values())qE(n,t);return!0}function Dy(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Pr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _7={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},$o=new Ud("app","Firebase",_7);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E7{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ya("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw $o.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hc=v7;function Dx(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Ev,automaticDataCollectionEnabled:!0},e),s=r.name;if(typeof s!="string"||!s)throw $o.create("bad-app-name",{appName:String(s)});if(n||(n=xx()),!n)throw $o.create("no-options");const o=wp.get(s);if(o){if(Ka(n,o.options)&&Ka(r,o.config))return o;throw $o.create("duplicate-app",{appName:s})}const l=new Ik(s);for(const h of Sv.values())l.addComponent(h);const u=new E7(n,r,l);return wp.set(s,u),u}function jx(t=Ev){const e=wp.get(t);if(!e&&t===Ev&&xx())return Dx();if(!e)throw $o.create("no-app",{appName:t});return e}function zo(t,e,n){var r;let s=(r=y7[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const o=s.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const u=[`Unable to register library "${s}" with version "${e}":`];o&&u.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Hi.warn(u.join(" "));return}Ec(new Ya(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S7="firebase-heartbeat-database",x7=1,gd="firebase-heartbeat-store";let k0=null;function Mx(){return k0||(k0=Uk(S7,x7,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(gd)}catch(n){console.warn(n)}}}}).catch(t=>{throw $o.create("idb-open",{originalErrorMessage:t.message})})),k0}async function T7(t){try{const n=(await Mx()).transaction(gd),r=await n.objectStore(gd).get(Ox(t));return await n.done,r}catch(e){if(e instanceof Yi)Hi.warn(e.message);else{const n=$o.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Hi.warn(n.message)}}}async function KE(t,e){try{const r=(await Mx()).transaction(gd,"readwrite");await r.objectStore(gd).put(e,Ox(t)),await r.done}catch(n){if(n instanceof Yi)Hi.warn(n.message);else{const r=$o.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Hi.warn(r.message)}}}function Ox(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b7=1024,C7=30;class I7{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new R7(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=YE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(l=>l.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats.length>C7){const l=P7(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Hi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=YE(),{heartbeatsToSend:r,unsentEntries:s}=A7(this._heartbeatsCache.heartbeats),o=yp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Hi.warn(n),""}}}function YE(){return new Date().toISOString().substring(0,10)}function A7(t,e=b7){const n=[];let r=t.slice();for(const s of t){const o=n.find(l=>l.agent===s.agent);if(o){if(o.dates.push(s.date),ZE(n)>e){o.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),ZE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class R7{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Px()?gk().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await T7(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return KE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return KE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function ZE(t){return yp(JSON.stringify({version:2,heartbeats:t})).length}function P7(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N7(t){Ec(new Ya("platform-logger",e=>new $k(e),"PRIVATE")),Ec(new Ya("heartbeat",e=>new I7(e),"PRIVATE")),zo(_v,GE,t),zo(_v,GE,"esm2017"),zo("fire-js","")}N7("");var k7="firebase",D7="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zo(k7,D7,"app");var ei=function(){return ei=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},ei.apply(this,arguments)};function Bd(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function j7(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,o;r<s;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}function Lx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const M7=Lx,Fx=new Ud("auth","Firebase",Lx());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _p=new Ny("@firebase/auth");function O7(t,...e){_p.logLevel<=gt.WARN&&_p.warn(`Auth (${Hc}): ${t}`,...e)}function Kf(t,...e){_p.logLevel<=gt.ERROR&&_p.error(`Auth (${Hc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qr(t,...e){throw My(t,...e)}function bs(t,...e){return My(t,...e)}function jy(t,e,n){const r=Object.assign(Object.assign({},M7()),{[e]:n});return new Ud("auth","Firebase",r).create(e,{appName:t.name})}function Fi(t){return jy(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function L7(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Qr(t,"argument-error"),jy(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function My(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Fx.create(t,...e)}function Ke(t,e,...n){if(!t)throw My(e,...n)}function ji(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Kf(e),new Error(e)}function Bi(t,e){t||ji(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function F7(){return QE()==="http:"||QE()==="https:"}function QE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V7(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(F7()||fk()||"connection"in navigator)?navigator.onLine:!0}function U7(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(e,n){this.shortDelay=e,this.longDelay=n,Bi(n>e,"Short delay should be less than long delay!"),this.isMobile=dk()||pk()}get(){return V7()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oy(t,e){Bi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ji("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ji("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ji("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H7={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B7=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],$7=new $d(3e4,6e4);function Zi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ui(t,e,n,r,s={}){return Ux(t,s,async()=>{let o={},l={};r&&(e==="GET"?l=r:o={body:JSON.stringify(r)});const u=Hd(Object.assign({key:t.config.apiKey},l)).slice(1),h=await t._getAdditionalHeaders();h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode);const p=Object.assign({method:e,headers:h},o);return hk()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&Uc(t.emulatorConfig.host)&&(p.credentials="include"),Vx.fetch()(await Hx(t,t.config.apiHost,n,u),p)})}async function Ux(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},H7),e);try{const s=new W7(t),o=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw bf(t,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const u=o.ok?l.errorMessage:l.error.message,[h,p]=u.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw bf(t,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw bf(t,"email-already-in-use",l);if(h==="USER_DISABLED")throw bf(t,"user-disabled",l);const v=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw jy(t,v,p);Qr(t,v)}}catch(s){if(s instanceof Yi)throw s;Qr(t,"network-request-failed",{message:String(s)})}}async function zd(t,e,n,r,s={}){const o=await ui(t,e,n,r,s);return"mfaPendingCredential"in o&&Qr(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function Hx(t,e,n,r){const s=`${e}${n}?${r}`,o=t,l=o.config.emulator?Oy(t.config,s):`${t.config.apiScheme}://${s}`;return B7.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(l).toString():l}function z7(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class W7{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(bs(this.auth,"network-request-failed")),$7.get())})}}function bf(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=bs(t,e,r);return s.customData._tokenResponse=n,s}function XE(t){return t!==void 0&&t.enterprise!==void 0}class G7{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return z7(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function q7(t,e){return ui(t,"GET","/v2/recaptchaConfig",Zi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K7(t,e){return ui(t,"POST","/v1/accounts:delete",e)}async function Ep(t,e){return ui(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Y7(t,e=!1){const n=Ms(t),r=await n.getIdToken(e),s=Ly(r);Ke(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,l=o==null?void 0:o.sign_in_provider;return{claims:s,token:r,authTime:rd(D0(s.auth_time)),issuedAtTime:rd(D0(s.iat)),expirationTime:rd(D0(s.exp)),signInProvider:l||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function D0(t){return Number(t)*1e3}function Ly(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Kf("JWT malformed, contained fewer than 3 sections"),null;try{const s=_x(n);return s?JSON.parse(s):(Kf("Failed to decode base64 JWT payload"),null)}catch(s){return Kf("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function JE(t){const e=Ly(t);return Ke(e,"internal-error"),Ke(typeof e.exp<"u","internal-error"),Ke(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Yi&&Z7(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Z7({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q7{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=rd(this.lastLoginAt),this.creationTime=rd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sp(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Sc(t,Ep(n,{idToken:r}));Ke(s==null?void 0:s.users.length,n,"internal-error");const o=s.users[0];t._notifyReloadListener(o);const l=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?Bx(o.providerUserInfo):[],u=J7(t.providerData,l),h=t.isAnonymous,p=!(t.email&&o.passwordHash)&&!(u!=null&&u.length),v=h?p:!1,y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Tv(o.createdAt,o.lastLoginAt),isAnonymous:v};Object.assign(t,y)}async function X7(t){const e=Ms(t);await Sp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function J7(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function Bx(t){return t.map(e=>{var{providerId:n}=e,r=Bd(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e8(t,e){const n=await Ux(t,{},async()=>{const r=Hd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=t.config,l=await Hx(t,s,"/v1/token",`key=${o}`),u=await t._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:u,body:r};return t.emulatorConfig&&Uc(t.emulatorConfig.host)&&(h.credentials="include"),Vx.fetch()(l,h)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function t8(t,e){return ui(t,"POST","/v2/accounts:revokeToken",Zi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ke(e.idToken,"internal-error"),Ke(typeof e.idToken<"u","internal-error"),Ke(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):JE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ke(e.length!==0,"internal-error");const n=JE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ke(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:o}=await e8(e,n);this.updateTokensAndExpiration(r,s,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:o}=n,l=new hc;return r&&(Ke(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),s&&(Ke(typeof s=="string","internal-error",{appName:e}),l.accessToken=s),o&&(Ke(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new hc,this.toJSON())}_performRefresh(){return ji("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function To(t,e){Ke(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Es{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,o=Bd(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Q7(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Tv(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Sc(this,this.stsTokenManager.getToken(this.auth,e));return Ke(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Y7(this,e)}reload(){return X7(this)}_assign(e){this!==e&&(Ke(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Es(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ke(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Sp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Pr(this.auth.app))return Promise.reject(Fi(this.auth));const e=await this.getIdToken();return await Sc(this,K7(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,o,l,u,h,p,v;const y=(r=n.displayName)!==null&&r!==void 0?r:void 0,T=(s=n.email)!==null&&s!==void 0?s:void 0,k=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,N=(l=n.photoURL)!==null&&l!==void 0?l:void 0,D=(u=n.tenantId)!==null&&u!==void 0?u:void 0,j=(h=n._redirectEventId)!==null&&h!==void 0?h:void 0,L=(p=n.createdAt)!==null&&p!==void 0?p:void 0,U=(v=n.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:B,emailVerified:m,isAnonymous:S,providerData:x,stsTokenManager:_}=n;Ke(B&&_,e,"internal-error");const b=hc.fromJSON(this.name,_);Ke(typeof B=="string",e,"internal-error"),To(y,e.name),To(T,e.name),Ke(typeof m=="boolean",e,"internal-error"),Ke(typeof S=="boolean",e,"internal-error"),To(k,e.name),To(N,e.name),To(D,e.name),To(j,e.name),To(L,e.name),To(U,e.name);const R=new Es({uid:B,auth:e,email:T,emailVerified:m,displayName:y,isAnonymous:S,photoURL:N,phoneNumber:k,tenantId:D,stsTokenManager:b,createdAt:L,lastLoginAt:U});return x&&Array.isArray(x)&&(R.providerData=x.map(P=>Object.assign({},P))),j&&(R._redirectEventId=j),R}static async _fromIdTokenResponse(e,n,r=!1){const s=new hc;s.updateFromServerResponse(n);const o=new Es({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Sp(o),o}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Ke(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?Bx(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!(o!=null&&o.length),u=new hc;u.updateFromIdToken(r);const h=new Es({uid:s.localId,auth:e,stsTokenManager:u,isAnonymous:l}),p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Tv(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(o!=null&&o.length)};return Object.assign(h,p),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e5=new Map;function Mi(t){Bi(t instanceof Function,"Expected a class definition");let e=e5.get(t);return e?(Bi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,e5.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}$x.type="NONE";const t5=$x;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yf(t,e,n){return`firebase:${t}:${e}:${n}`}class fc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:o}=this.auth;this.fullUserKey=Yf(this.userKey,s.apiKey,o),this.fullPersistenceKey=Yf("persistence",s.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Ep(this.auth,{idToken:e}).catch(()=>{});return n?Es._fromGetAccountInfoResponse(this.auth,n,e):null}return Es._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new fc(Mi(t5),e,r);const s=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let o=s[0]||Mi(t5);const l=Yf(r,e.config.apiKey,e.name);let u=null;for(const p of n)try{const v=await p._get(l);if(v){let y;if(typeof v=="string"){const T=await Ep(e,{idToken:v}).catch(()=>{});if(!T)break;y=await Es._fromGetAccountInfoResponse(e,T,v)}else y=Es._fromJSON(e,v);p!==o&&(u=y),o=p;break}}catch{}const h=s.filter(p=>p._shouldAllowMigration);return!o._shouldAllowMigration||!h.length?new fc(o,e,r):(o=h[0],u&&await o._set(l,u.toJSON()),await Promise.all(n.map(async p=>{if(p!==o)try{await p._remove(l)}catch{}})),new fc(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n5(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(qx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(zx(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Yx(e))return"Blackberry";if(Zx(e))return"Webos";if(Wx(e))return"Safari";if((e.includes("chrome/")||Gx(e))&&!e.includes("edge/"))return"Chrome";if(Kx(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function zx(t=En()){return/firefox\//i.test(t)}function Wx(t=En()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Gx(t=En()){return/crios\//i.test(t)}function qx(t=En()){return/iemobile/i.test(t)}function Kx(t=En()){return/android/i.test(t)}function Yx(t=En()){return/blackberry/i.test(t)}function Zx(t=En()){return/webos/i.test(t)}function Fy(t=En()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function n8(t=En()){var e;return Fy(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function r8(){return mk()&&document.documentMode===10}function Qx(t=En()){return Fy(t)||Kx(t)||Zx(t)||Yx(t)||/windows phone/i.test(t)||qx(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xx(t,e=[]){let n;switch(t){case"Browser":n=n5(En());break;case"Worker":n=`${n5(En())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Hc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s8{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((l,u)=>{try{const h=e(o);l(h)}catch(h){u(h)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i8(t,e={}){return ui(t,"GET","/v2/passwordPolicy",Zi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o8=6;class a8{constructor(e){var n,r,s,o;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=l.minPasswordLength)!==null&&n!==void 0?n:o8,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,o,l,u;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(n=h.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),h.isValid&&(h.isValid=(r=h.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),h.isValid&&(h.isValid=(s=h.containsLowercaseLetter)!==null&&s!==void 0?s:!0),h.isValid&&(h.isValid=(o=h.containsUppercaseLetter)!==null&&o!==void 0?o:!0),h.isValid&&(h.isValid=(l=h.containsNumericCharacter)!==null&&l!==void 0?l:!0),h.isValid&&(h.isValid=(u=h.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),h}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l8{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new r5(this),this.idTokenSubscription=new r5(this),this.beforeStateQueue=new s8(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Fx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Mi(n)),this._initializationPromise=this.queue(async()=>{var r,s,o;if(!this._deleted&&(this.persistenceManager=await fc.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Ep(this,{idToken:e}),r=await Es._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Pr(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,u=s==null?void 0:s._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===u)&&(h!=null&&h.user)&&(s=h.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ke(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Sp(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=U7()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Pr(this.app))return Promise.reject(Fi(this));const n=e?Ms(e):null;return n&&Ke(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ke(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Pr(this.app)?Promise.reject(Fi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Pr(this.app)?Promise.reject(Fi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Mi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await i8(this),n=new a8(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ud("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await t8(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Mi(e)||this._popupRedirectResolver;Ke(n,this,"argument-error"),this.redirectPersistenceManager=await fc.create(this,[Mi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ke(u,this,"internal-error"),u.then(()=>{l||o(this.currentUser)}),typeof n=="function"){const h=e.addObserver(n,r,s);return()=>{l=!0,h()}}else{const h=e.addObserver(n);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ke(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Xx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(Pr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&O7(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Qi(t){return Ms(t)}class r5{constructor(e){this.auth=e,this.observer=null,this.addObserver=Ek(n=>this.observer=n)}get next(){return Ke(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function c8(t){nm=t}function Jx(t){return nm.loadJS(t)}function u8(){return nm.recaptchaEnterpriseScript}function d8(){return nm.gapiScript}function h8(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class f8{constructor(){this.enterprise=new p8}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class p8{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const m8="recaptcha-enterprise",eT="NO_RECAPTCHA";class g8{constructor(e){this.type=m8,this.auth=Qi(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,u)=>{q7(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const p=new G7(h);return o.tenantId==null?o._agentRecaptchaConfig=p:o._tenantRecaptchaConfigs[o.tenantId]=p,l(p.siteKey)}}).catch(h=>{u(h)})})}function s(o,l,u){const h=window.grecaptcha;XE(h)?h.enterprise.ready(()=>{h.enterprise.execute(o,{action:e}).then(p=>{l(p)}).catch(()=>{l(eT)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new f8().execute("siteKey",{action:"verify"}):new Promise((o,l)=>{r(this.auth).then(u=>{if(!n&&XE(window.grecaptcha))s(u,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let h=u8();h.length!==0&&(h+=u),Jx(h).then(()=>{s(u,o,l)}).catch(p=>{l(p)})}}).catch(u=>{l(u)})})}}async function s5(t,e,n,r=!1,s=!1){const o=new g8(t);let l;if(s)l=eT;else try{l=await o.verify(n)}catch{l=await o.verify(n,!0)}const u=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const h=u.phoneEnrollmentInfo.phoneNumber,p=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:p,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const h=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function xp(t,e,n,r,s){var o;if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await s5(t,e,n,n==="getOobCode");return r(t,l)}else return r(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await s5(t,e,n,n==="getOobCode");return r(t,u)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v8(t,e){const n=Dy(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),o=n.getOptions();if(Ka(o,e??{}))return s;Qr(s,"already-initialized")}return n.initialize({options:e})}function y8(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Mi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function w8(t,e,n){const r=Qi(t);Ke(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,o=tT(e),{host:l,port:u}=_8(e),h=u===null?"":`:${u}`,p={url:`${o}//${l}${h}/`},v=Object.freeze({host:l,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Ke(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ke(Ka(p,r.config.emulator)&&Ka(v,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=v,r.settings.appVerificationDisabledForTesting=!0,Uc(l)?(bx(`${o}//${l}${h}`),Cx("Auth",!0)):E8()}function tT(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function _8(t){const e=tT(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const o=s[1];return{host:o,port:i5(r.substr(o.length+1))}}else{const[o,l]=r.split(":");return{host:o,port:i5(l)}}}function i5(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function E8(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ji("not implemented")}_getIdTokenResponse(e){return ji("not implemented")}_linkToIdToken(e,n){return ji("not implemented")}_getReauthenticationResolver(e){return ji("not implemented")}}async function S8(t,e){return ui(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x8(t,e){return zd(t,"POST","/v1/accounts:signInWithPassword",Zi(t,e))}async function nT(t,e){return ui(t,"POST","/v1/accounts:sendOobCode",Zi(t,e))}async function T8(t,e){return nT(t,e)}async function b8(t,e){return nT(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C8(t,e){return zd(t,"POST","/v1/accounts:signInWithEmailLink",Zi(t,e))}async function I8(t,e){return zd(t,"POST","/v1/accounts:signInWithEmailLink",Zi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd extends Vy{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new vd(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new vd(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return xp(e,n,"signInWithPassword",x8);case"emailLink":return C8(e,{email:this._email,oobCode:this._password});default:Qr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return xp(e,r,"signUpPassword",S8);case"emailLink":return I8(e,{idToken:n,email:this._email,oobCode:this._password});default:Qr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pc(t,e){return zd(t,"POST","/v1/accounts:signInWithIdp",Zi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A8="http://localhost";class Za extends Vy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Za(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Qr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,o=Bd(n,["providerId","signInMethod"]);if(!r||!s)return null;const l=new Za(r,s);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return pc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,pc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,pc(e,n)}buildRequest(){const e={requestUri:A8,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Hd(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R8(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function P8(t){const e=Zu(Qu(t)).link,n=e?Zu(Qu(e)).deep_link_id:null,r=Zu(Qu(t)).deep_link_id;return(r?Zu(Qu(r)).link:null)||r||n||e||t}class Uy{constructor(e){var n,r,s,o,l,u;const h=Zu(Qu(e)),p=(n=h.apiKey)!==null&&n!==void 0?n:null,v=(r=h.oobCode)!==null&&r!==void 0?r:null,y=R8((s=h.mode)!==null&&s!==void 0?s:null);Ke(p&&v&&y,"argument-error"),this.apiKey=p,this.operation=y,this.code=v,this.continueUrl=(o=h.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(l=h.lang)!==null&&l!==void 0?l:null,this.tenantId=(u=h.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const n=P8(e);try{return new Uy(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(){this.providerId=Bc.PROVIDER_ID}static credential(e,n){return vd._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Uy.parseLink(n);return Ke(r,"argument-error"),vd._fromEmailAndCode(e,r.code,r.tenantId)}}Bc.PROVIDER_ID="password";Bc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Bc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd extends Hy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo extends Wd{constructor(){super("facebook.com")}static credential(e){return Za._fromParams({providerId:jo.PROVIDER_ID,signInMethod:jo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return jo.credentialFromTaggedObject(e)}static credentialFromError(e){return jo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return jo.credential(e.oauthAccessToken)}catch{return null}}}jo.FACEBOOK_SIGN_IN_METHOD="facebook.com";jo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki extends Wd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Za._fromParams({providerId:ki.PROVIDER_ID,signInMethod:ki.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ki.credentialFromTaggedObject(e)}static credentialFromError(e){return ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ki.credential(n,r)}catch{return null}}}ki.GOOGLE_SIGN_IN_METHOD="google.com";ki.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo extends Wd{constructor(){super("github.com")}static credential(e){return Za._fromParams({providerId:Mo.PROVIDER_ID,signInMethod:Mo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Mo.credentialFromTaggedObject(e)}static credentialFromError(e){return Mo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Mo.credential(e.oauthAccessToken)}catch{return null}}}Mo.GITHUB_SIGN_IN_METHOD="github.com";Mo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo extends Wd{constructor(){super("twitter.com")}static credential(e,n){return Za._fromParams({providerId:Oo.PROVIDER_ID,signInMethod:Oo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Oo.credentialFromTaggedObject(e)}static credentialFromError(e){return Oo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Oo.credential(n,r)}catch{return null}}}Oo.TWITTER_SIGN_IN_METHOD="twitter.com";Oo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N8(t,e){return zd(t,"POST","/v1/accounts:signUp",Zi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const o=await Es._fromIdTokenResponse(e,r,s),l=o5(r);return new Qa({user:o,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=o5(r);return new Qa({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function o5(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp extends Yi{constructor(e,n,r,s){var o;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Tp.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Tp(e,n,r,s)}}function rT(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Tp._fromErrorAndOperation(t,o,e,r):o})}async function k8(t,e,n=!1){const r=await Sc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Qa._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D8(t,e,n=!1){const{auth:r}=t;if(Pr(r.app))return Promise.reject(Fi(r));const s="reauthenticate";try{const o=await Sc(t,rT(r,s,e,t),n);Ke(o.idToken,r,"internal-error");const l=Ly(o.idToken);Ke(l,r,"internal-error");const{sub:u}=l;return Ke(t.uid===u,r,"user-mismatch"),Qa._forOperation(t,s,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Qr(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sT(t,e,n=!1){if(Pr(t.app))return Promise.reject(Fi(t));const r="signIn",s=await rT(t,r,e),o=await Qa._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(o.user),o}async function j8(t,e){return sT(Qi(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iT(t,e,n){var r;Ke(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),Ke(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),Ke(typeof n.linkDomain>"u"||n.linkDomain.length>0,t,"invalid-hosting-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.linkDomain=n.linkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Ke(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(Ke(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oT(t){const e=Qi(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function M8(t,e,n){const r=Qi(t),s={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&iT(r,s,n),await xp(r,s,"getOobCode",b8)}async function O8(t,e,n){if(Pr(t.app))return Promise.reject(Fi(t));const r=Qi(t),l=await xp(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",N8).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&oT(t),h}),u=await Qa._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(u.user),u}function L8(t,e,n){return Pr(t.app)?Promise.reject(Fi(t)):j8(Ms(t),Bc.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&oT(t),r})}async function F8(t,e){const n=Ms(t),s={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&iT(n.auth,s,e);const{email:o}=await T8(n.auth,s);o!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V8(t,e){return ui(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U8(t,{displayName:e,photoURL:n}){const r=Ms(t),o={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},l=await Sc(r,V8(r.auth,o));r.displayName=l.displayName||null,r.photoURL=l.photoUrl||null;const u=r.providerData.find(({providerId:h})=>h==="password");u&&(u.displayName=r.displayName,u.photoURL=r.photoURL),await r._updateTokensIfNecessary(l)}function H8(t,e,n,r){return Ms(t).onIdTokenChanged(e,n,r)}function B8(t,e,n){return Ms(t).beforeAuthStateChanged(e,n)}function $8(t,e,n,r){return Ms(t).onAuthStateChanged(e,n,r)}function z8(t){return Ms(t).signOut()}const bp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(bp,"1"),this.storage.removeItem(bp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W8=1e3,G8=10;class lT extends aT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Qx(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,u,h)=>{this.notifyListeners(l,h)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},o=this.storage.getItem(r);r8()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,G8):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},W8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}lT.type="LOCAL";const q8=lT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT extends aT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}cT.type="SESSION";const uT=cT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K8(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new rm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:o}=n.data,l=this.handlersMap[s];if(!(l!=null&&l.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const u=Array.from(l).map(async p=>p(n.origin,o)),h=await K8(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}rm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function By(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y8{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,l;return new Promise((u,h)=>{const p=By("",20);s.port1.start();const v=setTimeout(()=>{h(new Error("unsupported_event"))},r);l={messageChannel:s,onMessage(y){const T=y;if(T.data.eventId===p)switch(T.data.status){case"ack":clearTimeout(v),o=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(T.data.response);break;default:clearTimeout(v),clearTimeout(o),h(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ii(){return window}function Z8(t){ii().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dT(){return typeof ii().WorkerGlobalScope<"u"&&typeof ii().importScripts=="function"}async function Q8(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function X8(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function J8(){return dT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hT="firebaseLocalStorageDb",eD=1,Cp="firebaseLocalStorage",fT="fbase_key";class Gd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function sm(t,e){return t.transaction([Cp],e?"readwrite":"readonly").objectStore(Cp)}function tD(){const t=indexedDB.deleteDatabase(hT);return new Gd(t).toPromise()}function bv(){const t=indexedDB.open(hT,eD);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Cp,{keyPath:fT})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Cp)?e(r):(r.close(),await tD(),e(await bv()))})})}async function a5(t,e,n){const r=sm(t,!0).put({[fT]:e,value:n});return new Gd(r).toPromise()}async function nD(t,e){const n=sm(t,!1).get(e),r=await new Gd(n).toPromise();return r===void 0?null:r.value}function l5(t,e){const n=sm(t,!0).delete(e);return new Gd(n).toPromise()}const rD=800,sD=3;class pT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await bv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>sD)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return dT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=rm._getInstance(J8()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Q8(),!this.activeServiceWorker)return;this.sender=new Y8(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||X8()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await bv();return await a5(e,bp,"1"),await l5(e,bp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>a5(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>nD(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>l5(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=sm(s,!1).getAll();return new Gd(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:o}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),rD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}pT.type="LOCAL";const iD=pT;new $d(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mT(t,e){return e?Mi(e):(Ke(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $y extends Vy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return pc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return pc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return pc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function oD(t){return sT(t.auth,new $y(t),t.bypassAuthState)}function aD(t){const{auth:e,user:n}=t;return Ke(n,e,"internal-error"),D8(n,new $y(t),t.bypassAuthState)}async function lD(t){const{auth:e,user:n}=t;return Ke(n,e,"internal-error"),k8(n,new $y(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{constructor(e,n,r,s,o=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:o,error:l,type:u}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(h))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return oD;case"linkViaPopup":case"linkViaRedirect":return lD;case"reauthViaPopup":case"reauthViaRedirect":return aD;default:Qr(this.auth,"internal-error")}}resolve(e){Bi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Bi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cD=new $d(2e3,1e4);async function uD(t,e,n){if(Pr(t.app))return Promise.reject(bs(t,"operation-not-supported-in-this-environment"));const r=Qi(t);L7(t,e,Hy);const s=mT(r,n);return new Oa(r,"signInViaPopup",e,s).executeNotNull()}class Oa extends gT{constructor(e,n,r,s,o){super(e,n,s,o),this.provider=r,this.authWindow=null,this.pollId=null,Oa.currentPopupAction&&Oa.currentPopupAction.cancel(),Oa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ke(e,this.auth,"internal-error"),e}async onExecution(){Bi(this.filter.length===1,"Popup operations only handle one event");const e=By();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(bs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(bs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Oa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(bs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,cD.get())};e()}}Oa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dD="pendingRedirect",Zf=new Map;class hD extends gT{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Zf.get(this.auth._key());if(!e){try{const r=await fD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Zf.set(this.auth._key(),e)}return this.bypassAuthState||Zf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function fD(t,e){const n=gD(e),r=mD(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function pD(t,e){Zf.set(t._key(),e)}function mD(t){return Mi(t._redirectPersistence)}function gD(t){return Yf(dD,t.config.apiKey,t.name)}async function vD(t,e,n=!1){if(Pr(t.app))return Promise.reject(Fi(t));const r=Qi(t),s=mT(r,e),l=await new hD(r,s,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yD=600*1e3;class wD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!_D(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!vT(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(bs(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=yD&&this.cachedEventUids.clear(),this.cachedEventUids.has(c5(e))}saveEventToCache(e){this.cachedEventUids.add(c5(e)),this.lastProcessedEventTime=Date.now()}}function c5(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function vT({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function _D(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vT(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ED(t,e={}){return ui(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xD=/^https?/;async function TD(t){if(t.config.emulator)return;const{authorizedDomains:e}=await ED(t);for(const n of e)try{if(bD(n))return}catch{}Qr(t,"unauthorized-domain")}function bD(t){const e=xv(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!xD.test(n))return!1;if(SD.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CD=new $d(3e4,6e4);function u5(){const t=ii().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function ID(t){return new Promise((e,n)=>{var r,s,o;function l(){u5(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{u5(),n(bs(t,"network-request-failed"))},timeout:CD.get()})}if(!((s=(r=ii().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((o=ii().gapi)===null||o===void 0)&&o.load)l();else{const u=h8("iframefcb");return ii()[u]=()=>{gapi.load?l():n(bs(t,"network-request-failed"))},Jx(`${d8()}?onload=${u}`).catch(h=>n(h))}}).catch(e=>{throw Qf=null,e})}let Qf=null;function AD(t){return Qf=Qf||ID(t),Qf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RD=new $d(5e3,15e3),PD="__/auth/iframe",ND="emulator/auth/iframe",kD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},DD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function jD(t){const e=t.config;Ke(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Oy(e,ND):`https://${t.config.authDomain}/${PD}`,r={apiKey:e.apiKey,appName:t.name,v:Hc},s=DD.get(t.config.apiHost);s&&(r.eid=s);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Hd(r).slice(1)}`}async function MD(t){const e=await AD(t),n=ii().gapi;return Ke(n,t,"internal-error"),e.open({where:document.body,url:jD(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:kD,dontclear:!0},r=>new Promise(async(s,o)=>{await r.restyle({setHideOnLeave:!1});const l=bs(t,"network-request-failed"),u=ii().setTimeout(()=>{o(l)},RD.get());function h(){ii().clearTimeout(u),s(r)}r.ping(h).then(h,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},LD=500,FD=600,VD="_blank",UD="http://localhost";class d5{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function HD(t,e,n,r=LD,s=FD){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const h=Object.assign(Object.assign({},OD),{width:r.toString(),height:s.toString(),top:o,left:l}),p=En().toLowerCase();n&&(u=Gx(p)?VD:n),zx(p)&&(e=e||UD,h.scrollbars="yes");const v=Object.entries(h).reduce((T,[k,N])=>`${T}${k}=${N},`,"");if(n8(p)&&u!=="_self")return BD(e||"",u),new d5(null);const y=window.open(e||"",u,v);Ke(y,t,"popup-blocked");try{y.focus()}catch{}return new d5(y)}function BD(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $D="__/auth/handler",zD="emulator/auth/handler",WD=encodeURIComponent("fac");async function h5(t,e,n,r,s,o){Ke(t.config.authDomain,t,"auth-domain-config-required"),Ke(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Hc,eventId:s};if(e instanceof Hy){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",_k(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,y]of Object.entries({}))l[v]=y}if(e instanceof Wd){const v=e.getScopes().filter(y=>y!=="");v.length>0&&(l.scopes=v.join(","))}t.tenantId&&(l.tid=t.tenantId);const u=l;for(const v of Object.keys(u))u[v]===void 0&&delete u[v];const h=await t._getAppCheckToken(),p=h?`#${WD}=${encodeURIComponent(h)}`:"";return`${GD(t)}?${Hd(u).slice(1)}${p}`}function GD({config:t}){return t.emulator?Oy(t,zD):`https://${t.authDomain}/${$D}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j0="webStorageSupport";class qD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=uT,this._completeRedirectFn=vD,this._overrideRedirectResult=pD}async _openPopup(e,n,r,s){var o;Bi((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const l=await h5(e,n,r,xv(),s);return HD(e,l,By())}async _openRedirect(e,n,r,s){await this._originValidation(e);const o=await h5(e,n,r,xv(),s);return Z8(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:o}=this.eventManagers[n];return s?Promise.resolve(s):(Bi(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await MD(e),r=new wD(e);return n.register("authEvent",s=>(Ke(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(j0,{type:j0},s=>{var o;const l=(o=s==null?void 0:s[0])===null||o===void 0?void 0:o[j0];l!==void 0&&n(!!l),Qr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=TD(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Qx()||Wx()||Fy()}}const KD=qD;var f5="@firebase/auth",p5="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ke(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZD(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function QD(t){Ec(new Ya("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=r.options;Ke(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:l,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Xx(t)},p=new l8(r,s,o,h);return y8(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ec(new Ya("auth-internal",e=>{const n=Qi(e.getProvider("auth").getImmediate());return(r=>new YD(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),zo(f5,p5,ZD(t)),zo(f5,p5,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XD=300,JD=Tx("authIdTokenMaxAge")||XD;let m5=null;const ej=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>JD)return;const s=n==null?void 0:n.token;m5!==s&&(m5=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function tj(t=jx()){const e=Dy(t,"auth");if(e.isInitialized())return e.getImmediate();const n=v8(t,{popupRedirectResolver:KD,persistence:[iD,q8,uT]}),r=Tx("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const l=ej(o.toString());B8(n,l,()=>l(n.currentUser)),H8(n,u=>l(u))}}const s=Sx("auth");return s&&w8(n,`http://${s}`),n}function nj(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}c8({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const o=bs("internal-error");o.customData=s,n(o)},r.type="text/javascript",r.charset="UTF-8",nj().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});QD("Browser");var g5=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var zy;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(_,b){function R(){}R.prototype=b.prototype,_.D=b.prototype,_.prototype=new R,_.prototype.constructor=_,_.C=function(P,A,H){for(var O=Array(arguments.length-2),K=2;K<arguments.length;K++)O[K-2]=arguments[K];return b.prototype[A].apply(P,O)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(_,b,R){R||(R=0);var P=Array(16);if(typeof b=="string")for(var A=0;16>A;++A)P[A]=b.charCodeAt(R++)|b.charCodeAt(R++)<<8|b.charCodeAt(R++)<<16|b.charCodeAt(R++)<<24;else for(A=0;16>A;++A)P[A]=b[R++]|b[R++]<<8|b[R++]<<16|b[R++]<<24;b=_.g[0],R=_.g[1],A=_.g[2];var H=_.g[3],O=b+(H^R&(A^H))+P[0]+3614090360&4294967295;b=R+(O<<7&4294967295|O>>>25),O=H+(A^b&(R^A))+P[1]+3905402710&4294967295,H=b+(O<<12&4294967295|O>>>20),O=A+(R^H&(b^R))+P[2]+606105819&4294967295,A=H+(O<<17&4294967295|O>>>15),O=R+(b^A&(H^b))+P[3]+3250441966&4294967295,R=A+(O<<22&4294967295|O>>>10),O=b+(H^R&(A^H))+P[4]+4118548399&4294967295,b=R+(O<<7&4294967295|O>>>25),O=H+(A^b&(R^A))+P[5]+1200080426&4294967295,H=b+(O<<12&4294967295|O>>>20),O=A+(R^H&(b^R))+P[6]+2821735955&4294967295,A=H+(O<<17&4294967295|O>>>15),O=R+(b^A&(H^b))+P[7]+4249261313&4294967295,R=A+(O<<22&4294967295|O>>>10),O=b+(H^R&(A^H))+P[8]+1770035416&4294967295,b=R+(O<<7&4294967295|O>>>25),O=H+(A^b&(R^A))+P[9]+2336552879&4294967295,H=b+(O<<12&4294967295|O>>>20),O=A+(R^H&(b^R))+P[10]+4294925233&4294967295,A=H+(O<<17&4294967295|O>>>15),O=R+(b^A&(H^b))+P[11]+2304563134&4294967295,R=A+(O<<22&4294967295|O>>>10),O=b+(H^R&(A^H))+P[12]+1804603682&4294967295,b=R+(O<<7&4294967295|O>>>25),O=H+(A^b&(R^A))+P[13]+4254626195&4294967295,H=b+(O<<12&4294967295|O>>>20),O=A+(R^H&(b^R))+P[14]+2792965006&4294967295,A=H+(O<<17&4294967295|O>>>15),O=R+(b^A&(H^b))+P[15]+1236535329&4294967295,R=A+(O<<22&4294967295|O>>>10),O=b+(A^H&(R^A))+P[1]+4129170786&4294967295,b=R+(O<<5&4294967295|O>>>27),O=H+(R^A&(b^R))+P[6]+3225465664&4294967295,H=b+(O<<9&4294967295|O>>>23),O=A+(b^R&(H^b))+P[11]+643717713&4294967295,A=H+(O<<14&4294967295|O>>>18),O=R+(H^b&(A^H))+P[0]+3921069994&4294967295,R=A+(O<<20&4294967295|O>>>12),O=b+(A^H&(R^A))+P[5]+3593408605&4294967295,b=R+(O<<5&4294967295|O>>>27),O=H+(R^A&(b^R))+P[10]+38016083&4294967295,H=b+(O<<9&4294967295|O>>>23),O=A+(b^R&(H^b))+P[15]+3634488961&4294967295,A=H+(O<<14&4294967295|O>>>18),O=R+(H^b&(A^H))+P[4]+3889429448&4294967295,R=A+(O<<20&4294967295|O>>>12),O=b+(A^H&(R^A))+P[9]+568446438&4294967295,b=R+(O<<5&4294967295|O>>>27),O=H+(R^A&(b^R))+P[14]+3275163606&4294967295,H=b+(O<<9&4294967295|O>>>23),O=A+(b^R&(H^b))+P[3]+4107603335&4294967295,A=H+(O<<14&4294967295|O>>>18),O=R+(H^b&(A^H))+P[8]+1163531501&4294967295,R=A+(O<<20&4294967295|O>>>12),O=b+(A^H&(R^A))+P[13]+2850285829&4294967295,b=R+(O<<5&4294967295|O>>>27),O=H+(R^A&(b^R))+P[2]+4243563512&4294967295,H=b+(O<<9&4294967295|O>>>23),O=A+(b^R&(H^b))+P[7]+1735328473&4294967295,A=H+(O<<14&4294967295|O>>>18),O=R+(H^b&(A^H))+P[12]+2368359562&4294967295,R=A+(O<<20&4294967295|O>>>12),O=b+(R^A^H)+P[5]+4294588738&4294967295,b=R+(O<<4&4294967295|O>>>28),O=H+(b^R^A)+P[8]+2272392833&4294967295,H=b+(O<<11&4294967295|O>>>21),O=A+(H^b^R)+P[11]+1839030562&4294967295,A=H+(O<<16&4294967295|O>>>16),O=R+(A^H^b)+P[14]+4259657740&4294967295,R=A+(O<<23&4294967295|O>>>9),O=b+(R^A^H)+P[1]+2763975236&4294967295,b=R+(O<<4&4294967295|O>>>28),O=H+(b^R^A)+P[4]+1272893353&4294967295,H=b+(O<<11&4294967295|O>>>21),O=A+(H^b^R)+P[7]+4139469664&4294967295,A=H+(O<<16&4294967295|O>>>16),O=R+(A^H^b)+P[10]+3200236656&4294967295,R=A+(O<<23&4294967295|O>>>9),O=b+(R^A^H)+P[13]+681279174&4294967295,b=R+(O<<4&4294967295|O>>>28),O=H+(b^R^A)+P[0]+3936430074&4294967295,H=b+(O<<11&4294967295|O>>>21),O=A+(H^b^R)+P[3]+3572445317&4294967295,A=H+(O<<16&4294967295|O>>>16),O=R+(A^H^b)+P[6]+76029189&4294967295,R=A+(O<<23&4294967295|O>>>9),O=b+(R^A^H)+P[9]+3654602809&4294967295,b=R+(O<<4&4294967295|O>>>28),O=H+(b^R^A)+P[12]+3873151461&4294967295,H=b+(O<<11&4294967295|O>>>21),O=A+(H^b^R)+P[15]+530742520&4294967295,A=H+(O<<16&4294967295|O>>>16),O=R+(A^H^b)+P[2]+3299628645&4294967295,R=A+(O<<23&4294967295|O>>>9),O=b+(A^(R|~H))+P[0]+4096336452&4294967295,b=R+(O<<6&4294967295|O>>>26),O=H+(R^(b|~A))+P[7]+1126891415&4294967295,H=b+(O<<10&4294967295|O>>>22),O=A+(b^(H|~R))+P[14]+2878612391&4294967295,A=H+(O<<15&4294967295|O>>>17),O=R+(H^(A|~b))+P[5]+4237533241&4294967295,R=A+(O<<21&4294967295|O>>>11),O=b+(A^(R|~H))+P[12]+1700485571&4294967295,b=R+(O<<6&4294967295|O>>>26),O=H+(R^(b|~A))+P[3]+2399980690&4294967295,H=b+(O<<10&4294967295|O>>>22),O=A+(b^(H|~R))+P[10]+4293915773&4294967295,A=H+(O<<15&4294967295|O>>>17),O=R+(H^(A|~b))+P[1]+2240044497&4294967295,R=A+(O<<21&4294967295|O>>>11),O=b+(A^(R|~H))+P[8]+1873313359&4294967295,b=R+(O<<6&4294967295|O>>>26),O=H+(R^(b|~A))+P[15]+4264355552&4294967295,H=b+(O<<10&4294967295|O>>>22),O=A+(b^(H|~R))+P[6]+2734768916&4294967295,A=H+(O<<15&4294967295|O>>>17),O=R+(H^(A|~b))+P[13]+1309151649&4294967295,R=A+(O<<21&4294967295|O>>>11),O=b+(A^(R|~H))+P[4]+4149444226&4294967295,b=R+(O<<6&4294967295|O>>>26),O=H+(R^(b|~A))+P[11]+3174756917&4294967295,H=b+(O<<10&4294967295|O>>>22),O=A+(b^(H|~R))+P[2]+718787259&4294967295,A=H+(O<<15&4294967295|O>>>17),O=R+(H^(A|~b))+P[9]+3951481745&4294967295,_.g[0]=_.g[0]+b&4294967295,_.g[1]=_.g[1]+(A+(O<<21&4294967295|O>>>11))&4294967295,_.g[2]=_.g[2]+A&4294967295,_.g[3]=_.g[3]+H&4294967295}r.prototype.u=function(_,b){b===void 0&&(b=_.length);for(var R=b-this.blockSize,P=this.B,A=this.h,H=0;H<b;){if(A==0)for(;H<=R;)s(this,_,H),H+=this.blockSize;if(typeof _=="string"){for(;H<b;)if(P[A++]=_.charCodeAt(H++),A==this.blockSize){s(this,P),A=0;break}}else for(;H<b;)if(P[A++]=_[H++],A==this.blockSize){s(this,P),A=0;break}}this.h=A,this.o+=b},r.prototype.v=function(){var _=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);_[0]=128;for(var b=1;b<_.length-8;++b)_[b]=0;var R=8*this.o;for(b=_.length-8;b<_.length;++b)_[b]=R&255,R/=256;for(this.u(_),_=Array(16),b=R=0;4>b;++b)for(var P=0;32>P;P+=8)_[R++]=this.g[b]>>>P&255;return _};function o(_,b){var R=u;return Object.prototype.hasOwnProperty.call(R,_)?R[_]:R[_]=b(_)}function l(_,b){this.h=b;for(var R=[],P=!0,A=_.length-1;0<=A;A--){var H=_[A]|0;P&&H==b||(R[A]=H,P=!1)}this.g=R}var u={};function h(_){return-128<=_&&128>_?o(_,function(b){return new l([b|0],0>b?-1:0)}):new l([_|0],0>_?-1:0)}function p(_){if(isNaN(_)||!isFinite(_))return y;if(0>_)return j(p(-_));for(var b=[],R=1,P=0;_>=R;P++)b[P]=_/R|0,R*=4294967296;return new l(b,0)}function v(_,b){if(_.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(_.charAt(0)=="-")return j(v(_.substring(1),b));if(0<=_.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=p(Math.pow(b,8)),P=y,A=0;A<_.length;A+=8){var H=Math.min(8,_.length-A),O=parseInt(_.substring(A,A+H),b);8>H?(H=p(Math.pow(b,H)),P=P.j(H).add(p(O))):(P=P.j(R),P=P.add(p(O)))}return P}var y=h(0),T=h(1),k=h(16777216);t=l.prototype,t.m=function(){if(D(this))return-j(this).m();for(var _=0,b=1,R=0;R<this.g.length;R++){var P=this.i(R);_+=(0<=P?P:4294967296+P)*b,b*=4294967296}return _},t.toString=function(_){if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(N(this))return"0";if(D(this))return"-"+j(this).toString(_);for(var b=p(Math.pow(_,6)),R=this,P="";;){var A=m(R,b).g;R=L(R,A.j(b));var H=((0<R.g.length?R.g[0]:R.h)>>>0).toString(_);if(R=A,N(R))return H+P;for(;6>H.length;)H="0"+H;P=H+P}},t.i=function(_){return 0>_?0:_<this.g.length?this.g[_]:this.h};function N(_){if(_.h!=0)return!1;for(var b=0;b<_.g.length;b++)if(_.g[b]!=0)return!1;return!0}function D(_){return _.h==-1}t.l=function(_){return _=L(this,_),D(_)?-1:N(_)?0:1};function j(_){for(var b=_.g.length,R=[],P=0;P<b;P++)R[P]=~_.g[P];return new l(R,~_.h).add(T)}t.abs=function(){return D(this)?j(this):this},t.add=function(_){for(var b=Math.max(this.g.length,_.g.length),R=[],P=0,A=0;A<=b;A++){var H=P+(this.i(A)&65535)+(_.i(A)&65535),O=(H>>>16)+(this.i(A)>>>16)+(_.i(A)>>>16);P=O>>>16,H&=65535,O&=65535,R[A]=O<<16|H}return new l(R,R[R.length-1]&-2147483648?-1:0)};function L(_,b){return _.add(j(b))}t.j=function(_){if(N(this)||N(_))return y;if(D(this))return D(_)?j(this).j(j(_)):j(j(this).j(_));if(D(_))return j(this.j(j(_)));if(0>this.l(k)&&0>_.l(k))return p(this.m()*_.m());for(var b=this.g.length+_.g.length,R=[],P=0;P<2*b;P++)R[P]=0;for(P=0;P<this.g.length;P++)for(var A=0;A<_.g.length;A++){var H=this.i(P)>>>16,O=this.i(P)&65535,K=_.i(A)>>>16,Y=_.i(A)&65535;R[2*P+2*A]+=O*Y,U(R,2*P+2*A),R[2*P+2*A+1]+=H*Y,U(R,2*P+2*A+1),R[2*P+2*A+1]+=O*K,U(R,2*P+2*A+1),R[2*P+2*A+2]+=H*K,U(R,2*P+2*A+2)}for(P=0;P<b;P++)R[P]=R[2*P+1]<<16|R[2*P];for(P=b;P<2*b;P++)R[P]=0;return new l(R,0)};function U(_,b){for(;(_[b]&65535)!=_[b];)_[b+1]+=_[b]>>>16,_[b]&=65535,b++}function B(_,b){this.g=_,this.h=b}function m(_,b){if(N(b))throw Error("division by zero");if(N(_))return new B(y,y);if(D(_))return b=m(j(_),b),new B(j(b.g),j(b.h));if(D(b))return b=m(_,j(b)),new B(j(b.g),b.h);if(30<_.g.length){if(D(_)||D(b))throw Error("slowDivide_ only works with positive integers.");for(var R=T,P=b;0>=P.l(_);)R=S(R),P=S(P);var A=x(R,1),H=x(P,1);for(P=x(P,2),R=x(R,2);!N(P);){var O=H.add(P);0>=O.l(_)&&(A=A.add(R),H=O),P=x(P,1),R=x(R,1)}return b=L(_,A.j(b)),new B(A,b)}for(A=y;0<=_.l(b);){for(R=Math.max(1,Math.floor(_.m()/b.m())),P=Math.ceil(Math.log(R)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),H=p(R),O=H.j(b);D(O)||0<O.l(_);)R-=P,H=p(R),O=H.j(b);N(H)&&(H=T),A=A.add(H),_=L(_,O)}return new B(A,_)}t.A=function(_){return m(this,_).h},t.and=function(_){for(var b=Math.max(this.g.length,_.g.length),R=[],P=0;P<b;P++)R[P]=this.i(P)&_.i(P);return new l(R,this.h&_.h)},t.or=function(_){for(var b=Math.max(this.g.length,_.g.length),R=[],P=0;P<b;P++)R[P]=this.i(P)|_.i(P);return new l(R,this.h|_.h)},t.xor=function(_){for(var b=Math.max(this.g.length,_.g.length),R=[],P=0;P<b;P++)R[P]=this.i(P)^_.i(P);return new l(R,this.h^_.h)};function S(_){for(var b=_.g.length+1,R=[],P=0;P<b;P++)R[P]=_.i(P)<<1|_.i(P-1)>>>31;return new l(R,_.h)}function x(_,b){var R=b>>5;b%=32;for(var P=_.g.length-R,A=[],H=0;H<P;H++)A[H]=0<b?_.i(H+R)>>>b|_.i(H+R+1)<<32-b:_.i(H+R);return new l(A,_.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=v,zy=l}).apply(typeof g5<"u"?g5:typeof self<"u"?self:typeof window<"u"?window:{});var Cf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var yT,Xu,wT,Xf,Cv,_T,ET,ST;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,C,M){return f==Array.prototype||f==Object.prototype||(f[C]=M.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Cf=="object"&&Cf];for(var C=0;C<f.length;++C){var M=f[C];if(M&&M.Math==Math)return M}throw Error("Cannot find global object")}var r=n(this);function s(f,C){if(C)e:{var M=r;f=f.split(".");for(var $=0;$<f.length-1;$++){var te=f[$];if(!(te in M))break e;M=M[te]}f=f[f.length-1],$=M[f],C=C($),C!=$&&C!=null&&e(M,f,{configurable:!0,writable:!0,value:C})}}function o(f,C){f instanceof String&&(f+="");var M=0,$=!1,te={next:function(){if(!$&&M<f.length){var ae=M++;return{value:C(ae,f[ae]),done:!1}}return $=!0,{done:!0,value:void 0}}};return te[Symbol.iterator]=function(){return te},te}s("Array.prototype.values",function(f){return f||function(){return o(this,function(C,M){return M})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function h(f){var C=typeof f;return C=C!="object"?C:f?Array.isArray(f)?"array":C:"null",C=="array"||C=="object"&&typeof f.length=="number"}function p(f){var C=typeof f;return C=="object"&&f!=null||C=="function"}function v(f,C,M){return f.call.apply(f.bind,arguments)}function y(f,C,M){if(!f)throw Error();if(2<arguments.length){var $=Array.prototype.slice.call(arguments,2);return function(){var te=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(te,$),f.apply(C,te)}}return function(){return f.apply(C,arguments)}}function T(f,C,M){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:y,T.apply(null,arguments)}function k(f,C){var M=Array.prototype.slice.call(arguments,1);return function(){var $=M.slice();return $.push.apply($,arguments),f.apply(this,$)}}function N(f,C){function M(){}M.prototype=C.prototype,f.aa=C.prototype,f.prototype=new M,f.prototype.constructor=f,f.Qb=function($,te,ae){for(var Ce=Array(arguments.length-2),Pt=2;Pt<arguments.length;Pt++)Ce[Pt-2]=arguments[Pt];return C.prototype[te].apply($,Ce)}}function D(f){const C=f.length;if(0<C){const M=Array(C);for(let $=0;$<C;$++)M[$]=f[$];return M}return[]}function j(f,C){for(let M=1;M<arguments.length;M++){const $=arguments[M];if(h($)){const te=f.length||0,ae=$.length||0;f.length=te+ae;for(let Ce=0;Ce<ae;Ce++)f[te+Ce]=$[Ce]}else f.push($)}}class L{constructor(C,M){this.i=C,this.j=M,this.h=0,this.g=null}get(){let C;return 0<this.h?(this.h--,C=this.g,this.g=C.next,C.next=null):C=this.i(),C}}function U(f){return/^[\s\xa0]*$/.test(f)}function B(){var f=u.navigator;return f&&(f=f.userAgent)?f:""}function m(f){return m[" "](f),f}m[" "]=function(){};var S=B().indexOf("Gecko")!=-1&&!(B().toLowerCase().indexOf("webkit")!=-1&&B().indexOf("Edge")==-1)&&!(B().indexOf("Trident")!=-1||B().indexOf("MSIE")!=-1)&&B().indexOf("Edge")==-1;function x(f,C,M){for(const $ in f)C.call(M,f[$],$,f)}function _(f,C){for(const M in f)C.call(void 0,f[M],M,f)}function b(f){const C={};for(const M in f)C[M]=f[M];return C}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(f,C){let M,$;for(let te=1;te<arguments.length;te++){$=arguments[te];for(M in $)f[M]=$[M];for(let ae=0;ae<R.length;ae++)M=R[ae],Object.prototype.hasOwnProperty.call($,M)&&(f[M]=$[M])}}function A(f){var C=1;f=f.split(":");const M=[];for(;0<C&&f.length;)M.push(f.shift()),C--;return f.length&&M.push(f.join(":")),M}function H(f){u.setTimeout(()=>{throw f},0)}function O(){var f=Z;let C=null;return f.g&&(C=f.g,f.g=f.g.next,f.g||(f.h=null),C.next=null),C}class K{constructor(){this.h=this.g=null}add(C,M){const $=Y.get();$.set(C,M),this.h?this.h.next=$:this.g=$,this.h=$}}var Y=new L(()=>new F,f=>f.reset());class F{constructor(){this.next=this.g=this.h=null}set(C,M){this.h=C,this.g=M,this.next=null}reset(){this.next=this.g=this.h=null}}let G,z=!1,Z=new K,ee=()=>{const f=u.Promise.resolve(void 0);G=()=>{f.then(W)}};var W=()=>{for(var f;f=O();){try{f.h.call(f.g)}catch(M){H(M)}var C=Y;C.j(f),100>C.h&&(C.h++,f.next=C.g,C.g=f)}z=!1};function J(){this.s=this.s,this.C=this.C}J.prototype.s=!1,J.prototype.ma=function(){this.s||(this.s=!0,this.N())},J.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ue(f,C){this.type=f,this.g=this.target=C,this.defaultPrevented=!1}ue.prototype.h=function(){this.defaultPrevented=!0};var _e=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var f=!1,C=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const M=()=>{};u.addEventListener("test",M,C),u.removeEventListener("test",M,C)}catch{}return f})();function Te(f,C){if(ue.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var M=this.type=f.type,$=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=C,C=f.relatedTarget){if(S){e:{try{m(C.nodeName);var te=!0;break e}catch{}te=!1}te||(C=null)}}else M=="mouseover"?C=f.fromElement:M=="mouseout"&&(C=f.toElement);this.relatedTarget=C,$?(this.clientX=$.clientX!==void 0?$.clientX:$.pageX,this.clientY=$.clientY!==void 0?$.clientY:$.pageY,this.screenX=$.screenX||0,this.screenY=$.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:ce[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&Te.aa.h.call(this)}}N(Te,ue);var ce={2:"touch",3:"pen",4:"mouse"};Te.prototype.h=function(){Te.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var pe="closure_listenable_"+(1e6*Math.random()|0),Re=0;function Ie(f,C,M,$,te){this.listener=f,this.proxy=null,this.src=C,this.type=M,this.capture=!!$,this.ha=te,this.key=++Re,this.da=this.fa=!1}function je(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Ze(f){this.src=f,this.g={},this.h=0}Ze.prototype.add=function(f,C,M,$,te){var ae=f.toString();f=this.g[ae],f||(f=this.g[ae]=[],this.h++);var Ce=vt(f,C,$,te);return-1<Ce?(C=f[Ce],M||(C.fa=!1)):(C=new Ie(C,this.src,ae,!!$,te),C.fa=M,f.push(C)),C};function mt(f,C){var M=C.type;if(M in f.g){var $=f.g[M],te=Array.prototype.indexOf.call($,C,void 0),ae;(ae=0<=te)&&Array.prototype.splice.call($,te,1),ae&&(je(C),f.g[M].length==0&&(delete f.g[M],f.h--))}}function vt(f,C,M,$){for(var te=0;te<f.length;++te){var ae=f[te];if(!ae.da&&ae.listener==C&&ae.capture==!!M&&ae.ha==$)return te}return-1}var Oe="closure_lm_"+(1e6*Math.random()|0),ke={};function ne(f,C,M,$,te){if(Array.isArray(C)){for(var ae=0;ae<C.length;ae++)ne(f,C[ae],M,$,te);return null}return M=xn(M),f&&f[pe]?f.K(C,M,p($)?!!$.capture:!1,te):de(f,C,M,!1,$,te)}function de(f,C,M,$,te,ae){if(!C)throw Error("Invalid event type");var Ce=p(te)?!!te.capture:!!te,Pt=Wt(f);if(Pt||(f[Oe]=Pt=new Ze(f)),M=Pt.add(C,M,$,Ce,ae),M.proxy)return M;if($=we(),M.proxy=$,$.src=f,$.listener=M,f.addEventListener)_e||(te=Ce),te===void 0&&(te=!1),f.addEventListener(C.toString(),$,te);else if(f.attachEvent)f.attachEvent(tt(C.toString()),$);else if(f.addListener&&f.removeListener)f.addListener($);else throw Error("addEventListener and attachEvent are unavailable.");return M}function we(){function f(M){return C.call(f.src,f.listener,M)}const C=Qe;return f}function me(f,C,M,$,te){if(Array.isArray(C))for(var ae=0;ae<C.length;ae++)me(f,C[ae],M,$,te);else $=p($)?!!$.capture:!!$,M=xn(M),f&&f[pe]?(f=f.i,C=String(C).toString(),C in f.g&&(ae=f.g[C],M=vt(ae,M,$,te),-1<M&&(je(ae[M]),Array.prototype.splice.call(ae,M,1),ae.length==0&&(delete f.g[C],f.h--)))):f&&(f=Wt(f))&&(C=f.g[C.toString()],f=-1,C&&(f=vt(C,M,$,te)),(M=-1<f?C[f]:null)&&Pe(M))}function Pe(f){if(typeof f!="number"&&f&&!f.da){var C=f.src;if(C&&C[pe])mt(C.i,f);else{var M=f.type,$=f.proxy;C.removeEventListener?C.removeEventListener(M,$,f.capture):C.detachEvent?C.detachEvent(tt(M),$):C.addListener&&C.removeListener&&C.removeListener($),(M=Wt(C))?(mt(M,f),M.h==0&&(M.src=null,C[Oe]=null)):je(f)}}}function tt(f){return f in ke?ke[f]:ke[f]="on"+f}function Qe(f,C){if(f.da)f=!0;else{C=new Te(C,this);var M=f.listener,$=f.ha||f.src;f.fa&&Pe(f),f=M.call($,C)}return f}function Wt(f){return f=f[Oe],f instanceof Ze?f:null}var mn="__closure_events_fn_"+(1e9*Math.random()>>>0);function xn(f){return typeof f=="function"?f:(f[mn]||(f[mn]=function(C){return f.handleEvent(C)}),f[mn])}function Dt(){J.call(this),this.i=new Ze(this),this.M=this,this.F=null}N(Dt,J),Dt.prototype[pe]=!0,Dt.prototype.removeEventListener=function(f,C,M,$){me(this,f,C,M,$)};function Rt(f,C){var M,$=f.F;if($)for(M=[];$;$=$.F)M.push($);if(f=f.M,$=C.type||C,typeof C=="string")C=new ue(C,f);else if(C instanceof ue)C.target=C.target||f;else{var te=C;C=new ue($,f),P(C,te)}if(te=!0,M)for(var ae=M.length-1;0<=ae;ae--){var Ce=C.g=M[ae];te=Tn(Ce,$,!0,C)&&te}if(Ce=C.g=f,te=Tn(Ce,$,!0,C)&&te,te=Tn(Ce,$,!1,C)&&te,M)for(ae=0;ae<M.length;ae++)Ce=C.g=M[ae],te=Tn(Ce,$,!1,C)&&te}Dt.prototype.N=function(){if(Dt.aa.N.call(this),this.i){var f=this.i,C;for(C in f.g){for(var M=f.g[C],$=0;$<M.length;$++)je(M[$]);delete f.g[C],f.h--}}this.F=null},Dt.prototype.K=function(f,C,M,$){return this.i.add(String(f),C,!1,M,$)},Dt.prototype.L=function(f,C,M,$){return this.i.add(String(f),C,!0,M,$)};function Tn(f,C,M,$){if(C=f.i.g[String(C)],!C)return!0;C=C.concat();for(var te=!0,ae=0;ae<C.length;++ae){var Ce=C[ae];if(Ce&&!Ce.da&&Ce.capture==M){var Pt=Ce.listener,gn=Ce.ha||Ce.src;Ce.fa&&mt(f.i,Ce),te=Pt.call(gn,$)!==!1&&te}}return te&&!$.defaultPrevented}function fi(f,C,M){if(typeof f=="function")M&&(f=T(f,M));else if(f&&typeof f.handleEvent=="function")f=T(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(C)?-1:u.setTimeout(f,C||0)}function $n(f){f.g=fi(()=>{f.g=null,f.i&&(f.i=!1,$n(f))},f.l);const C=f.h;f.h=null,f.m.apply(null,C)}class Or extends J{constructor(C,M){super(),this.m=C,this.l=M,this.h=null,this.i=!1,this.g=null}j(C){this.h=arguments,this.g?this.i=!0:$n(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function bn(f){J.call(this),this.h=f,this.g={}}N(bn,J);var wr=[];function Fs(f){x(f.g,function(C,M){this.g.hasOwnProperty(M)&&Pe(C)},f),f.g={}}bn.prototype.N=function(){bn.aa.N.call(this),Fs(this)},bn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Vs=u.JSON.stringify,Us=u.JSON.parse,Hs=class{stringify(f){return u.JSON.stringify(f,void 0)}parse(f){return u.JSON.parse(f,void 0)}};function ts(){}ts.prototype.h=null;function qe(f){return f.h||(f.h=f.i())}function ft(){}var lt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function it(){ue.call(this,"d")}N(it,ue);function Ee(){ue.call(this,"c")}N(Ee,ue);var Fe={},et=null;function Nt(){return et=et||new Dt}Fe.La="serverreachability";function Zt(f){ue.call(this,Fe.La,f)}N(Zt,ue);function Qt(f){const C=Nt();Rt(C,new Zt(C))}Fe.STAT_EVENT="statevent";function zn(f,C){ue.call(this,Fe.STAT_EVENT,f),this.stat=C}N(zn,ue);function Tt(f){const C=Nt();Rt(C,new zn(C,f))}Fe.Ma="timingevent";function _r(f,C){ue.call(this,Fe.Ma,f),this.size=C}N(_r,ue);function Wn(f,C){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){f()},C)}function pi(){this.g=!0}pi.prototype.xa=function(){this.g=!1};function Bs(f,C,M,$,te,ae){f.info(function(){if(f.g)if(ae)for(var Ce="",Pt=ae.split("&"),gn=0;gn<Pt.length;gn++){var _t=Pt[gn].split("=");if(1<_t.length){var Cn=_t[0];_t=_t[1];var cn=Cn.split("_");Ce=2<=cn.length&&cn[1]=="type"?Ce+(Cn+"="+_t+"&"):Ce+(Cn+"=redacted&")}}else Ce=null;else Ce=ae;return"XMLHTTP REQ ("+$+") [attempt "+te+"]: "+C+`
`+M+`
`+Ce})}function rn(f,C,M,$,te,ae,Ce){f.info(function(){return"XMLHTTP RESP ("+$+") [ attempt "+te+"]: "+C+`
`+M+`
`+ae+" "+Ce})}function ns(f,C,M,$){f.info(function(){return"XMLHTTP TEXT ("+C+"): "+$m(f,M)+($?" "+$:"")})}function Jc(f,C){f.info(function(){return"TIMEOUT: "+C})}pi.prototype.info=function(){};function $m(f,C){if(!f.g)return C;if(!C)return null;try{var M=JSON.parse(C);if(M){for(f=0;f<M.length;f++)if(Array.isArray(M[f])){var $=M[f];if(!(2>$.length)){var te=$[1];if(Array.isArray(te)&&!(1>te.length)){var ae=te[0];if(ae!="noop"&&ae!="stop"&&ae!="close")for(var Ce=1;Ce<te.length;Ce++)te[Ce]=""}}}}return Vs(M)}catch{return C}}var ul={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ah={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},rs;function ra(){}N(ra,ts),ra.prototype.g=function(){return new XMLHttpRequest},ra.prototype.i=function(){return{}},rs=new ra;function ss(f,C,M,$){this.j=f,this.i=C,this.l=M,this.R=$||1,this.U=new bn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new lh}function lh(){this.i=null,this.g="",this.h=!1}var eu={},dl={};function hl(f,C,M){f.L=1,f.v=so(Sr(C)),f.m=M,f.P=!0,tu(f,null)}function tu(f,C){f.F=Date.now(),Ot(f),f.A=Sr(f.v);var M=f.A,$=f.R;Array.isArray($)||($=[String($)]),oo(M.i,"t",$),f.C=0,M=f.j.J,f.h=new lh,f.g=Ch(f.j,M?C:null,!f.m),0<f.O&&(f.M=new Or(T(f.Y,f,f.g),f.O)),C=f.U,M=f.g,$=f.ca;var te="readystatechange";Array.isArray(te)||(te&&(wr[0]=te.toString()),te=wr);for(var ae=0;ae<te.length;ae++){var Ce=ne(M,te[ae],$||C.handleEvent,!1,C.h||C);if(!Ce)break;C.g[Ce.key]=Ce}C=f.H?b(f.H):{},f.m?(f.u||(f.u="POST"),C["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,C)):(f.u="GET",f.g.ea(f.A,f.u,null,C)),Qt(),Bs(f.i,f.u,f.A,f.l,f.R,f.m)}ss.prototype.ca=function(f){f=f.target;const C=this.M;C&&or(f)==3?C.j():this.Y(f)},ss.prototype.Y=function(f){try{if(f==this.g)e:{const cn=or(this.g);var C=this.g.Ba();const Vr=this.g.Z();if(!(3>cn)&&(cn!=3||this.g&&(this.h.h||this.g.oa()||au(this.g)))){this.J||cn!=4||C==7||(C==8||0>=Vr?Qt(3):Qt(2)),sa(this);var M=this.g.Z();this.X=M;t:if(ch(this)){var $=au(this.g);f="";var te=$.length,ae=or(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Lr(this),eo(this);var Ce="";break t}this.h.i=new u.TextDecoder}for(C=0;C<te;C++)this.h.h=!0,f+=this.h.i.decode($[C],{stream:!(ae&&C==te-1)});$.length=0,this.h.g+=f,this.C=0,Ce=this.h.g}else Ce=this.g.oa();if(this.o=M==200,rn(this.i,this.u,this.A,this.l,this.R,cn,M),this.o){if(this.T&&!this.K){t:{if(this.g){var Pt,gn=this.g;if((Pt=gn.g?gn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(Pt)){var _t=Pt;break t}}_t=null}if(M=_t)ns(this.i,this.l,M,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,nu(this,M);else{this.o=!1,this.s=3,Tt(12),Lr(this),eo(this);break e}}if(this.P){M=!0;let Tr;for(;!this.J&&this.C<Ce.length;)if(Tr=zm(this,Ce),Tr==dl){cn==4&&(this.s=4,Tt(14),M=!1),ns(this.i,this.l,null,"[Incomplete Response]");break}else if(Tr==eu){this.s=4,Tt(15),ns(this.i,this.l,Ce,"[Invalid Chunk]"),M=!1;break}else ns(this.i,this.l,Tr,null),nu(this,Tr);if(ch(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),cn!=4||Ce.length!=0||this.h.h||(this.s=1,Tt(16),M=!1),this.o=this.o&&M,!M)ns(this.i,this.l,Ce,"[Invalid Chunked Response]"),Lr(this),eo(this);else if(0<Ce.length&&!this.W){this.W=!0;var Cn=this.j;Cn.g==this&&Cn.ba&&!Cn.M&&(Cn.j.info("Great, no buffering proxy detected. Bytes received: "+Ce.length),cu(Cn),Cn.M=!0,Tt(11))}}else ns(this.i,this.l,Ce,null),nu(this,Ce);cn==4&&Lr(this),this.o&&!this.J&&(cn==4?xl(this.j,this):(this.o=!1,Ot(this)))}else yl(this.g),M==400&&0<Ce.indexOf("Unknown SID")?(this.s=3,Tt(12)):(this.s=0,Tt(13)),Lr(this),eo(this)}}}catch{}finally{}};function ch(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function zm(f,C){var M=f.C,$=C.indexOf(`
`,M);return $==-1?dl:(M=Number(C.substring(M,$)),isNaN(M)?eu:($+=1,$+M>C.length?dl:(C=C.slice($,$+M),f.C=$+M,C)))}ss.prototype.cancel=function(){this.J=!0,Lr(this)};function Ot(f){f.S=Date.now()+f.I,uh(f,f.I)}function uh(f,C){if(f.B!=null)throw Error("WatchDog timer not null");f.B=Wn(T(f.ba,f),C)}function sa(f){f.B&&(u.clearTimeout(f.B),f.B=null)}ss.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(Jc(this.i,this.A),this.L!=2&&(Qt(),Tt(17)),Lr(this),this.s=2,eo(this)):uh(this,this.S-f)};function eo(f){f.j.G==0||f.J||xl(f.j,f)}function Lr(f){sa(f);var C=f.M;C&&typeof C.ma=="function"&&C.ma(),f.M=null,Fs(f.U),f.g&&(C=f.g,f.g=null,C.abort(),C.ma())}function nu(f,C){try{var M=f.j;if(M.G!=0&&(M.g==f||Jn(M.h,f))){if(!f.K&&Jn(M.h,f)&&M.G==3){try{var $=M.Da.g.parse(C)}catch{$=null}if(Array.isArray($)&&$.length==3){var te=$;if(te[0]==0){e:if(!M.u){if(M.g)if(M.g.F+3e3<f.F)Sl(M),cs(M);else break e;El(M),Tt(18)}}else M.za=te[1],0<M.za-M.T&&37500>te[2]&&M.F&&M.v==0&&!M.C&&(M.C=Wn(T(M.Za,M),6e3));if(1>=hh(M.h)&&M.ca){try{M.ca()}catch{}M.ca=void 0}}else wi(M,11)}else if((f.K||M.g==f)&&Sl(M),!U(C))for(te=M.Da.g.parse(C),C=0;C<te.length;C++){let _t=te[C];if(M.T=_t[0],_t=_t[1],M.G==2)if(_t[0]=="c"){M.K=_t[1],M.ia=_t[2];const Cn=_t[3];Cn!=null&&(M.la=Cn,M.j.info("VER="+M.la));const cn=_t[4];cn!=null&&(M.Aa=cn,M.j.info("SVER="+M.Aa));const Vr=_t[5];Vr!=null&&typeof Vr=="number"&&0<Vr&&($=1.5*Vr,M.L=$,M.j.info("backChannelRequestTimeoutMs_="+$)),$=M;const Tr=f.g;if(Tr){const da=Tr.g?Tr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(da){var ae=$.h;ae.g||da.indexOf("spdy")==-1&&da.indexOf("quic")==-1&&da.indexOf("h2")==-1||(ae.j=ae.l,ae.g=new Set,ae.h&&(ru(ae,ae.h),ae.h=null))}if($.D){const bl=Tr.g?Tr.g.getResponseHeader("X-HTTP-Session-Id"):null;bl&&($.ya=bl,jt($.I,$.D,bl))}}M.G=3,M.l&&M.l.ua(),M.ba&&(M.R=Date.now()-f.F,M.j.info("Handshake RTT: "+M.R+"ms")),$=M;var Ce=f;if($.qa=bh($,$.J?$.ia:null,$.W),Ce.K){fh($.h,Ce);var Pt=Ce,gn=$.L;gn&&(Pt.I=gn),Pt.B&&(sa(Pt),Ot(Pt)),$.g=Ce}else ua($);0<M.i.length&&Gs(M)}else _t[0]!="stop"&&_t[0]!="close"||wi(M,7);else M.G==3&&(_t[0]=="stop"||_t[0]=="close"?_t[0]=="stop"?wi(M,7):jn(M):_t[0]!="noop"&&M.l&&M.l.ta(_t),M.v=0)}}Qt(4)}catch{}}var dh=class{constructor(f,C){this.g=f,this.map=C}};function ia(f){this.l=f||10,u.PerformanceNavigationTiming?(f=u.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Er(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function hh(f){return f.h?1:f.g?f.g.size:0}function Jn(f,C){return f.h?f.h==C:f.g?f.g.has(C):!1}function ru(f,C){f.g?f.g.add(C):f.h=C}function fh(f,C){f.h&&f.h==C?f.h=null:f.g&&f.g.has(C)&&f.g.delete(C)}ia.prototype.cancel=function(){if(this.i=ph(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function ph(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let C=f.i;for(const M of f.g.values())C=C.concat(M.D);return C}return D(f.i)}function fl(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(h(f)){for(var C=[],M=f.length,$=0;$<M;$++)C.push(f[$]);return C}C=[],M=0;for($ in f)C[M++]=f[$];return C}function pl(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(h(f)||typeof f=="string"){var C=[];f=f.length;for(var M=0;M<f;M++)C.push(M);return C}C=[],M=0;for(const $ in f)C[M++]=$;return C}}}function to(f,C){if(f.forEach&&typeof f.forEach=="function")f.forEach(C,void 0);else if(h(f)||typeof f=="string")Array.prototype.forEach.call(f,C,void 0);else for(var M=pl(f),$=fl(f),te=$.length,ae=0;ae<te;ae++)C.call(void 0,$[ae],M&&M[ae],f)}var oa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Wm(f,C){if(f){f=f.split("&");for(var M=0;M<f.length;M++){var $=f[M].indexOf("="),te=null;if(0<=$){var ae=f[M].substring(0,$);te=f[M].substring($+1)}else ae=f[M];C(ae,te?decodeURIComponent(te.replace(/\+/g," ")):"")}}}function mi(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof mi){this.h=f.h,aa(this,f.j),this.o=f.o,this.g=f.g,no(this,f.s),this.l=f.l;var C=f.i,M=new $s;M.i=C.i,C.g&&(M.g=new Map(C.g),M.h=C.h),ro(this,M),this.m=f.m}else f&&(C=String(f).match(oa))?(this.h=!1,aa(this,C[1]||"",!0),this.o=yt(C[2]||""),this.g=yt(C[3]||"",!0),no(this,C[4]),this.l=yt(C[5]||"",!0),ro(this,C[6]||"",!0),this.m=yt(C[7]||"")):(this.h=!1,this.i=new $s(null,this.h))}mi.prototype.toString=function(){var f=[],C=this.j;C&&f.push(io(C,ml,!0),":");var M=this.g;return(M||C=="file")&&(f.push("//"),(C=this.o)&&f.push(io(C,ml,!0),"@"),f.push(encodeURIComponent(String(M)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),M=this.s,M!=null&&f.push(":",String(M))),(M=this.l)&&(this.g&&M.charAt(0)!="/"&&f.push("/"),f.push(io(M,M.charAt(0)=="/"?vh:gh,!0))),(M=this.i.toString())&&f.push("?",M),(M=this.m)&&f.push("#",io(M,su)),f.join("")};function Sr(f){return new mi(f)}function aa(f,C,M){f.j=M?yt(C,!0):C,f.j&&(f.j=f.j.replace(/:$/,""))}function no(f,C){if(C){if(C=Number(C),isNaN(C)||0>C)throw Error("Bad port number "+C);f.s=C}else f.s=null}function ro(f,C,M){C instanceof $s?(f.i=C,zs(f.i,f.h)):(M||(C=io(C,yh)),f.i=new $s(C,f.h))}function jt(f,C,M){f.i.set(C,M)}function so(f){return jt(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function yt(f,C){return f?C?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function io(f,C,M){return typeof f=="string"?(f=encodeURI(f).replace(C,mh),M&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function mh(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var ml=/[#\/\?@]/g,gh=/[#\?:]/g,vh=/[#\?]/g,yh=/[#\?@]/g,su=/#/g;function $s(f,C){this.h=this.g=null,this.i=f||null,this.j=!!C}function Dn(f){f.g||(f.g=new Map,f.h=0,f.i&&Wm(f.i,function(C,M){f.add(decodeURIComponent(C.replace(/\+/g," ")),M)}))}t=$s.prototype,t.add=function(f,C){Dn(this),this.i=null,f=Fr(this,f);var M=this.g.get(f);return M||this.g.set(f,M=[]),M.push(C),this.h+=1,this};function is(f,C){Dn(f),C=Fr(f,C),f.g.has(C)&&(f.i=null,f.h-=f.g.get(C).length,f.g.delete(C))}function os(f,C){return Dn(f),C=Fr(f,C),f.g.has(C)}t.forEach=function(f,C){Dn(this),this.g.forEach(function(M,$){M.forEach(function(te){f.call(C,te,$,this)},this)},this)},t.na=function(){Dn(this);const f=Array.from(this.g.values()),C=Array.from(this.g.keys()),M=[];for(let $=0;$<C.length;$++){const te=f[$];for(let ae=0;ae<te.length;ae++)M.push(C[$])}return M},t.V=function(f){Dn(this);let C=[];if(typeof f=="string")os(this,f)&&(C=C.concat(this.g.get(Fr(this,f))));else{f=Array.from(this.g.values());for(let M=0;M<f.length;M++)C=C.concat(f[M])}return C},t.set=function(f,C){return Dn(this),this.i=null,f=Fr(this,f),os(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[C]),this.h+=1,this},t.get=function(f,C){return f?(f=this.V(f),0<f.length?String(f[0]):C):C};function oo(f,C,M){is(f,C),0<M.length&&(f.i=null,f.g.set(Fr(f,C),D(M)),f.h+=M.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],C=Array.from(this.g.keys());for(var M=0;M<C.length;M++){var $=C[M];const ae=encodeURIComponent(String($)),Ce=this.V($);for($=0;$<Ce.length;$++){var te=ae;Ce[$]!==""&&(te+="="+encodeURIComponent(String(Ce[$]))),f.push(te)}}return this.i=f.join("&")};function Fr(f,C){return C=String(C),f.j&&(C=C.toLowerCase()),C}function zs(f,C){C&&!f.j&&(Dn(f),f.i=null,f.g.forEach(function(M,$){var te=$.toLowerCase();$!=te&&(is(this,$),oo(this,te,M))},f)),f.j=C}function Gm(f,C){const M=new pi;if(u.Image){const $=new Image;$.onload=k(ir,M,"TestLoadImage: loaded",!0,C,$),$.onerror=k(ir,M,"TestLoadImage: error",!1,C,$),$.onabort=k(ir,M,"TestLoadImage: abort",!1,C,$),$.ontimeout=k(ir,M,"TestLoadImage: timeout",!1,C,$),u.setTimeout(function(){$.ontimeout&&$.ontimeout()},1e4),$.src=f}else C(!1)}function wh(f,C){const M=new pi,$=new AbortController,te=setTimeout(()=>{$.abort(),ir(M,"TestPingServer: timeout",!1,C)},1e4);fetch(f,{signal:$.signal}).then(ae=>{clearTimeout(te),ae.ok?ir(M,"TestPingServer: ok",!0,C):ir(M,"TestPingServer: server error",!1,C)}).catch(()=>{clearTimeout(te),ir(M,"TestPingServer: error",!1,C)})}function ir(f,C,M,$,te){try{te&&(te.onload=null,te.onerror=null,te.onabort=null,te.ontimeout=null),$(M)}catch{}}function qm(){this.g=new Hs}function _h(f,C,M){const $=M||"";try{to(f,function(te,ae){let Ce=te;p(te)&&(Ce=Vs(te)),C.push($+ae+"="+encodeURIComponent(Ce))})}catch(te){throw C.push($+"type="+encodeURIComponent("_badmap")),te}}function gi(f){this.l=f.Ub||null,this.j=f.eb||!1}N(gi,ts),gi.prototype.g=function(){return new la(this.l,this.j)},gi.prototype.i=(function(f){return function(){return f}})({});function la(f,C){Dt.call(this),this.D=f,this.o=C,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}N(la,Dt),t=la.prototype,t.open=function(f,C){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=C,this.readyState=1,ls(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const C={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(C.body=f),(this.D||u).fetch(new Request(this.A,C)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,as(this)),this.readyState=0},t.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,ls(this)),this.g&&(this.readyState=3,ls(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Eh(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function Eh(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}t.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var C=f.value?f.value:new Uint8Array(0);(C=this.v.decode(C,{stream:!f.done}))&&(this.response=this.responseText+=C)}f.done?as(this):ls(this),this.readyState==3&&Eh(this)}},t.Ra=function(f){this.g&&(this.response=this.responseText=f,as(this))},t.Qa=function(f){this.g&&(this.response=f,as(this))},t.ga=function(){this.g&&as(this)};function as(f){f.readyState=4,f.l=null,f.j=null,f.v=null,ls(f)}t.setRequestHeader=function(f,C){this.u.append(f,C)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],C=this.h.entries();for(var M=C.next();!M.done;)M=M.value,f.push(M[0]+": "+M[1]),M=C.next();return f.join(`\r
`)};function ls(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(la.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function vi(f){let C="";return x(f,function(M,$){C+=$,C+=":",C+=M,C+=`\r
`}),C}function ao(f,C,M){e:{for($ in M){var $=!1;break e}$=!0}$||(M=vi(M),typeof f=="string"?M!=null&&encodeURIComponent(String(M)):jt(f,C,M))}function Gt(f){Dt.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}N(Gt,Dt);var Km=/^https?$/i,iu=["POST","PUT"];t=Gt.prototype,t.Ha=function(f){this.J=f},t.ea=function(f,C,M,$){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);C=C?C.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():rs.g(),this.v=this.o?qe(this.o):qe(rs),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(C,String(f),!0),this.B=!1}catch(ae){ca(this,ae);return}if(f=M||"",M=new Map(this.headers),$)if(Object.getPrototypeOf($)===Object.prototype)for(var te in $)M.set(te,$[te]);else if(typeof $.keys=="function"&&typeof $.get=="function")for(const ae of $.keys())M.set(ae,$.get(ae));else throw Error("Unknown input type for opt_headers: "+String($));$=Array.from(M.keys()).find(ae=>ae.toLowerCase()=="content-type"),te=u.FormData&&f instanceof u.FormData,!(0<=Array.prototype.indexOf.call(iu,C,void 0))||$||te||M.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ae,Ce]of M)this.g.setRequestHeader(ae,Ce);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{vl(this),this.u=!0,this.g.send(f),this.u=!1}catch(ae){ca(this,ae)}};function ca(f,C){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=C,f.m=5,gl(f),xr(f)}function gl(f){f.A||(f.A=!0,Rt(f,"complete"),Rt(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,Rt(this,"complete"),Rt(this,"abort"),xr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),xr(this,!0)),Gt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?ou(this):this.bb())},t.bb=function(){ou(this)};function ou(f){if(f.h&&typeof l<"u"&&(!f.v[1]||or(f)!=4||f.Z()!=2)){if(f.u&&or(f)==4)fi(f.Ea,0,f);else if(Rt(f,"readystatechange"),or(f)==4){f.h=!1;try{const Ce=f.Z();e:switch(Ce){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var C=!0;break e;default:C=!1}var M;if(!(M=C)){var $;if($=Ce===0){var te=String(f.D).match(oa)[1]||null;!te&&u.self&&u.self.location&&(te=u.self.location.protocol.slice(0,-1)),$=!Km.test(te?te.toLowerCase():"")}M=$}if(M)Rt(f,"complete"),Rt(f,"success");else{f.m=6;try{var ae=2<or(f)?f.g.statusText:""}catch{ae=""}f.l=ae+" ["+f.Z()+"]",gl(f)}}finally{xr(f)}}}}function xr(f,C){if(f.g){vl(f);const M=f.g,$=f.v[0]?()=>{}:null;f.g=null,f.v=null,C||Rt(f,"ready");try{M.onreadystatechange=$}catch{}}}function vl(f){f.I&&(u.clearTimeout(f.I),f.I=null)}t.isActive=function(){return!!this.g};function or(f){return f.g?f.g.readyState:0}t.Z=function(){try{return 2<or(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(f){if(this.g){var C=this.g.responseText;return f&&C.indexOf(f)==0&&(C=C.substring(f.length)),Us(C)}};function au(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function yl(f){const C={};f=(f.g&&2<=or(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let $=0;$<f.length;$++){if(U(f[$]))continue;var M=A(f[$]);const te=M[0];if(M=M[1],typeof M!="string")continue;M=M.trim();const ae=C[te]||[];C[te]=ae,ae.push(M)}_(C,function($){return $.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ws(f,C,M){return M&&M.internalChannelParams&&M.internalChannelParams[f]||C}function lu(f){this.Aa=0,this.i=[],this.j=new pi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ws("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ws("baseRetryDelayMs",5e3,f),this.cb=Ws("retryDelaySeedMs",1e4,f),this.Wa=Ws("forwardChannelMaxRetries",2,f),this.wa=Ws("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new ia(f&&f.concurrentRequestLimit),this.Da=new qm,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=lu.prototype,t.la=8,t.G=1,t.connect=function(f,C,M,$){Tt(0),this.W=f,this.H=C||{},M&&$!==void 0&&(this.H.OSID=M,this.H.OAID=$),this.F=this.X,this.I=bh(this,null,this.W),Gs(this)};function jn(f){if(wl(f),f.G==3){var C=f.U++,M=Sr(f.I);if(jt(M,"SID",f.K),jt(M,"RID",C),jt(M,"TYPE","terminate"),yi(f,M),C=new ss(f,f.j,C),C.L=2,C.v=so(Sr(M)),M=!1,u.navigator&&u.navigator.sendBeacon)try{M=u.navigator.sendBeacon(C.v.toString(),"")}catch{}!M&&u.Image&&(new Image().src=C.v,M=!0),M||(C.g=Ch(C.j,null),C.g.ea(C.v)),C.F=Date.now(),Ot(C)}Th(f)}function cs(f){f.g&&(cu(f),f.g.cancel(),f.g=null)}function wl(f){cs(f),f.u&&(u.clearTimeout(f.u),f.u=null),Sl(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&u.clearTimeout(f.s),f.s=null)}function Gs(f){if(!Er(f.h)&&!f.s){f.s=!0;var C=f.Ga;G||ee(),z||(G(),z=!0),Z.add(C,f),f.B=0}}function Ym(f,C){return hh(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=C.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=Wn(T(f.Ga,f,C),xh(f,f.B)),f.B++,!0)}t.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const te=new ss(this,this.j,f);let ae=this.o;if(this.S&&(ae?(ae=b(ae),P(ae,this.S)):ae=this.S),this.m!==null||this.O||(te.H=ae,ae=null),this.P)e:{for(var C=0,M=0;M<this.i.length;M++){t:{var $=this.i[M];if("__data__"in $.map&&($=$.map.__data__,typeof $=="string")){$=$.length;break t}$=void 0}if($===void 0)break;if(C+=$,4096<C){C=M;break e}if(C===4096||M===this.i.length-1){C=M+1;break e}}C=1e3}else C=1e3;C=lo(this,te,C),M=Sr(this.I),jt(M,"RID",f),jt(M,"CVER",22),this.D&&jt(M,"X-HTTP-Session-Id",this.D),yi(this,M),ae&&(this.O?C="headers="+encodeURIComponent(String(vi(ae)))+"&"+C:this.m&&ao(M,this.m,ae)),ru(this.h,te),this.Ua&&jt(M,"TYPE","init"),this.P?(jt(M,"$req",C),jt(M,"SID","null"),te.T=!0,hl(te,M,null)):hl(te,M,C),this.G=2}}else this.G==3&&(f?_l(this,f):this.i.length==0||Er(this.h)||_l(this))};function _l(f,C){var M;C?M=C.l:M=f.U++;const $=Sr(f.I);jt($,"SID",f.K),jt($,"RID",M),jt($,"AID",f.T),yi(f,$),f.m&&f.o&&ao($,f.m,f.o),M=new ss(f,f.j,M,f.B+1),f.m===null&&(M.H=f.o),C&&(f.i=C.D.concat(f.i)),C=lo(f,M,1e3),M.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),ru(f.h,M),hl(M,$,C)}function yi(f,C){f.H&&x(f.H,function(M,$){jt(C,$,M)}),f.l&&to({},function(M,$){jt(C,$,M)})}function lo(f,C,M){M=Math.min(f.i.length,M);var $=f.l?T(f.l.Na,f.l,f):null;e:{var te=f.i;let ae=-1;for(;;){const Ce=["count="+M];ae==-1?0<M?(ae=te[0].g,Ce.push("ofs="+ae)):ae=0:Ce.push("ofs="+ae);let Pt=!0;for(let gn=0;gn<M;gn++){let _t=te[gn].g;const Cn=te[gn].map;if(_t-=ae,0>_t)ae=Math.max(0,te[gn].g-100),Pt=!1;else try{_h(Cn,Ce,"req"+_t+"_")}catch{$&&$(Cn)}}if(Pt){$=Ce.join("&");break e}}}return f=f.i.splice(0,M),C.D=f,$}function ua(f){if(!f.g&&!f.u){f.Y=1;var C=f.Fa;G||ee(),z||(G(),z=!0),Z.add(C,f),f.v=0}}function El(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=Wn(T(f.Fa,f),xh(f,f.v)),f.v++,!0)}t.Fa=function(){if(this.u=null,Sh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=Wn(T(this.ab,this),f)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Tt(10),cs(this),Sh(this))};function cu(f){f.A!=null&&(u.clearTimeout(f.A),f.A=null)}function Sh(f){f.g=new ss(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var C=Sr(f.qa);jt(C,"RID","rpc"),jt(C,"SID",f.K),jt(C,"AID",f.T),jt(C,"CI",f.F?"0":"1"),!f.F&&f.ja&&jt(C,"TO",f.ja),jt(C,"TYPE","xmlhttp"),yi(f,C),f.m&&f.o&&ao(C,f.m,f.o),f.L&&(f.g.I=f.L);var M=f.g;f=f.ia,M.L=1,M.v=so(Sr(C)),M.m=null,M.P=!0,tu(M,f)}t.Za=function(){this.C!=null&&(this.C=null,cs(this),El(this),Tt(19))};function Sl(f){f.C!=null&&(u.clearTimeout(f.C),f.C=null)}function xl(f,C){var M=null;if(f.g==C){Sl(f),cu(f),f.g=null;var $=2}else if(Jn(f.h,C))M=C.D,fh(f.h,C),$=1;else return;if(f.G!=0){if(C.o)if($==1){M=C.m?C.m.length:0,C=Date.now()-C.F;var te=f.B;$=Nt(),Rt($,new _r($,M)),Gs(f)}else ua(f);else if(te=C.s,te==3||te==0&&0<C.X||!($==1&&Ym(f,C)||$==2&&El(f)))switch(M&&0<M.length&&(C=f.h,C.i=C.i.concat(M)),te){case 1:wi(f,5);break;case 4:wi(f,10);break;case 3:wi(f,6);break;default:wi(f,2)}}}function xh(f,C){let M=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(M*=2),M*C}function wi(f,C){if(f.j.info("Error code "+C),C==2){var M=T(f.fb,f),$=f.Xa;const te=!$;$=new mi($||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||aa($,"https"),so($),te?Gm($.toString(),M):wh($.toString(),M)}else Tt(2);f.G=0,f.l&&f.l.sa(C),Th(f),wl(f)}t.fb=function(f){f?(this.j.info("Successfully pinged google.com"),Tt(2)):(this.j.info("Failed to ping google.com"),Tt(1))};function Th(f){if(f.G=0,f.ka=[],f.l){const C=ph(f.h);(C.length!=0||f.i.length!=0)&&(j(f.ka,C),j(f.ka,f.i),f.h.i.length=0,D(f.i),f.i.length=0),f.l.ra()}}function bh(f,C,M){var $=M instanceof mi?Sr(M):new mi(M);if($.g!="")C&&($.g=C+"."+$.g),no($,$.s);else{var te=u.location;$=te.protocol,C=C?C+"."+te.hostname:te.hostname,te=+te.port;var ae=new mi(null);$&&aa(ae,$),C&&(ae.g=C),te&&no(ae,te),M&&(ae.l=M),$=ae}return M=f.D,C=f.ya,M&&C&&jt($,M,C),jt($,"VER",f.la),yi(f,$),$}function Ch(f,C,M){if(C&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return C=f.Ca&&!f.pa?new Gt(new gi({eb:M})):new Gt(f.pa),C.Ha(f.J),C}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function uu(){}t=uu.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Tl(){}Tl.prototype.g=function(f,C){return new er(f,C)};function er(f,C){Dt.call(this),this.g=new lu(C),this.l=f,this.h=C&&C.messageUrlParams||null,f=C&&C.messageHeaders||null,C&&C.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=C&&C.initMessageHeaders||null,C&&C.messageContentType&&(f?f["X-WebChannel-Content-Type"]=C.messageContentType:f={"X-WebChannel-Content-Type":C.messageContentType}),C&&C.va&&(f?f["X-WebChannel-Client-Profile"]=C.va:f={"X-WebChannel-Client-Profile":C.va}),this.g.S=f,(f=C&&C.Sb)&&!U(f)&&(this.g.m=f),this.v=C&&C.supportsCrossDomainXhr||!1,this.u=C&&C.sendRawJson||!1,(C=C&&C.httpSessionIdParam)&&!U(C)&&(this.g.D=C,f=this.h,f!==null&&C in f&&(f=this.h,C in f&&delete f[C])),this.j=new qs(this)}N(er,Dt),er.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},er.prototype.close=function(){jn(this.g)},er.prototype.o=function(f){var C=this.g;if(typeof f=="string"){var M={};M.__data__=f,f=M}else this.u&&(M={},M.__data__=Vs(f),f=M);C.i.push(new dh(C.Ya++,f)),C.G==3&&Gs(C)},er.prototype.N=function(){this.g.l=null,delete this.j,jn(this.g),delete this.g,er.aa.N.call(this)};function Ih(f){it.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var C=f.__sm__;if(C){e:{for(const M in C){f=M;break e}f=void 0}(this.i=f)&&(f=this.i,C=C!==null&&f in C?C[f]:void 0),this.data=C}else this.data=f}N(Ih,it);function Ah(){Ee.call(this),this.status=1}N(Ah,Ee);function qs(f){this.g=f}N(qs,uu),qs.prototype.ua=function(){Rt(this.g,"a")},qs.prototype.ta=function(f){Rt(this.g,new Ih(f))},qs.prototype.sa=function(f){Rt(this.g,new Ah)},qs.prototype.ra=function(){Rt(this.g,"b")},Tl.prototype.createWebChannel=Tl.prototype.g,er.prototype.send=er.prototype.o,er.prototype.open=er.prototype.m,er.prototype.close=er.prototype.close,ST=function(){return new Tl},ET=function(){return Nt()},_T=Fe,Cv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ul.NO_ERROR=0,ul.TIMEOUT=8,ul.HTTP_ERROR=6,Xf=ul,ah.COMPLETE="complete",wT=ah,ft.EventType=lt,lt.OPEN="a",lt.CLOSE="b",lt.ERROR="c",lt.MESSAGE="d",Dt.prototype.listen=Dt.prototype.K,Xu=ft,Gt.prototype.listenOnce=Gt.prototype.L,Gt.prototype.getLastError=Gt.prototype.Ka,Gt.prototype.getLastErrorCode=Gt.prototype.Ba,Gt.prototype.getStatus=Gt.prototype.Z,Gt.prototype.getResponseJson=Gt.prototype.Oa,Gt.prototype.getResponseText=Gt.prototype.oa,Gt.prototype.send=Gt.prototype.ea,Gt.prototype.setWithCredentials=Gt.prototype.Ha,yT=Gt}).apply(typeof Cf<"u"?Cf:typeof self<"u"?self:typeof window<"u"?window:{});const v5="@firebase/firestore",y5="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ln.UNAUTHENTICATED=new Ln(null),Ln.GOOGLE_CREDENTIALS=new Ln("google-credentials-uid"),Ln.FIRST_PARTY=new Ln("first-party-uid"),Ln.MOCK_USER=new Ln("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $c="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xa=new Ny("@firebase/firestore");function ic(){return Xa.logLevel}function Ae(t,...e){if(Xa.logLevel<=gt.DEBUG){const n=e.map(Wy);Xa.debug(`Firestore (${$c}): ${t}`,...n)}}function Nr(t,...e){if(Xa.logLevel<=gt.ERROR){const n=e.map(Wy);Xa.error(`Firestore (${$c}): ${t}`,...n)}}function qd(t,...e){if(Xa.logLevel<=gt.WARN){const n=e.map(Wy);Xa.warn(`Firestore (${$c}): ${t}`,...n)}}function Wy(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ye(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,xT(t,r,n)}function xT(t,e,n){let r=`FIRESTORE (${$c}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Nr(r),new Error(r)}function nt(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||xT(e,s,r)}function Bt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ye={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ge extends Yi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class rj{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Ln.UNAUTHENTICATED)))}shutdown(){}}class sj{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class ij{constructor(e){this.t=e,this.currentUser=Ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){nt(this.o===void 0,42304);let r=this.i;const s=h=>this.i!==r?(r=this.i,n(h)):Promise.resolve();let o=new Ha;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ha,e.enqueueRetryable((()=>s(this.currentUser)))};const l=()=>{const h=o;e.enqueueRetryable((async()=>{await h.promise,await s(this.currentUser)}))},u=h=>{Ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((h=>u(h))),setTimeout((()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?u(h):(Ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ha)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(nt(typeof r.accessToken=="string",31837,{l:r}),new TT(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return nt(e===null||typeof e=="string",2055,{h:e}),new Ln(e)}}class oj{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Ln.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class aj{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new oj(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Ln.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class w5{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class lj{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Pr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){nt(this.o===void 0,3512);const r=o=>{o.error!=null&&Ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.m;return this.m=o.token,Ae("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};const s=o=>{Ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>s(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?s(o):Ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new w5(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(nt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new w5(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cj(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uj(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=cj(40);for(let o=0;o<s.length;++o)r.length<20&&s[o]<n&&(r+=e.charAt(s[o]%62))}return r}}function ct(t,e){return t<e?-1:t>e?1:0}function Iv(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),s=e.codePointAt(n);if(r!==s){if(r<128&&s<128)return ct(r,s);{const o=uj(),l=dj(o.encode(_5(t,n)),o.encode(_5(e,n)));return l!==0?l:ct(r,s)}}n+=r>65535?2:1}return ct(t.length,e.length)}function _5(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function dj(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return ct(t[n],e[n]);return ct(t.length,e.length)}function xc(t,e,n){return t.length===e.length&&t.every(((r,s)=>n(r,e[s])))}function CT(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E5="__name__";class Xs{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ye(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ye(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Xs.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Xs?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const o=Xs.compareSegments(e.get(s),n.get(s));if(o!==0)return o}return ct(e.length,n.length)}static compareSegments(e,n){const r=Xs.isNumericId(e),s=Xs.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Xs.extractNumericId(e).compare(Xs.extractNumericId(n)):Iv(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return zy.fromString(e.substring(4,e.length-2))}}class Kt extends Xs{construct(e,n,r){return new Kt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ge(ye.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((s=>s.length>0)))}return new Kt(n)}static emptyPath(){return new Kt([])}}const hj=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ln extends Xs{construct(e,n,r){return new ln(e,n,r)}static isValidIdentifier(e){return hj.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ln.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===E5}static keyField(){return new ln([E5])}static fromServerFormat(e){const n=[];let r="",s=0;const o=()=>{if(r.length===0)throw new Ge(ye.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;s<e.length;){const u=e[s];if(u==="\\"){if(s+1===e.length)throw new Ge(ye.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new Ge(ye.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,s+=2}else u==="`"?(l=!l,s++):u!=="."||l?(r+=u,s++):(o(),s++)}if(o(),l)throw new Ge(ye.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ln(n)}static emptyPath(){return new ln([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{constructor(e){this.path=e}static fromPath(e){return new ze(Kt.fromString(e))}static fromName(e){return new ze(Kt.fromString(e).popFirst(5))}static empty(){return new ze(Kt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Kt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Kt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ze(new Kt(e.slice()))}}function fj(t,e,n,r){if(e===!0&&r===!0)throw new Ge(ye.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function pj(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function mj(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ye(12329,{type:typeof t})}function IT(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ge(ye.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=mj(t);throw new Ge(ye.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(t,e){const n={typeString:t};return e&&(n.value=e),n}function Kd(t,e){if(!pj(t))throw new Ge(ye.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(s&&typeof l!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(o!==void 0&&l!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new Ge(ye.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S5=-62135596800,x5=1e6;class nn{static now(){return nn.fromMillis(Date.now())}static fromDate(e){return nn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*x5);return new nn(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ge(ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ge(ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<S5)throw new Ge(ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ge(ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/x5}_compareTo(e){return this.seconds===e.seconds?ct(this.nanoseconds,e.nanoseconds):ct(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:nn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Kd(e,nn._jsonSchema))return new nn(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-S5;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}nn._jsonSchemaVersion="firestore/timestamp/1.0",nn._jsonSchema={type:pn("string",nn._jsonSchemaVersion),seconds:pn("number"),nanoseconds:pn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{static fromTimestamp(e){return new St(e)}static min(){return new St(new nn(0,0))}static max(){return new St(new nn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yd=-1;class Ip{constructor(e,n,r,s){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=s}}function Av(t){return t.fields.find((e=>e.kind===2))}function Ra(t){return t.fields.filter((e=>e.kind!==2))}Ip.UNKNOWN_ID=-1;class Jf{constructor(e,n){this.fieldPath=e,this.kind=n}}class wd{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new wd(0,jr.min())}}function gj(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=St.fromTimestamp(r===1e9?new nn(n+1,0):new nn(n,r));return new jr(s,ze.empty(),e)}function AT(t){return new jr(t.readTime,t.key,yd)}class jr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new jr(St.min(),ze.empty(),yd)}static max(){return new jr(St.max(),ze.empty(),yd)}}function Gy(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ze.comparator(t.documentKey,e.documentKey),n!==0?n:ct(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class PT{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function im(t){if(t.code!==ye.FAILED_PRECONDITION||t.message!==RT)throw t;Ae("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ye(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ie(((r,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,s)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,s)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ie?n:ie.resolve(n)}catch(n){return ie.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.reject(n)}static resolve(e){return new ie(((n,r)=>{n(e)}))}static reject(e){return new ie(((n,r)=>{r(e)}))}static waitFor(e){return new ie(((n,r)=>{let s=0,o=0,l=!1;e.forEach((u=>{++s,u.next((()=>{++o,l&&o===s&&n()}),(h=>r(h)))})),l=!0,o===s&&n()}))}static or(e){let n=ie.resolve(!1);for(const r of e)n=n.next((s=>s?ie.resolve(s):r()));return n}static forEach(e,n){const r=[];return e.forEach(((s,o)=>{r.push(n.call(this,s,o))})),this.waitFor(r)}static mapArray(e,n){return new ie(((r,s)=>{const o=e.length,l=new Array(o);let u=0;for(let h=0;h<o;h++){const p=h;n(e[p]).next((v=>{l[p]=v,++u,u===o&&r(l)}),(v=>s(v)))}}))}static doWhile(e,n){return new ie(((r,s)=>{const o=()=>{e()===!0?n().next((()=>{o()}),s):r()};o()}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ar="SimpleDb";class om{static open(e,n,r,s){try{return new om(n,e.transaction(s,r))}catch(o){throw new sd(n,o)}}constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.S=new Ha,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{n.error?this.S.reject(new sd(e,n.error)):this.S.resolve()},this.transaction.onerror=r=>{const s=qy(r.target.error);this.S.reject(new sd(e,s))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(Ae(Ar,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}v(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new yj(n)}}class Wo{static delete(e){return Ae(Ar,"Removing database:",e),Na(Ex().indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!Px())return!1;if(Wo.F())return!0;const e=En(),n=Wo.M(e),r=0<n&&n<10,s=NT(e),o=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static F(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.O)==="YES"}static N(e,n){return e.store(n)}static M(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,n,r){this.name=e,this.version=n,this.B=r,this.L=null,Wo.M(En())===12.2&&Nr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async k(e){return this.db||(Ae(Ar,"Opening database:",this.name),this.db=await new Promise(((n,r)=>{const s=indexedDB.open(this.name,this.version);s.onsuccess=o=>{const l=o.target.result;n(l)},s.onblocked=()=>{r(new sd(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=o=>{const l=o.target.error;l.name==="VersionError"?r(new Ge(ye.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):l.name==="InvalidStateError"?r(new Ge(ye.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+l)):r(new sd(e,l))},s.onupgradeneeded=o=>{Ae(Ar,'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);const l=o.target.result;if(this.L!==null&&this.L!==o.oldVersion)throw new Error(`refusing to open IndexedDB database due to potential corruption of the IndexedDB database data; this corruption could be caused by clicking the "clear site data" button in a web browser; try reloading the web page to re-initialize the IndexedDB database: lastClosedDbVersion=${this.L}, event.oldVersion=${o.oldVersion}, event.newVersion=${o.newVersion}, db.version=${l.version}`);this.B.q(l,s.transaction,o.oldVersion,this.version).next((()=>{Ae(Ar,"Database upgrade to version "+this.version+" complete")}))}})),this.db.addEventListener("close",(n=>{const r=n.target;this.L=r.version}),{passive:!0})),this.db.addEventListener("versionchange",(n=>{var r;n.newVersion===null&&(qd('Received "versionchange" event with newVersion===null; notifying the registered DatabaseDeletedListener, if any'),(r=this.databaseDeletedListener)===null||r===void 0||r.call(this))}),{passive:!0}),this.db}setDatabaseDeletedListener(e){if(this.databaseDeletedListener)throw new Error("setDatabaseDeletedListener() may only be called once, and it has already been called");this.databaseDeletedListener=e}async runTransaction(e,n,r,s){const o=n==="readonly";let l=0;for(;;){++l;try{this.db=await this.k(e);const u=om.open(this.db,e,o?"readonly":"readwrite",r),h=s(u).next((p=>(u.v(),p))).catch((p=>(u.abort(p),ie.reject(p)))).toPromise();return h.catch((()=>{})),await u.D,h}catch(u){const h=u,p=h.name!=="FirebaseError"&&l<3;if(Ae(Ar,"Transaction failed with error:",h.message,"Retrying:",p),this.close(),!p)return Promise.reject(h)}}}close(){this.db&&this.db.close(),this.db=void 0}}function NT(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class vj{constructor(e){this.$=e,this.U=!1,this.K=null}get isDone(){return this.U}get W(){return this.K}set cursor(e){this.$=e}done(){this.U=!0}G(e){this.K=e}delete(){return Na(this.$.delete())}}class sd extends Ge{constructor(e,n){super(ye.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function al(t){return t.name==="IndexedDbTransactionError"}class yj{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(Ae(Ar,"PUT",this.store.name,e,n),r=this.store.put(n,e)):(Ae(Ar,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Na(r)}add(e){return Ae(Ar,"ADD",this.store.name,e,e),Na(this.store.add(e))}get(e){return Na(this.store.get(e)).next((n=>(n===void 0&&(n=null),Ae(Ar,"GET",this.store.name,e,n),n)))}delete(e){return Ae(Ar,"DELETE",this.store.name,e),Na(this.store.delete(e))}count(){return Ae(Ar,"COUNT",this.store.name),Na(this.store.count())}j(e,n){const r=this.options(e,n),s=r.index?this.store.index(r.index):this.store;if(typeof s.getAll=="function"){const o=s.getAll(r.range);return new ie(((l,u)=>{o.onerror=h=>{u(h.target.error)},o.onsuccess=h=>{l(h.target.result)}}))}{const o=this.cursor(r),l=[];return this.J(o,((u,h)=>{l.push(h)})).next((()=>l))}}H(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new ie(((s,o)=>{r.onerror=l=>{o(l.target.error)},r.onsuccess=l=>{s(l.target.result)}}))}Y(e,n){Ae(Ar,"DELETE ALL",this.store.name);const r=this.options(e,n);r.Z=!1;const s=this.cursor(r);return this.J(s,((o,l,u)=>u.delete()))}X(e,n){let r;n?r=e:(r={},n=e);const s=this.cursor(r);return this.J(s,n)}ee(e){const n=this.cursor({});return new ie(((r,s)=>{n.onerror=o=>{const l=qy(o.target.error);s(l)},n.onsuccess=o=>{const l=o.target.result;l?e(l.primaryKey,l.value).next((u=>{u?l.continue():r()})):r()}}))}J(e,n){const r=[];return new ie(((s,o)=>{e.onerror=l=>{o(l.target.error)},e.onsuccess=l=>{const u=l.target.result;if(!u)return void s();const h=new vj(u),p=n(u.primaryKey,u.value,h);if(p instanceof ie){const v=p.catch((y=>(h.done(),ie.reject(y))));r.push(v)}h.isDone?s():h.W===null?u.continue():u.continue(h.W)}})).next((()=>ie.waitFor(r)))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.Z?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Na(t){return new ie(((e,n)=>{t.onsuccess=r=>{const s=r.target.result;e(s)},t.onerror=r=>{const s=qy(r.target.error);n(s)}}))}let T5=!1;function qy(t){const e=Wo.M(En());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new Ge("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return T5||(T5=!0,setTimeout((()=>{throw r}),0)),r}}return t}const id="IndexBackfiller";class wj{constructor(e,n){this.asyncQueue=e,this.te=n,this.task=null}start(){this.ne(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}ne(e){Ae(id,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const n=await this.te.re();Ae(id,`Documents written: ${n}`)}catch(n){al(n)?Ae(id,"Ignoring IndexedDB error during index backfill: ",n):await im(n)}await this.ne(6e4)}))}}class _j{constructor(e,n){this.localStore=e,this.persistence=n}async re(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(n=>this.ie(n,e)))}ie(e,n){const r=new Set;let s=n,o=!0;return ie.doWhile((()=>o===!0&&s>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((l=>{if(l!==null&&!r.has(l))return Ae(id,`Processing collection: ${l}`),this.se(e,l,s).next((u=>{s-=u,r.add(l)}));o=!1})))).next((()=>n-s))}se(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next((s=>this.localStore.localDocuments.getNextDocuments(e,n,s,r).next((o=>{const l=o.changes;return this.localStore.indexManager.updateIndexEntries(e,l).next((()=>this.oe(s,o))).next((u=>(Ae(id,`Updating offset: ${u}`),this.localStore.indexManager.updateCollectionGroup(e,n,u)))).next((()=>l.size))}))))}oe(e,n){let r=e;return n.changes.forEach(((s,o)=>{const l=AT(o);Gy(l,r)>0&&(r=l)})),new jr(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this._e(r),this.ae=r=>n.writeSequenceNumber(r))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}Ss.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ba=-1;function am(t){return t==null}function Ap(t){return t===0&&1/t==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rp="";function rr(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=b5(e)),e=Ej(t.get(n),e);return b5(e)}function Ej(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const o=t.charAt(s);switch(o){case"\0":n+="";break;case Rp:n+="";break;default:n+=o}}return n}function b5(t){return t+Rp+""}function ti(t){const e=t.length;if(nt(e>=2,64408,{path:t}),e===2)return nt(t.charAt(0)===Rp&&t.charAt(1)==="",56145,{path:t}),Kt.emptyPath();const n=e-2,r=[];let s="";for(let o=0;o<e;){const l=t.indexOf(Rp,o);switch((l<0||l>n)&&Ye(50515,{path:t}),t.charAt(l+1)){case"":const u=t.substring(o,l);let h;s.length===0?h=u:(s+=u,h=s,s=""),r.push(h);break;case"":s+=t.substring(o,l),s+="\0";break;case"":s+=t.substring(o,l+1);break;default:Ye(61167,{path:t})}o=l+2}return new Kt(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pa="remoteDocuments",Yd="owner",Yl="owner",_d="mutationQueues",Sj="userId",vs="mutations",C5="batchId",La="userMutationsIndex",I5=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ep(t,e){return[t,rr(e)]}function kT(t,e,n){return[t,rr(e),n]}const xj={},Tc="documentMutations",Pp="remoteDocumentsV14",Tj=["prefixPath","collectionGroup","readTime","documentId"],tp="documentKeyIndex",bj=["prefixPath","collectionGroup","documentId"],DT="collectionGroupIndex",Cj=["collectionGroup","readTime","prefixPath","documentId"],Ed="remoteDocumentGlobal",Rv="remoteDocumentGlobalKey",bc="targets",jT="queryTargetsIndex",Ij=["canonicalId","targetId"],Cc="targetDocuments",Aj=["targetId","path"],Ky="documentTargetsIndex",Rj=["path","targetId"],Np="targetGlobalKey",$a="targetGlobal",Sd="collectionParents",Pj=["collectionId","parent"],Ic="clientMetadata",Nj="clientId",lm="bundles",kj="bundleId",cm="namedQueries",Dj="name",Yy="indexConfiguration",jj="indexId",Pv="collectionGroupIndex",Mj="collectionGroup",od="indexState",Oj=["indexId","uid"],MT="sequenceNumberIndex",Lj=["uid","sequenceNumber"],ad="indexEntries",Fj=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],OT="documentKeyIndex",Vj=["indexId","uid","orderedDocumentKey"],um="documentOverlays",Uj=["userId","collectionPath","documentId"],Nv="collectionPathOverlayIndex",Hj=["userId","collectionPath","largestBatchId"],LT="collectionGroupOverlayIndex",Bj=["userId","collectionGroup","largestBatchId"],Zy="globals",$j="name",FT=[_d,vs,Tc,Pa,bc,Yd,$a,Cc,Ic,Ed,Sd,lm,cm],zj=[...FT,um],VT=[_d,vs,Tc,Pp,bc,Yd,$a,Cc,Ic,Ed,Sd,lm,cm,um],UT=VT,Qy=[...UT,Yy,od,ad],Wj=Qy,HT=[...Qy,Zy],Gj=HT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv extends PT{constructor(e,n){super(),this.ce=e,this.currentSequenceNumber=n}}function Sn(t,e){const n=Bt(t);return Wo.N(n.ce,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A5(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Xy(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function qj(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e,n){this.comparator=e,this.root=n||Fn.EMPTY}insert(e,n){return new vr(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Fn.BLACK,null,null))}remove(e){return new vr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Fn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new If(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new If(this.root,e,this.comparator,!1)}getReverseIterator(){return new If(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new If(this.root,e,this.comparator,!0)}}class If{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Fn{constructor(e,n,r,s,o){this.key=e,this.value=n,this.color=r??Fn.RED,this.left=s??Fn.EMPTY,this.right=o??Fn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,o){return new Fn(e??this.key,n??this.value,r??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const o=r(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,n,r),null):o===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Fn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Fn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Fn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Fn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ye(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ye(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ye(27949);return e+(this.isRed()?0:1)}}Fn.EMPTY=null,Fn.RED=!0,Fn.BLACK=!1;Fn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ye(57766)}get value(){throw Ye(16141)}get color(){throw Ye(16727)}get left(){throw Ye(29726)}get right(){throw Ye(36894)}copy(e,n,r,s,o){return this}insert(e,n,r){return new Fn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.comparator=e,this.data=new vr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new R5(this.data.getIterator())}getIteratorFrom(e){return new R5(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Mt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=r.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Mt(this.comparator);return n.data=e,n}}class R5{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Zl(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(e){this.fields=e,e.sort(ln.comparator)}static empty(){return new Oi([])}unionWith(e){let n=new Mt(ln.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Oi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return xc(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kj extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Kj("Invalid base64 string: "+o):o}})(e);return new yr(n)}static fromUint8Array(e){const n=(function(s){let o="";for(let l=0;l<s.length;++l)o+=String.fromCharCode(s[l]);return o})(e);return new yr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ct(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}yr.EMPTY_BYTE_STRING=new yr("");const Yj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qo(t){if(nt(!!t,39018),typeof t=="string"){let e=0;const n=Yj.exec(t);if(nt(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:fn(t.seconds),nanos:fn(t.nanos)}}function fn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ac(t){return typeof t=="string"?yr.fromBase64String(t):yr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BT="server_timestamp",$T="__type__",zT="__previous_value__",WT="__local_write_time__";function Jy(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[$T])===null||n===void 0?void 0:n.stringValue)===BT}function GT(t){const e=t.mapValue.fields[zT];return Jy(e)?GT(e):e}function kp(t){const e=qo(t.mapValue.fields[WT].timestampValue);return new nn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zj{constructor(e,n,r,s,o,l,u,h,p,v){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=h,this.useFetchStreams=p,this.isUsingEmulator=v}}const Dp="(default)";class Rc{constructor(e,n){this.projectId=e,this.database=n||Dp}static empty(){return new Rc("","")}get isDefaultDatabase(){return this.database===Dp}isEqual(e){return e instanceof Rc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT="__type__",KT="__max__",Fo={mapValue:{fields:{__type__:{stringValue:KT}}}},YT="__vector__",jp="value",np={nullValue:"NULL_VALUE"};function Pc(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Jy(t)?4:ZT(t)?9007199254740991:dm(t)?10:11:Ye(28295,{value:t})}function ai(t,e){if(t===e)return!0;const n=Pc(t);if(n!==Pc(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return kp(t).isEqual(kp(e));case 3:return(function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const l=qo(s.timestampValue),u=qo(o.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(s,o){return Ac(s.bytesValue).isEqual(Ac(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(s,o){return fn(s.geoPointValue.latitude)===fn(o.geoPointValue.latitude)&&fn(s.geoPointValue.longitude)===fn(o.geoPointValue.longitude)})(t,e);case 2:return(function(s,o){if("integerValue"in s&&"integerValue"in o)return fn(s.integerValue)===fn(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const l=fn(s.doubleValue),u=fn(o.doubleValue);return l===u?Ap(l)===Ap(u):isNaN(l)&&isNaN(u)}return!1})(t,e);case 9:return xc(t.arrayValue.values||[],e.arrayValue.values||[],ai);case 10:case 11:return(function(s,o){const l=s.mapValue.fields||{},u=o.mapValue.fields||{};if(A5(l)!==A5(u))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(u[h]===void 0||!ai(l[h],u[h])))return!1;return!0})(t,e);default:return Ye(52216,{left:t})}}function xd(t,e){return(t.values||[]).find((n=>ai(n,e)))!==void 0}function Ko(t,e){if(t===e)return 0;const n=Pc(t),r=Pc(e);if(n!==r)return ct(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ct(t.booleanValue,e.booleanValue);case 2:return(function(o,l){const u=fn(o.integerValue||o.doubleValue),h=fn(l.integerValue||l.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1})(t,e);case 3:return P5(t.timestampValue,e.timestampValue);case 4:return P5(kp(t),kp(e));case 5:return Iv(t.stringValue,e.stringValue);case 6:return(function(o,l){const u=Ac(o),h=Ac(l);return u.compareTo(h)})(t.bytesValue,e.bytesValue);case 7:return(function(o,l){const u=o.split("/"),h=l.split("/");for(let p=0;p<u.length&&p<h.length;p++){const v=ct(u[p],h[p]);if(v!==0)return v}return ct(u.length,h.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,l){const u=ct(fn(o.latitude),fn(l.latitude));return u!==0?u:ct(fn(o.longitude),fn(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return N5(t.arrayValue,e.arrayValue);case 10:return(function(o,l){var u,h,p,v;const y=o.fields||{},T=l.fields||{},k=(u=y[jp])===null||u===void 0?void 0:u.arrayValue,N=(h=T[jp])===null||h===void 0?void 0:h.arrayValue,D=ct(((p=k==null?void 0:k.values)===null||p===void 0?void 0:p.length)||0,((v=N==null?void 0:N.values)===null||v===void 0?void 0:v.length)||0);return D!==0?D:N5(k,N)})(t.mapValue,e.mapValue);case 11:return(function(o,l){if(o===Fo.mapValue&&l===Fo.mapValue)return 0;if(o===Fo.mapValue)return 1;if(l===Fo.mapValue)return-1;const u=o.fields||{},h=Object.keys(u),p=l.fields||{},v=Object.keys(p);h.sort(),v.sort();for(let y=0;y<h.length&&y<v.length;++y){const T=Iv(h[y],v[y]);if(T!==0)return T;const k=Ko(u[h[y]],p[v[y]]);if(k!==0)return k}return ct(h.length,v.length)})(t.mapValue,e.mapValue);default:throw Ye(23264,{le:n})}}function P5(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ct(t,e);const n=qo(t),r=qo(e),s=ct(n.seconds,r.seconds);return s!==0?s:ct(n.nanos,r.nanos)}function N5(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const o=Ko(n[s],r[s]);if(o)return o}return ct(n.length,r.length)}function Nc(t){return Dv(t)}function Dv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=qo(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Ac(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return ze.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",s=!0;for(const o of n.values||[])s?s=!1:r+=",",r+=Dv(o);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let s="{",o=!0;for(const l of r)o?o=!1:s+=",",s+=`${l}:${Dv(n.fields[l])}`;return s+"}"})(t.mapValue):Ye(61005,{value:t})}function e1(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function jv(t){return!!t&&"integerValue"in t}function Td(t){return!!t&&"arrayValue"in t}function k5(t){return!!t&&"nullValue"in t}function D5(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function M0(t){return!!t&&"mapValue"in t}function dm(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[qT])===null||n===void 0?void 0:n.stringValue)===YT}function ld(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Xy(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=ld(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ld(t.arrayValue.values[n]);return e}return Object.assign({},t)}function ZT(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===KT}const QT={mapValue:{fields:{[qT]:{stringValue:YT},[jp]:{arrayValue:{}}}}};function Qj(t){return"nullValue"in t?np:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?e1(Rc.empty(),ze.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?dm(t)?QT:{mapValue:{}}:Ye(35942,{value:t})}function Xj(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?e1(Rc.empty(),ze.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?QT:"mapValue"in t?dm(t)?{mapValue:{}}:Fo:Ye(61959,{value:t})}function j5(t,e){const n=Ko(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function M5(t,e){const n=Ko(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e){this.value=e}static empty(){return new ys({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!M0(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ld(n)}setAll(e){let n=ln.emptyPath(),r={},s=[];e.forEach(((l,u)=>{if(!n.isImmediateParentOf(u)){const h=this.getFieldsMap(n);this.applyChanges(h,r,s),r={},s=[],n=u.popLast()}l?r[u.lastSegment()]=ld(l):s.push(u.lastSegment())}));const o=this.getFieldsMap(n);this.applyChanges(o,r,s)}delete(e){const n=this.field(e.popLast());M0(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ai(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];M0(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Xy(n,((s,o)=>e[s]=o));for(const s of r)delete e[s]}clone(){return new ys(ld(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e,n,r,s,o,l,u){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=o,this.data=l,this.documentState=u}static newInvalidDocument(e){return new Vn(e,0,St.min(),St.min(),St.min(),ys.empty(),0)}static newFoundDocument(e,n,r,s){return new Vn(e,1,n,St.min(),r,s,0)}static newNoDocument(e,n){return new Vn(e,2,n,St.min(),St.min(),ys.empty(),0)}static newUnknownDocument(e,n){return new Vn(e,3,n,St.min(),St.min(),ys.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(St.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ys.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ys.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Vn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Vn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(e,n){this.position=e,this.inclusive=n}}function O5(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const o=e[s],l=t.position[s];if(o.field.isKeyField()?r=ze.comparator(ze.fromName(l.referenceValue),n.key):r=Ko(l,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function L5(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ai(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(e,n="asc"){this.field=e,this.dir=n}}function Jj(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{}class wt extends XT{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new eM(e,n,r):n==="array-contains"?new rM(e,r):n==="in"?new sb(e,r):n==="not-in"?new sM(e,r):n==="array-contains-any"?new iM(e,r):new wt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new tM(e,r):new nM(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ko(n,this.value)):n!==null&&Pc(this.value)===Pc(n)&&this.matchesComparison(Ko(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ye(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class kt extends XT{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new kt(e,n)}matches(e){return Dc(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function Dc(t){return t.op==="and"}function Mv(t){return t.op==="or"}function t1(t){return JT(t)&&Dc(t)}function JT(t){for(const e of t.filters)if(e instanceof kt)return!1;return!0}function Ov(t){if(t instanceof wt)return t.field.canonicalString()+t.op.toString()+Nc(t.value);if(t1(t))return t.filters.map((e=>Ov(e))).join(",");{const e=t.filters.map((n=>Ov(n))).join(",");return`${t.op}(${e})`}}function eb(t,e){return t instanceof wt?(function(r,s){return s instanceof wt&&r.op===s.op&&r.field.isEqual(s.field)&&ai(r.value,s.value)})(t,e):t instanceof kt?(function(r,s){return s instanceof kt&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((o,l,u)=>o&&eb(l,s.filters[u])),!0):!1})(t,e):void Ye(19439)}function tb(t,e){const n=t.filters.concat(e);return kt.create(n,t.op)}function nb(t){return t instanceof wt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Nc(n.value)}`})(t):t instanceof kt?(function(n){return n.op.toString()+" {"+n.getFilters().map(nb).join(" ,")+"}"})(t):"Filter"}class eM extends wt{constructor(e,n,r){super(e,n,r),this.key=ze.fromName(r.referenceValue)}matches(e){const n=ze.comparator(e.key,this.key);return this.matchesComparison(n)}}class tM extends wt{constructor(e,n){super(e,"in",n),this.keys=rb("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class nM extends wt{constructor(e,n){super(e,"not-in",n),this.keys=rb("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function rb(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map((r=>ze.fromName(r.referenceValue)))}class rM extends wt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Td(n)&&xd(n.arrayValue,this.value)}}class sb extends wt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&xd(this.value.arrayValue,n)}}class sM extends wt{constructor(e,n){super(e,"not-in",n)}matches(e){if(xd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!xd(this.value.arrayValue,n)}}class iM extends wt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Td(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>xd(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM{constructor(e,n=null,r=[],s=[],o=null,l=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=o,this.startAt=l,this.endAt=u,this.Pe=null}}function Lv(t,e=null,n=[],r=[],s=null,o=null,l=null){return new oM(t,e,n,r,s,o,l)}function Ja(t){const e=Bt(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Ov(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),am(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Nc(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Nc(r))).join(",")),e.Pe=n}return e.Pe}function Zd(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Jj(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!eb(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!L5(t.startAt,e.startAt)&&L5(t.endAt,e.endAt)}function aM(t){return ze.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Op(t,e){return t.filters.filter((n=>n instanceof wt&&n.field.isEqual(e)))}function F5(t,e,n){let r=np,s=!0;for(const o of Op(t,e)){let l=np,u=!0;switch(o.op){case"<":case"<=":l=Qj(o.value);break;case"==":case"in":case">=":l=o.value;break;case">":l=o.value,u=!1;break;case"!=":case"not-in":l=np}j5({value:r,inclusive:s},{value:l,inclusive:u})<0&&(r=l,s=u)}if(n!==null){for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){const l=n.position[o];j5({value:r,inclusive:s},{value:l,inclusive:n.inclusive})<0&&(r=l,s=n.inclusive);break}}return{value:r,inclusive:s}}function V5(t,e,n){let r=Fo,s=!0;for(const o of Op(t,e)){let l=Fo,u=!0;switch(o.op){case">=":case">":l=Xj(o.value),u=!1;break;case"==":case"in":case"<=":l=o.value;break;case"<":l=o.value,u=!1;break;case"!=":case"not-in":l=Fo}M5({value:r,inclusive:s},{value:l,inclusive:u})>0&&(r=l,s=u)}if(n!==null){for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){const l=n.position[o];M5({value:r,inclusive:s},{value:l,inclusive:n.inclusive})>0&&(r=l,s=n.inclusive);break}}return{value:r,inclusive:s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(e,n=null,r=[],s=[],o=null,l="F",u=null,h=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=o,this.limitType=l,this.startAt=u,this.endAt=h,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function lM(t,e,n,r,s,o,l,u){return new hm(t,e,n,r,s,o,l,u)}function ib(t){return new hm(t)}function U5(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function cM(t){return t.collectionGroup!==null}function cd(t){const e=Bt(t);if(e.Te===null){e.Te=[];const n=new Set;for(const o of e.explicitOrderBy)e.Te.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new Mt(ln.comparator);return l.filters.forEach((h=>{h.getFlattenedFilters().forEach((p=>{p.isInequality()&&(u=u.add(p.field))}))})),u})(e).forEach((o=>{n.has(o.canonicalString())||o.isKeyField()||e.Te.push(new Mp(o,r))})),n.has(ln.keyField().canonicalString())||e.Te.push(new Mp(ln.keyField(),r))}return e.Te}function Vi(t){const e=Bt(t);return e.Ie||(e.Ie=uM(e,cd(t))),e.Ie}function uM(t,e){if(t.limitType==="F")return Lv(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((s=>{const o=s.dir==="desc"?"asc":"desc";return new Mp(s.field,o)}));const n=t.endAt?new kc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new kc(t.startAt.position,t.startAt.inclusive):null;return Lv(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Fv(t,e,n){return new hm(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ob(t,e){return Zd(Vi(t),Vi(e))&&t.limitType===e.limitType}function ab(t){return`${Ja(Vi(t))}|lt:${t.limitType}`}function Uu(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((s=>nb(s))).join(", ")}]`),am(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((s=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(s))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((s=>Nc(s))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((s=>Nc(s))).join(",")),`Target(${r})`})(Vi(t))}; limitType=${t.limitType})`}function fm(t,e){return e.isFoundDocument()&&(function(r,s){const o=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ze.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(t,e)&&(function(r,s){for(const o of cd(r))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(r,s){for(const o of r.filters)if(!o.matches(s))return!1;return!0})(t,e)&&(function(r,s){return!(r.startAt&&!(function(l,u,h){const p=O5(l,u,h);return l.inclusive?p<=0:p<0})(r.startAt,cd(r),s)||r.endAt&&!(function(l,u,h){const p=O5(l,u,h);return l.inclusive?p>=0:p>0})(r.endAt,cd(r),s))})(t,e)}function dM(t){return(e,n)=>{let r=!1;for(const s of cd(t)){const o=hM(s,e,n);if(o!==0)return o;r=r||s.field.isKeyField()}return 0}}function hM(t,e,n){const r=t.field.isKeyField()?ze.comparator(e.key,n.key):(function(o,l,u){const h=l.data.field(o),p=u.data.field(o);return h!==null&&p!==null?Ko(h,p):Ye(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ye(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,o]of r)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Xy(this.inner,((n,r)=>{for(const[s,o]of r)e(s,o)}))}isEmpty(){return qj(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fM=new vr(ze.comparator);function Fa(){return fM}const lb=new vr(ze.comparator);function Af(...t){let e=lb;for(const n of t)e=e.insert(n.key,n);return e}function pM(t){let e=lb;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function ni(){return ud()}function cb(){return ud()}function ud(){return new ea((t=>t.toString()),((t,e)=>t.isEqual(e)))}const mM=new vr(ze.comparator),gM=new Mt(ze.comparator);function Un(...t){let e=gM;for(const n of t)e=e.add(n);return e}const vM=new Mt(ct);function yM(){return vM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wM(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ap(e)?"-0":e}}function _M(t){return{integerValue:""+t}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(){this._=void 0}}function EM(t,e,n){return t instanceof bd?(function(s,o){const l={fields:{[$T]:{stringValue:BT},[WT]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&Jy(o)&&(o=GT(o)),o&&(l.fields[zT]=o),{mapValue:l}})(n,e):t instanceof jc?ub(t,e):t instanceof Mc?db(t,e):(function(s,o){const l=xM(s,o),u=H5(l)+H5(s.Ee);return jv(l)&&jv(s.Ee)?_M(u):wM(s.serializer,u)})(t,e)}function SM(t,e,n){return t instanceof jc?ub(t,e):t instanceof Mc?db(t,e):n}function xM(t,e){return t instanceof Cd?(function(r){return jv(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class bd extends pm{}class jc extends pm{constructor(e){super(),this.elements=e}}function ub(t,e){const n=hb(e);for(const r of t.elements)n.some((s=>ai(s,r)))||n.push(r);return{arrayValue:{values:n}}}class Mc extends pm{constructor(e){super(),this.elements=e}}function db(t,e){let n=hb(e);for(const r of t.elements)n=n.filter((s=>!ai(s,r)));return{arrayValue:{values:n}}}class Cd extends pm{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function H5(t){return fn(t.integerValue||t.doubleValue)}function hb(t){return Td(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TM{constructor(e,n){this.field=e,this.transform=n}}function bM(t,e){return t.field.isEqual(e.field)&&(function(r,s){return r instanceof jc&&s instanceof jc||r instanceof Mc&&s instanceof Mc?xc(r.elements,s.elements,ai):r instanceof Cd&&s instanceof Cd?ai(r.Ee,s.Ee):r instanceof bd&&s instanceof bd})(t.transform,e.transform)}class CM{constructor(e,n){this.version=e,this.transformResults=n}}class xs{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new xs}static exists(e){return new xs(void 0,e)}static updateTime(e){return new xs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function rp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class mm{}function fb(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new n1(t.key,xs.none()):new Qd(t.key,t.data,xs.none());{const n=t.data,r=ys.empty();let s=new Mt(ln.comparator);for(let o of e.fields)if(!s.has(o)){let l=n.field(o);l===null&&o.length>1&&(o=o.popLast(),l=n.field(o)),l===null?r.delete(o):r.set(o,l),s=s.add(o)}return new zc(t.key,r,new Oi(s.toArray()),xs.none())}}function IM(t,e,n){t instanceof Qd?(function(s,o,l){const u=s.value.clone(),h=$5(s.fieldTransforms,o,l.transformResults);u.setAll(h),o.convertToFoundDocument(l.version,u).setHasCommittedMutations()})(t,e,n):t instanceof zc?(function(s,o,l){if(!rp(s.precondition,o))return void o.convertToUnknownDocument(l.version);const u=$5(s.fieldTransforms,o,l.transformResults),h=o.data;h.setAll(pb(s)),h.setAll(u),o.convertToFoundDocument(l.version,h).setHasCommittedMutations()})(t,e,n):(function(s,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,n)}function dd(t,e,n,r){return t instanceof Qd?(function(o,l,u,h){if(!rp(o.precondition,l))return u;const p=o.value.clone(),v=z5(o.fieldTransforms,h,l);return p.setAll(v),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null})(t,e,n,r):t instanceof zc?(function(o,l,u,h){if(!rp(o.precondition,l))return u;const p=z5(o.fieldTransforms,h,l),v=l.data;return v.setAll(pb(o)),v.setAll(p),l.convertToFoundDocument(l.version,v).setHasLocalMutations(),u===null?null:u.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((y=>y.field)))})(t,e,n,r):(function(o,l,u){return rp(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u})(t,e,n)}function B5(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&xc(r,s,((o,l)=>bM(o,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Qd extends mm{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class zc extends mm{constructor(e,n,r,s,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function pb(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function $5(t,e,n){const r=new Map;nt(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let s=0;s<n.length;s++){const o=t[s],l=o.transform,u=e.data.field(o.field);r.set(o.field,SM(l,u,n[s]))}return r}function z5(t,e,n){const r=new Map;for(const s of t){const o=s.transform,l=n.data.field(s.field);r.set(s.field,EM(o,l,e))}return r}class n1 extends mm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class mb extends mm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&IM(o,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=dd(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=dd(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=cb();return this.mutations.forEach((s=>{const o=e.get(s.key),l=o.overlayedDocument;let u=this.applyToLocalView(l,o.mutatedFields);u=n.has(s.key)?null:u;const h=fb(l,u);h!==null&&r.set(s.key,h),l.isValidDocument()||l.convertToNoDocument(St.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Un())}isEqual(e){return this.batchId===e.batchId&&xc(this.mutations,e.mutations,((n,r)=>B5(n,r)))&&xc(this.baseMutations,e.baseMutations,((n,r)=>B5(n,r)))}}class s1{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){nt(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let s=(function(){return mM})();const o=e.mutations;for(let l=0;l<o.length;l++)s=s.insert(o[l].key,r[l].version);return new s1(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let i1=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dn,Et;function AM(t){switch(t){case ye.OK:return Ye(64938);case ye.CANCELLED:case ye.UNKNOWN:case ye.DEADLINE_EXCEEDED:case ye.RESOURCE_EXHAUSTED:case ye.INTERNAL:case ye.UNAVAILABLE:case ye.UNAUTHENTICATED:return!1;case ye.INVALID_ARGUMENT:case ye.NOT_FOUND:case ye.ALREADY_EXISTS:case ye.PERMISSION_DENIED:case ye.FAILED_PRECONDITION:case ye.ABORTED:case ye.OUT_OF_RANGE:case ye.UNIMPLEMENTED:case ye.DATA_LOSS:return!0;default:return Ye(15467,{code:t})}}function RM(t){if(t===void 0)return Nr("GRPC error has no .code"),ye.UNKNOWN;switch(t){case dn.OK:return ye.OK;case dn.CANCELLED:return ye.CANCELLED;case dn.UNKNOWN:return ye.UNKNOWN;case dn.DEADLINE_EXCEEDED:return ye.DEADLINE_EXCEEDED;case dn.RESOURCE_EXHAUSTED:return ye.RESOURCE_EXHAUSTED;case dn.INTERNAL:return ye.INTERNAL;case dn.UNAVAILABLE:return ye.UNAVAILABLE;case dn.UNAUTHENTICATED:return ye.UNAUTHENTICATED;case dn.INVALID_ARGUMENT:return ye.INVALID_ARGUMENT;case dn.NOT_FOUND:return ye.NOT_FOUND;case dn.ALREADY_EXISTS:return ye.ALREADY_EXISTS;case dn.PERMISSION_DENIED:return ye.PERMISSION_DENIED;case dn.FAILED_PRECONDITION:return ye.FAILED_PRECONDITION;case dn.ABORTED:return ye.ABORTED;case dn.OUT_OF_RANGE:return ye.OUT_OF_RANGE;case dn.UNIMPLEMENTED:return ye.UNIMPLEMENTED;case dn.DATA_LOSS:return ye.DATA_LOSS;default:return Ye(39323,{code:t})}}(Et=dn||(dn={}))[Et.OK=0]="OK",Et[Et.CANCELLED=1]="CANCELLED",Et[Et.UNKNOWN=2]="UNKNOWN",Et[Et.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Et[Et.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Et[Et.NOT_FOUND=5]="NOT_FOUND",Et[Et.ALREADY_EXISTS=6]="ALREADY_EXISTS",Et[Et.PERMISSION_DENIED=7]="PERMISSION_DENIED",Et[Et.UNAUTHENTICATED=16]="UNAUTHENTICATED",Et[Et.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Et[Et.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Et[Et.ABORTED=10]="ABORTED",Et[Et.OUT_OF_RANGE=11]="OUT_OF_RANGE",Et[Et.UNIMPLEMENTED=12]="UNIMPLEMENTED",Et[Et.INTERNAL=13]="INTERNAL",Et[Et.UNAVAILABLE=14]="UNAVAILABLE",Et[Et.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new zy([4294967295,4294967295],0);const PM={asc:"ASCENDING",desc:"DESCENDING"},NM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},kM={and:"AND",or:"OR"};class DM{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function jM(t,e){return t.useProto3Json||am(e)?e:{value:e}}function Vv(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function MM(t,e){return Vv(t,e.toTimestamp())}function Cs(t){return nt(!!t,49232),St.fromTimestamp((function(n){const r=qo(n);return new nn(r.seconds,r.nanos)})(t))}function gb(t,e){return Uv(t,e).canonicalString()}function Uv(t,e){const n=(function(s){return new Kt(["projects",s.projectId,"databases",s.database])})(t).child("documents");return e===void 0?n:n.child(e)}function vb(t){const e=Kt.fromString(t);return nt(WM(e),10190,{key:e.toString()}),e}function Lp(t,e){return gb(t.databaseId,e.path)}function sp(t,e){const n=vb(e);if(n.get(1)!==t.databaseId.projectId)throw new Ge(ye.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ge(ye.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ze(_b(n))}function yb(t,e){return gb(t.databaseId,e)}function wb(t){const e=vb(t);return e.length===4?Kt.emptyPath():_b(e)}function OM(t){return new Kt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function _b(t){return nt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function W5(t,e,n){return{name:Lp(t,e),fields:n.value.mapValue.fields}}function LM(t,e,n){const r=sp(t,e.name),s=Cs(e.updateTime),o=e.createTime?Cs(e.createTime):St.min(),l=new ys({mapValue:{fields:e.fields}}),u=Vn.newFoundDocument(r,s,o,l);return n&&u.setHasCommittedMutations(),n?u.setHasCommittedMutations():u}function Fp(t,e){let n;if(e instanceof Qd)n={update:W5(t,e.key,e.value)};else if(e instanceof n1)n={delete:Lp(t,e.key)};else if(e instanceof zc)n={update:W5(t,e.key,e.data),updateMask:zM(e.fieldMask)};else{if(!(e instanceof mb))return Ye(16599,{Rt:e.type});n={verify:Lp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(o,l){const u=l.transform;if(u instanceof bd)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof jc)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Mc)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Cd)return{fieldPath:l.field.canonicalString(),increment:u.Ee};throw Ye(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(s,o){return o.updateTime!==void 0?{updateTime:MM(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ye(27497)})(t,e.precondition)),n}function Hv(t,e){const n=e.currentDocument?(function(o){return o.updateTime!==void 0?xs.updateTime(Cs(o.updateTime)):o.exists!==void 0?xs.exists(o.exists):xs.none()})(e.currentDocument):xs.none(),r=e.updateTransforms?e.updateTransforms.map((s=>(function(l,u){let h=null;if("setToServerValue"in u)nt(u.setToServerValue==="REQUEST_TIME",16630,{proto:u}),h=new bd;else if("appendMissingElements"in u){const v=u.appendMissingElements.values||[];h=new jc(v)}else if("removeAllFromArray"in u){const v=u.removeAllFromArray.values||[];h=new Mc(v)}else"increment"in u?h=new Cd(l,u.increment):Ye(16584,{proto:u});const p=ln.fromServerFormat(u.fieldPath);return new TM(p,h)})(t,s))):[];if(e.update){e.update.name;const s=sp(t,e.update.name),o=new ys({mapValue:{fields:e.update.fields}});if(e.updateMask){const l=(function(h){const p=h.fieldPaths||[];return new Oi(p.map((v=>ln.fromServerFormat(v))))})(e.updateMask);return new zc(s,o,l,n,r)}return new Qd(s,o,n,r)}if(e.delete){const s=sp(t,e.delete);return new n1(s,n)}if(e.verify){const s=sp(t,e.verify);return new mb(s,n)}return Ye(1463,{proto:e})}function FM(t,e){return t&&t.length>0?(nt(e!==void 0,14353),t.map((n=>(function(s,o){let l=s.updateTime?Cs(s.updateTime):Cs(o);return l.isEqual(St.min())&&(l=Cs(o)),new CM(l,s.transformResults||[])})(n,e)))):[]}function VM(t,e){return{documents:[yb(t,e.path)]}}function UM(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=yb(t,s);const o=(function(p){if(p.length!==0)return xb(kt.create(p,"and"))})(e.filters);o&&(n.structuredQuery.where=o);const l=(function(p){if(p.length!==0)return p.map((v=>(function(T){return{field:oc(T.field),direction:HM(T.dir)}})(v)))})(e.orderBy);l&&(n.structuredQuery.orderBy=l);const u=jM(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{Vt:n,parent:s}}function Eb(t){let e=wb(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){nt(r===1,65062);const v=n.from[0];v.allDescendants?s=v.collectionId:e=e.child(v.collectionId)}let o=[];n.where&&(o=(function(y){const T=Sb(y);return T instanceof kt&&t1(T)?T.getFilters():[T]})(n.where));let l=[];n.orderBy&&(l=(function(y){return y.map((T=>(function(N){return new Mp(ac(N.field),(function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(N.direction))})(T)))})(n.orderBy));let u=null;n.limit&&(u=(function(y){let T;return T=typeof y=="object"?y.value:y,am(T)?null:T})(n.limit));let h=null;n.startAt&&(h=(function(y){const T=!!y.before,k=y.values||[];return new kc(k,T)})(n.startAt));let p=null;return n.endAt&&(p=(function(y){const T=!y.before,k=y.values||[];return new kc(k,T)})(n.endAt)),lM(e,s,l,o,u,"F",h,p)}function Sb(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ac(n.unaryFilter.field);return wt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=ac(n.unaryFilter.field);return wt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=ac(n.unaryFilter.field);return wt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=ac(n.unaryFilter.field);return wt.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ye(61313);default:return Ye(60726)}})(t):t.fieldFilter!==void 0?(function(n){return wt.create(ac(n.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ye(58110);default:return Ye(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return kt.create(n.compositeFilter.filters.map((r=>Sb(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ye(1026)}})(n.compositeFilter.op))})(t):Ye(30097,{filter:t})}function HM(t){return PM[t]}function BM(t){return NM[t]}function $M(t){return kM[t]}function oc(t){return{fieldPath:t.canonicalString()}}function ac(t){return ln.fromServerFormat(t.fieldPath)}function xb(t){return t instanceof wt?(function(n){if(n.op==="=="){if(D5(n.value))return{unaryFilter:{field:oc(n.field),op:"IS_NAN"}};if(k5(n.value))return{unaryFilter:{field:oc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(D5(n.value))return{unaryFilter:{field:oc(n.field),op:"IS_NOT_NAN"}};if(k5(n.value))return{unaryFilter:{field:oc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:oc(n.field),op:BM(n.op),value:n.value}}})(t):t instanceof kt?(function(n){const r=n.getFilters().map((s=>xb(s)));return r.length===1?r[0]:{compositeFilter:{op:$M(n.op),filters:r}}})(t):Ye(54877,{filter:t})}function zM(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function WM(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(e,n,r,s,o=St.min(),l=St.min(),u=yr.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=h}withSequenceNumber(e){return new cc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new cc(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new cc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new cc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{constructor(e){this.gt=e}}function GM(t,e){let n;if(e.document)n=LM(t.gt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=ze.fromSegments(e.noDocument.path),s=tl(e.noDocument.readTime);n=Vn.newNoDocument(r,s),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Ye(56709);{const r=ze.fromSegments(e.unknownDocument.path),s=tl(e.unknownDocument.version);n=Vn.newUnknownDocument(r,s)}}return e.readTime&&n.setReadTime((function(s){const o=new nn(s[0],s[1]);return St.fromTimestamp(o)})(e.readTime)),n}function G5(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Vp(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=(function(o,l){return{name:Lp(o,l.key),fields:l.data.value.mapValue.fields,updateTime:Vv(o,l.version.toTimestamp()),createTime:Vv(o,l.createTime.toTimestamp())}})(t.gt,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:el(e.version)};else{if(!e.isUnknownDocument())return Ye(57904,{document:e});r.unknownDocument={path:n.path.toArray(),version:el(e.version)}}return r}function Vp(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function el(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function tl(t){const e=new nn(t.seconds,t.nanoseconds);return St.fromTimestamp(e)}function ka(t,e){const n=(e.baseMutations||[]).map((o=>Hv(t.gt,o)));for(let o=0;o<e.mutations.length-1;++o){const l=e.mutations[o];if(o+1<e.mutations.length&&e.mutations[o+1].transform!==void 0){const u=e.mutations[o+1];l.updateTransforms=u.transform.fieldTransforms,e.mutations.splice(o+1,1),++o}}const r=e.mutations.map((o=>Hv(t.gt,o))),s=nn.fromMillis(e.localWriteTimeMs);return new r1(e.batchId,s,n,r)}function Ju(t){const e=tl(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?tl(t.lastLimboFreeSnapshotVersion):St.min();let r;return r=(function(o){return o.documents!==void 0})(t.query)?(function(o){const l=o.documents.length;return nt(l===1,1966,{count:l}),Vi(ib(wb(o.documents[0])))})(t.query):(function(o){return Vi(Eb(o))})(t.query),new cc(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,yr.fromBase64String(t.resumeToken))}function bb(t,e){const n=el(e.snapshotVersion),r=el(e.lastLimboFreeSnapshotVersion);let s;s=aM(e.target)?VM(t.gt,e.target):UM(t.gt,e.target).Vt;const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Ja(e.target),readTime:n,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:s}}function Cb(t){const e=Eb({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Fv(e,e.limit,"L"):e}function O0(t,e){return new i1(e.largestBatchId,Hv(t.gt,e.overlayMutation))}function q5(t,e){const n=e.path.lastSegment();return[t,rr(e.path.popLast()),n]}function K5(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:el(r.readTime),documentKey:rr(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{getBundleMetadata(e,n){return Y5(e).get(n).next((r=>{if(r)return(function(o){return{id:o.bundleId,createTime:tl(o.createTime),version:o.version}})(r)}))}saveBundleMetadata(e,n){return Y5(e).put((function(s){return{bundleId:s.id,createTime:el(Cs(s.createTime)),version:s.version}})(n))}getNamedQuery(e,n){return Z5(e).get(n).next((r=>{if(r)return(function(o){return{name:o.name,query:Cb(o.bundledQuery),readTime:tl(o.readTime)}})(r)}))}saveNamedQuery(e,n){return Z5(e).put((function(s){return{name:s.name,readTime:el(Cs(s.readTime)),bundledQuery:s.bundledQuery}})(n))}}function Y5(t){return Sn(t,lm)}function Z5(t){return Sn(t,cm)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(e,n){this.serializer=e,this.userId=n}static yt(e,n){const r=n.uid||"";return new gm(e,r)}getOverlay(e,n){return Hu(e).get(q5(this.userId,n)).next((r=>r?O0(this.serializer,r):null))}getOverlays(e,n){const r=ni();return ie.forEach(n,(s=>this.getOverlay(e,s).next((o=>{o!==null&&r.set(s,o)})))).next((()=>r))}saveOverlays(e,n,r){const s=[];return r.forEach(((o,l)=>{const u=new i1(n,l);s.push(this.wt(e,u))})),ie.waitFor(s)}removeOverlaysForBatchId(e,n,r){const s=new Set;n.forEach((l=>s.add(rr(l.getCollectionPath()))));const o=[];return s.forEach((l=>{const u=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,r+1],!1,!0);o.push(Hu(e).Y(Nv,u))})),ie.waitFor(o)}getOverlaysForCollection(e,n,r){const s=ni(),o=rr(n),l=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return Hu(e).j(Nv,l).next((u=>{for(const h of u){const p=O0(this.serializer,h);s.set(p.getKey(),p)}return s}))}getOverlaysForCollectionGroup(e,n,r,s){const o=ni();let l;const u=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Hu(e).X({index:LT,range:u},((h,p,v)=>{const y=O0(this.serializer,p);o.size()<s||y.largestBatchId===l?(o.set(y.getKey(),y),l=y.largestBatchId):v.done()})).next((()=>o))}wt(e,n){return Hu(e).put((function(s,o,l){const[u,h,p]=q5(o,l.mutation.key);return{userId:o,collectionPath:h,documentId:p,collectionGroup:l.mutation.key.getCollectionGroup(),largestBatchId:l.largestBatchId,overlayMutation:Fp(s.gt,l.mutation)}})(this.serializer,this.userId,n))}}function Hu(t){return Sn(t,um)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM{St(e){return Sn(e,Zy)}getSessionToken(e){return this.St(e).get("sessionToken").next((n=>{const r=n==null?void 0:n.value;return r?yr.fromUint8Array(r):yr.EMPTY_BYTE_STRING}))}setSessionToken(e,n){return this.St(e).put({name:"sessionToken",value:n.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(){}bt(e,n){this.Dt(e,n),n.vt()}Dt(e,n){if("nullValue"in e)this.Ct(n,5);else if("booleanValue"in e)this.Ct(n,10),n.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(n,15),n.Ft(fn(e.integerValue));else if("doubleValue"in e){const r=fn(e.doubleValue);isNaN(r)?this.Ct(n,13):(this.Ct(n,15),Ap(r)?n.Ft(0):n.Ft(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ct(n,20),typeof r=="string"&&(r=qo(r)),n.Mt(`${r.seconds||""}`),n.Ft(r.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,n),this.Ot(n);else if("bytesValue"in e)this.Ct(n,30),n.Nt(Ac(e.bytesValue)),this.Ot(n);else if("referenceValue"in e)this.Bt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ct(n,45),n.Ft(r.latitude||0),n.Ft(r.longitude||0)}else"mapValue"in e?ZT(e)?this.Ct(n,Number.MAX_SAFE_INTEGER):dm(e)?this.Lt(e.mapValue,n):(this.kt(e.mapValue,n),this.Ot(n)):"arrayValue"in e?(this.qt(e.arrayValue,n),this.Ot(n)):Ye(19022,{Qt:e})}xt(e,n){this.Ct(n,25),this.$t(e,n)}$t(e,n){n.Mt(e)}kt(e,n){const r=e.fields||{};this.Ct(n,55);for(const s of Object.keys(r))this.xt(s,n),this.Dt(r[s],n)}Lt(e,n){var r,s;const o=e.fields||{};this.Ct(n,53);const l=jp,u=((s=(r=o[l].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.length)||0;this.Ct(n,15),n.Ft(fn(u)),this.xt(l,n),this.Dt(o[l],n)}qt(e,n){const r=e.values||[];this.Ct(n,50);for(const s of r)this.Dt(s,n)}Bt(e,n){this.Ct(n,37),ze.fromName(e).path.forEach((r=>{this.Ct(n,60),this.$t(r,n)}))}Ct(e,n){e.Ft(n)}Ot(e){e.Ft(2)}}Da.Ut=new Da;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ql=255;function YM(t){if(t===0)return 8;let e=0;return t>>4||(e+=4,t<<=4),t>>6||(e+=2,t<<=2),t>>7||(e+=1),e}function Q5(t){const e=64-(function(r){let s=0;for(let o=0;o<8;++o){const l=YM(255&r[o]);if(s+=l,l!==8)break}return s})(t);return Math.ceil(e/8)}class ZM{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Kt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Wt(r.value),r=n.next();this.Gt()}zt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.jt(r.value),r=n.next();this.Jt()}Ht(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Wt(r);else if(r<2048)this.Wt(960|r>>>6),this.Wt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Wt(480|r>>>12),this.Wt(128|63&r>>>6),this.Wt(128|63&r);else{const s=n.codePointAt(0);this.Wt(240|s>>>18),this.Wt(128|63&s>>>12),this.Wt(128|63&s>>>6),this.Wt(128|63&s)}}this.Gt()}Yt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.jt(r);else if(r<2048)this.jt(960|r>>>6),this.jt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.jt(480|r>>>12),this.jt(128|63&r>>>6),this.jt(128|63&r);else{const s=n.codePointAt(0);this.jt(240|s>>>18),this.jt(128|63&s>>>12),this.jt(128|63&s>>>6),this.jt(128|63&s)}}this.Jt()}Zt(e){const n=this.Xt(e),r=Q5(n);this.en(1+r),this.buffer[this.position++]=255&r;for(let s=n.length-r;s<n.length;++s)this.buffer[this.position++]=255&n[s]}tn(e){const n=this.Xt(e),r=Q5(n);this.en(1+r),this.buffer[this.position++]=~(255&r);for(let s=n.length-r;s<n.length;++s)this.buffer[this.position++]=~(255&n[s])}nn(){this.rn(Ql),this.rn(255)}sn(){this._n(Ql),this._n(255)}reset(){this.position=0}seed(e){this.en(e.length),this.buffer.set(e,this.position),this.position+=e.length}an(){return this.buffer.slice(0,this.position)}Xt(e){const n=(function(o){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,o,!1),new Uint8Array(l.buffer)})(e),r=!!(128&n[0]);n[0]^=r?255:128;for(let s=1;s<n.length;++s)n[s]^=r?255:0;return n}Wt(e){const n=255&e;n===0?(this.rn(0),this.rn(255)):n===Ql?(this.rn(Ql),this.rn(0)):this.rn(n)}jt(e){const n=255&e;n===0?(this._n(0),this._n(255)):n===Ql?(this._n(Ql),this._n(0)):this._n(e)}Gt(){this.rn(0),this.rn(1)}Jt(){this._n(0),this._n(1)}rn(e){this.en(1),this.buffer[this.position++]=e}_n(e){this.en(1),this.buffer[this.position++]=~e}en(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const s=new Uint8Array(r);s.set(this.buffer),this.buffer=s}}class QM{constructor(e){this.un=e}Nt(e){this.un.Kt(e)}Mt(e){this.un.Ht(e)}Ft(e){this.un.Zt(e)}vt(){this.un.nn()}}class XM{constructor(e){this.un=e}Nt(e){this.un.zt(e)}Mt(e){this.un.Yt(e)}Ft(e){this.un.tn(e)}vt(){this.un.sn()}}class Bu{constructor(){this.un=new ZM,this.cn=new QM(this.un),this.ln=new XM(this.un)}seed(e){this.un.seed(e)}hn(e){return e===0?this.cn:this.ln}an(){return this.un.an()}reset(){this.un.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(e,n,r,s){this.Pn=e,this.Tn=n,this.In=r,this.dn=s}En(){const e=this.dn.length,n=e===0||this.dn[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.dn,0),n!==e?r.set([0],this.dn.length):++r[r.length-1],new ja(this.Pn,this.Tn,this.In,r)}An(e,n,r){return{indexId:this.Pn,uid:e,arrayValue:ip(this.In),directionalValue:ip(this.dn),orderedDocumentKey:ip(n),documentKey:r.path.toArray()}}Rn(e,n,r){const s=this.An(e,n,r);return[s.indexId,s.uid,s.arrayValue,s.directionalValue,s.orderedDocumentKey,s.documentKey]}}function bo(t,e){let n=t.Pn-e.Pn;return n!==0?n:(n=X5(t.In,e.In),n!==0?n:(n=X5(t.dn,e.dn),n!==0?n:ze.comparator(t.Tn,e.Tn)))}function X5(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}function ip(t){return Rx()?(function(n){let r="";for(let s=0;s<n.length;s++)r+=String.fromCharCode(n[s]);return r})(t):t}function J5(t){return typeof t!="string"?t:(function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r})(t)}class e2{constructor(e){this.Vn=new Mt(((n,r)=>ln.comparator(n.field,r.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.mn=e.orderBy,this.fn=[];for(const n of e.filters){const r=n;r.isInequality()?this.Vn=this.Vn.add(r):this.fn.push(r)}}get gn(){return this.Vn.size>1}pn(e){if(nt(e.collectionGroup===this.collectionId,49279),this.gn)return!1;const n=Av(e);if(n!==void 0&&!this.yn(n))return!1;const r=Ra(e);let s=new Set,o=0,l=0;for(;o<r.length&&this.yn(r[o]);++o)s=s.add(r[o].fieldPath.canonicalString());if(o===r.length)return!0;if(this.Vn.size>0){const u=this.Vn.getIterator().getNext();if(!s.has(u.field.canonicalString())){const h=r[o];if(!this.wn(u,h)||!this.Sn(this.mn[l++],h))return!1}++o}for(;o<r.length;++o){const u=r[o];if(l>=this.mn.length||!this.Sn(this.mn[l++],u))return!1}return!0}bn(){if(this.gn)return null;let e=new Mt(ln.comparator);const n=[];for(const r of this.fn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new Jf(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new Jf(r.field,0))}for(const r of this.mn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new Jf(r.field,r.dir==="asc"?0:1)));return new Ip(Ip.UNKNOWN_ID,this.collectionId,n,wd.empty())}yn(e){for(const n of this.fn)if(this.wn(n,e))return!0;return!1}wn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}Sn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ib(t){var e,n;if(nt(t instanceof wt||t instanceof kt,20012),t instanceof wt){if(t instanceof sb){const s=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map((o=>wt.create(t.field,"==",o))))||[];return kt.create(s,"or")}return t}const r=t.filters.map((s=>Ib(s)));return kt.create(r,t.op)}function JM(t){if(t.getFilters().length===0)return[];const e=zv(Ib(t));return nt(Ab(e),7391),Bv(e)||$v(e)?[e]:e.getFilters()}function Bv(t){return t instanceof wt}function $v(t){return t instanceof kt&&t1(t)}function Ab(t){return Bv(t)||$v(t)||(function(n){if(n instanceof kt&&Mv(n)){for(const r of n.getFilters())if(!Bv(r)&&!$v(r))return!1;return!0}return!1})(t)}function zv(t){if(nt(t instanceof wt||t instanceof kt,34018),t instanceof wt)return t;if(t.filters.length===1)return zv(t.filters[0]);const e=t.filters.map((r=>zv(r)));let n=kt.create(e,t.op);return n=Up(n),Ab(n)?n:(nt(n instanceof kt,64498),nt(Dc(n),40251),nt(n.filters.length>1,57927),n.filters.reduce(((r,s)=>o1(r,s))))}function o1(t,e){let n;return nt(t instanceof wt||t instanceof kt,38388),nt(e instanceof wt||e instanceof kt,25473),n=t instanceof wt?e instanceof wt?(function(s,o){return kt.create([s,o],"and")})(t,e):t2(t,e):e instanceof wt?t2(e,t):(function(s,o){if(nt(s.filters.length>0&&o.filters.length>0,48005),Dc(s)&&Dc(o))return tb(s,o.getFilters());const l=Mv(s)?s:o,u=Mv(s)?o:s,h=l.filters.map((p=>o1(p,u)));return kt.create(h,"or")})(t,e),Up(n)}function t2(t,e){if(Dc(e))return tb(e,t.getFilters());{const n=e.filters.map((r=>o1(t,r)));return kt.create(n,"or")}}function Up(t){if(nt(t instanceof wt||t instanceof kt,11850),t instanceof wt)return t;const e=t.getFilters();if(e.length===1)return Up(e[0]);if(JT(t))return t;const n=e.map((s=>Up(s))),r=[];return n.forEach((s=>{s instanceof wt?r.push(s):s instanceof kt&&(s.op===t.op?r.push(...s.filters):r.push(s))})),r.length===1?r[0]:kt.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{constructor(){this.Dn=new a1}addToCollectionParentIndex(e,n){return this.Dn.add(n),ie.resolve()}getCollectionParents(e,n){return ie.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return ie.resolve()}deleteFieldIndex(e,n){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,n){return ie.resolve()}getDocumentsMatchingTarget(e,n){return ie.resolve(null)}getIndexType(e,n){return ie.resolve(0)}getFieldIndexes(e,n){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,n){return ie.resolve(jr.min())}getMinOffsetFromCollectionGroup(e,n){return ie.resolve(jr.min())}updateCollectionGroup(e,n,r){return ie.resolve()}updateIndexEntries(e,n){return ie.resolve()}}class a1{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Mt(Kt.comparator),o=!s.has(r);return this.index[n]=s.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Mt(Kt.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n2="IndexedDbIndexManager",Rf=new Uint8Array(0);class tO{constructor(e,n){this.databaseId=n,this.vn=new a1,this.Cn=new ea((r=>Ja(r)),((r,s)=>Zd(r,s))),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.vn.has(n)){const r=n.lastSegment(),s=n.popLast();e.addOnCommittedListener((()=>{this.vn.add(n)}));const o={collectionId:r,parent:rr(s)};return r2(e).put(o)}return ie.resolve()}getCollectionParents(e,n){const r=[],s=IDBKeyRange.bound([n,""],[CT(n),""],!1,!0);return r2(e).j(s).next((o=>{for(const l of o){if(l.collectionId!==n)break;r.push(ti(l.parent))}return r}))}addFieldIndex(e,n){const r=$u(e),s=(function(u){return{indexId:u.indexId,collectionGroup:u.collectionGroup,fields:u.fields.map((h=>[h.fieldPath.canonicalString(),h.kind]))}})(n);delete s.indexId;const o=r.add(s);if(n.indexState){const l=Jl(e);return o.next((u=>{l.put(K5(u,this.uid,n.indexState.sequenceNumber,n.indexState.offset))}))}return o.next()}deleteFieldIndex(e,n){const r=$u(e),s=Jl(e),o=Xl(e);return r.delete(n.indexId).next((()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))).next((()=>o.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const n=$u(e),r=Xl(e),s=Jl(e);return n.Y().next((()=>r.Y())).next((()=>s.Y()))}createTargetIndexes(e,n){return ie.forEach(this.Fn(n),(r=>this.getIndexType(e,r).next((s=>{if(s===0||s===1){const o=new e2(r).bn();if(o!=null)return this.addFieldIndex(e,o)}}))))}getDocumentsMatchingTarget(e,n){const r=Xl(e);let s=!0;const o=new Map;return ie.forEach(this.Fn(n),(l=>this.Mn(e,l).next((u=>{s&&(s=!!u),o.set(l,u)})))).next((()=>{if(s){let l=Un();const u=[];return ie.forEach(o,((h,p)=>{Ae(n2,`Using index ${(function(B){return`id=${B.indexId}|cg=${B.collectionGroup}|f=${B.fields.map((m=>`${m.fieldPath}:${m.kind}`)).join(",")}`})(h)} to execute ${Ja(n)}`);const v=(function(B,m){const S=Av(m);if(S===void 0)return null;for(const x of Op(B,S.fieldPath))switch(x.op){case"array-contains-any":return x.value.arrayValue.values||[];case"array-contains":return[x.value]}return null})(p,h),y=(function(B,m){const S=new Map;for(const x of Ra(m))for(const _ of Op(B,x.fieldPath))switch(_.op){case"==":case"in":S.set(x.fieldPath.canonicalString(),_.value);break;case"not-in":case"!=":return S.set(x.fieldPath.canonicalString(),_.value),Array.from(S.values())}return null})(p,h),T=(function(B,m){const S=[];let x=!0;for(const _ of Ra(m)){const b=_.kind===0?F5(B,_.fieldPath,B.startAt):V5(B,_.fieldPath,B.startAt);S.push(b.value),x&&(x=b.inclusive)}return new kc(S,x)})(p,h),k=(function(B,m){const S=[];let x=!0;for(const _ of Ra(m)){const b=_.kind===0?V5(B,_.fieldPath,B.endAt):F5(B,_.fieldPath,B.endAt);S.push(b.value),x&&(x=b.inclusive)}return new kc(S,x)})(p,h),N=this.xn(h,p,T),D=this.xn(h,p,k),j=this.On(h,p,y),L=this.Nn(h.indexId,v,N,T.inclusive,D,k.inclusive,j);return ie.forEach(L,(U=>r.H(U,n.limit).next((B=>{B.forEach((m=>{const S=ze.fromSegments(m.documentKey);l.has(S)||(l=l.add(S),u.push(S))}))}))))})).next((()=>u))}return ie.resolve(null)}))}Fn(e){let n=this.Cn.get(e);return n||(e.filters.length===0?n=[e]:n=JM(kt.create(e.filters,"and")).map((r=>Lv(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt))),this.Cn.set(e,n),n)}Nn(e,n,r,s,o,l,u){const h=(n!=null?n.length:1)*Math.max(r.length,o.length),p=h/(n!=null?n.length:1),v=[];for(let y=0;y<h;++y){const T=n?this.Bn(n[y/p]):Rf,k=this.Ln(e,T,r[y%p],s),N=this.kn(e,T,o[y%p],l),D=u.map((j=>this.Ln(e,T,j,!0)));v.push(...this.createRange(k,N,D))}return v}Ln(e,n,r,s){const o=new ja(e,ze.empty(),n,r);return s?o:o.En()}kn(e,n,r,s){const o=new ja(e,ze.empty(),n,r);return s?o.En():o}Mn(e,n){const r=new e2(n),s=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,s).next((o=>{let l=null;for(const u of o)r.pn(u)&&(!l||u.fields.length>l.fields.length)&&(l=u);return l}))}getIndexType(e,n){let r=2;const s=this.Fn(n);return ie.forEach(s,(o=>this.Mn(e,o).next((l=>{l?r!==0&&l.fields.length<(function(h){let p=new Mt(ln.comparator),v=!1;for(const y of h.filters)for(const T of y.getFlattenedFilters())T.field.isKeyField()||(T.op==="array-contains"||T.op==="array-contains-any"?v=!0:p=p.add(T.field));for(const y of h.orderBy)y.field.isKeyField()||(p=p.add(y.field));return p.size+(v?1:0)})(o)&&(r=1):r=0})))).next((()=>(function(l){return l.limit!==null})(n)&&s.length>1&&r===2?1:r))}qn(e,n){const r=new Bu;for(const s of Ra(e)){const o=n.data.field(s.fieldPath);if(o==null)return null;const l=r.hn(s.kind);Da.Ut.bt(o,l)}return r.an()}Bn(e){const n=new Bu;return Da.Ut.bt(e,n.hn(0)),n.an()}Qn(e,n){const r=new Bu;return Da.Ut.bt(e1(this.databaseId,n),r.hn((function(o){const l=Ra(o);return l.length===0?0:l[l.length-1].kind})(e))),r.an()}On(e,n,r){if(r===null)return[];let s=[];s.push(new Bu);let o=0;for(const l of Ra(e)){const u=r[o++];for(const h of s)if(this.$n(n,l.fieldPath)&&Td(u))s=this.Un(s,l,u);else{const p=h.hn(l.kind);Da.Ut.bt(u,p)}}return this.Kn(s)}xn(e,n,r){return this.On(e,n,r.position)}Kn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].an();return n}Un(e,n,r){const s=[...e],o=[];for(const l of r.arrayValue.values||[])for(const u of s){const h=new Bu;h.seed(u.an()),Da.Ut.bt(l,h.hn(n.kind)),o.push(h)}return o}$n(e,n){return!!e.filters.find((r=>r instanceof wt&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in")))}getFieldIndexes(e,n){const r=$u(e),s=Jl(e);return(n?r.j(Pv,IDBKeyRange.bound(n,n)):r.j()).next((o=>{const l=[];return ie.forEach(o,(u=>s.get([u.indexId,this.uid]).next((h=>{l.push((function(v,y){const T=y?new wd(y.sequenceNumber,new jr(tl(y.readTime),new ze(ti(y.documentKey)),y.largestBatchId)):wd.empty(),k=v.fields.map((([N,D])=>new Jf(ln.fromServerFormat(N),D)));return new Ip(v.indexId,v.collectionGroup,k,T)})(u,h))})))).next((()=>l))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((n=>n.length===0?null:(n.sort(((r,s)=>{const o=r.indexState.sequenceNumber-s.indexState.sequenceNumber;return o!==0?o:ct(r.collectionGroup,s.collectionGroup)})),n[0].collectionGroup)))}updateCollectionGroup(e,n,r){const s=$u(e),o=Jl(e);return this.Wn(e).next((l=>s.j(Pv,IDBKeyRange.bound(n,n)).next((u=>ie.forEach(u,(h=>o.put(K5(h.indexId,this.uid,l,r))))))))}updateIndexEntries(e,n){const r=new Map;return ie.forEach(n,((s,o)=>{const l=r.get(s.collectionGroup);return(l?ie.resolve(l):this.getFieldIndexes(e,s.collectionGroup)).next((u=>(r.set(s.collectionGroup,u),ie.forEach(u,(h=>this.Gn(e,s,h).next((p=>{const v=this.zn(o,h);return p.isEqual(v)?ie.resolve():this.jn(e,o,h,p,v)})))))))}))}Jn(e,n,r,s){return Xl(e).put(s.An(this.uid,this.Qn(r,n.key),n.key))}Hn(e,n,r,s){return Xl(e).delete(s.Rn(this.uid,this.Qn(r,n.key),n.key))}Gn(e,n,r){const s=Xl(e);let o=new Mt(bo);return s.X({index:OT,range:IDBKeyRange.only([r.indexId,this.uid,ip(this.Qn(r,n))])},((l,u)=>{o=o.add(new ja(r.indexId,n,J5(u.arrayValue),J5(u.directionalValue)))})).next((()=>o))}zn(e,n){let r=new Mt(bo);const s=this.qn(n,e);if(s==null)return r;const o=Av(n);if(o!=null){const l=e.data.field(o.fieldPath);if(Td(l))for(const u of l.arrayValue.values||[])r=r.add(new ja(n.indexId,e.key,this.Bn(u),s))}else r=r.add(new ja(n.indexId,e.key,Rf,s));return r}jn(e,n,r,s,o){Ae(n2,"Updating index entries for document '%s'",n.key);const l=[];return(function(h,p,v,y,T){const k=h.getIterator(),N=p.getIterator();let D=Zl(k),j=Zl(N);for(;D||j;){let L=!1,U=!1;if(D&&j){const B=v(D,j);B<0?U=!0:B>0&&(L=!0)}else D!=null?U=!0:L=!0;L?(y(j),j=Zl(N)):U?(T(D),D=Zl(k)):(D=Zl(k),j=Zl(N))}})(s,o,bo,(u=>{l.push(this.Jn(e,n,r,u))}),(u=>{l.push(this.Hn(e,n,r,u))})),ie.waitFor(l)}Wn(e){let n=1;return Jl(e).X({index:MT,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((r,s,o)=>{o.done(),n=s.sequenceNumber+1})).next((()=>n))}createRange(e,n,r){r=r.sort(((l,u)=>bo(l,u))).filter(((l,u,h)=>!u||bo(l,h[u-1])!==0));const s=[];s.push(e);for(const l of r){const u=bo(l,e),h=bo(l,n);if(u===0)s[0]=e.En();else if(u>0&&h<0)s.push(l),s.push(l.En());else if(h>0)break}s.push(n);const o=[];for(let l=0;l<s.length;l+=2){if(this.Yn(s[l],s[l+1]))return[];const u=s[l].Rn(this.uid,Rf,ze.empty()),h=s[l+1].Rn(this.uid,Rf,ze.empty());o.push(IDBKeyRange.bound(u,h))}return o}Yn(e,n){return bo(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(s2)}getMinOffset(e,n){return ie.mapArray(this.Fn(n),(r=>this.Mn(e,r).next((s=>s||Ye(44426))))).next(s2)}}function r2(t){return Sn(t,Sd)}function Xl(t){return Sn(t,ad)}function $u(t){return Sn(t,Yy)}function Jl(t){return Sn(t,od)}function s2(t){nt(t.length!==0,28825);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const s=t[r].indexState.offset;Gy(s,e)<0&&(e=s),n<s.largestBatchId&&(n=s.largestBatchId)}return new jr(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i2={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Rb=41943040;class pr{static withCacheSize(e){return new pr(e,pr.DEFAULT_COLLECTION_PERCENTILE,pr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pb(t,e,n){const r=t.store(vs),s=t.store(Tc),o=[],l=IDBKeyRange.only(n.batchId);let u=0;const h=r.X({range:l},((v,y,T)=>(u++,T.delete())));o.push(h.next((()=>{nt(u===1,47070,{batchId:n.batchId})})));const p=[];for(const v of n.mutations){const y=kT(e,v.key.path,n.batchId);o.push(s.delete(y)),p.push(v.key)}return ie.waitFor(o).next((()=>p))}function Hp(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Ye(14731);e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pr.DEFAULT_COLLECTION_PERCENTILE=10,pr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pr.DEFAULT=new pr(Rb,pr.DEFAULT_COLLECTION_PERCENTILE,pr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pr.DISABLED=new pr(-1,0,0);class vm{constructor(e,n,r,s){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=s,this.Zn={}}static yt(e,n,r,s){nt(e.uid!=="",64387);const o=e.isAuthenticated()?e.uid:"";return new vm(o,n,r,s)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Co(e).X({index:La,range:r},((s,o,l)=>{n=!1,l.done()})).next((()=>n))}addMutationBatch(e,n,r,s){const o=lc(e),l=Co(e);return l.add({}).next((u=>{nt(typeof u=="number",49019);const h=new r1(u,n,r,s),p=(function(k,N,D){const j=D.baseMutations.map((U=>Fp(k.gt,U))),L=D.mutations.map((U=>Fp(k.gt,U)));return{userId:N,batchId:D.batchId,localWriteTimeMs:D.localWriteTime.toMillis(),baseMutations:j,mutations:L}})(this.serializer,this.userId,h),v=[];let y=new Mt(((T,k)=>ct(T.canonicalString(),k.canonicalString())));for(const T of s){const k=kT(this.userId,T.key.path,u);y=y.add(T.key.path.popLast()),v.push(l.put(p)),v.push(o.put(k,xj))}return y.forEach((T=>{v.push(this.indexManager.addToCollectionParentIndex(e,T))})),e.addOnCommittedListener((()=>{this.Zn[u]=h.keys()})),ie.waitFor(v).next((()=>h))}))}lookupMutationBatch(e,n){return Co(e).get(n).next((r=>r?(nt(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:n}),ka(this.serializer,r)):null))}Xn(e,n){return this.Zn[n]?ie.resolve(this.Zn[n]):this.lookupMutationBatch(e,n).next((r=>{if(r){const s=r.keys();return this.Zn[n]=s,s}return null}))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=IDBKeyRange.lowerBound([this.userId,r]);let o=null;return Co(e).X({index:La,range:s},((l,u,h)=>{u.userId===this.userId&&(nt(u.batchId>=r,47524,{er:r}),o=ka(this.serializer,u)),h.done()})).next((()=>o))}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=Ba;return Co(e).X({index:La,range:n,reverse:!0},((s,o,l)=>{r=o.batchId,l.done()})).next((()=>r))}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,Ba],[this.userId,Number.POSITIVE_INFINITY]);return Co(e).j(La,n).next((r=>r.map((s=>ka(this.serializer,s)))))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=ep(this.userId,n.path),s=IDBKeyRange.lowerBound(r),o=[];return lc(e).X({range:s},((l,u,h)=>{const[p,v,y]=l,T=ti(v);if(p===this.userId&&n.path.isEqual(T))return Co(e).get(y).next((k=>{if(!k)throw Ye(61480,{tr:l,batchId:y});nt(k.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:k.userId,batchId:y}),o.push(ka(this.serializer,k))}));h.done()})).next((()=>o))}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Mt(ct);const s=[];return n.forEach((o=>{const l=ep(this.userId,o.path),u=IDBKeyRange.lowerBound(l),h=lc(e).X({range:u},((p,v,y)=>{const[T,k,N]=p,D=ti(k);T===this.userId&&o.path.isEqual(D)?r=r.add(N):y.done()}));s.push(h)})),ie.waitFor(s).next((()=>this.nr(e,r)))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1,o=ep(this.userId,r),l=IDBKeyRange.lowerBound(o);let u=new Mt(ct);return lc(e).X({range:l},((h,p,v)=>{const[y,T,k]=h,N=ti(T);y===this.userId&&r.isPrefixOf(N)?N.length===s&&(u=u.add(k)):v.done()})).next((()=>this.nr(e,u)))}nr(e,n){const r=[],s=[];return n.forEach((o=>{s.push(Co(e).get(o).next((l=>{if(l===null)throw Ye(35274,{batchId:o});nt(l.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:l.userId,batchId:o}),r.push(ka(this.serializer,l))})))})),ie.waitFor(s).next((()=>r))}removeMutationBatch(e,n){return Pb(e.ce,this.userId,n).next((r=>(e.addOnCommittedListener((()=>{this.rr(n.batchId)})),ie.forEach(r,(s=>this.referenceDelegate.markPotentiallyOrphaned(e,s))))))}rr(e){delete this.Zn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((n=>{if(!n)return ie.resolve();const r=IDBKeyRange.lowerBound((function(l){return[l]})(this.userId)),s=[];return lc(e).X({range:r},((o,l,u)=>{if(o[0]===this.userId){const h=ti(o[1]);s.push(h)}else u.done()})).next((()=>{nt(s.length===0,56720,{ir:s.map((o=>o.canonicalString()))})}))}))}containsKey(e,n){return Nb(e,this.userId,n)}sr(e){return kb(e).get(this.userId).next((n=>n||{userId:this.userId,lastAcknowledgedBatchId:Ba,lastStreamToken:""}))}}function Nb(t,e,n){const r=ep(e,n.path),s=r[1],o=IDBKeyRange.lowerBound(r);let l=!1;return lc(t).X({range:o,Z:!0},((u,h,p)=>{const[v,y,T]=u;v===e&&y===s&&(l=!0),p.done()})).next((()=>l))}function Co(t){return Sn(t,vs)}function lc(t){return Sn(t,Tc)}function kb(t){return Sn(t,_d)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new nl(0)}static ur(){return new nl(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.cr(e).next((n=>{const r=new nl(n.highestTargetId);return n.highestTargetId=r.next(),this.lr(e,n).next((()=>n.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.cr(e).next((n=>St.fromTimestamp(new nn(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.cr(e).next((n=>n.highestListenSequenceNumber))}setTargetsMetadata(e,n,r){return this.cr(e).next((s=>(s.highestListenSequenceNumber=n,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),n>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=n),this.lr(e,s))))}addTargetData(e,n){return this.hr(e,n).next((()=>this.cr(e).next((r=>(r.targetCount+=1,this.Pr(n,r),this.lr(e,r))))))}updateTargetData(e,n){return this.hr(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next((()=>ec(e).delete(n.targetId))).next((()=>this.cr(e))).next((r=>(nt(r.targetCount>0,8065),r.targetCount-=1,this.lr(e,r))))}removeTargets(e,n,r){let s=0;const o=[];return ec(e).X(((l,u)=>{const h=Ju(u);h.sequenceNumber<=n&&r.get(h.targetId)===null&&(s++,o.push(this.removeTargetData(e,h)))})).next((()=>ie.waitFor(o))).next((()=>s))}forEachTarget(e,n){return ec(e).X(((r,s)=>{const o=Ju(s);n(o)}))}cr(e){return o2(e).get(Np).next((n=>(nt(n!==null,2888),n)))}lr(e,n){return o2(e).put(Np,n)}hr(e,n){return ec(e).put(bb(this.serializer,n))}Pr(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.cr(e).next((n=>n.targetCount))}getTargetData(e,n){const r=Ja(n),s=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let o=null;return ec(e).X({range:s,index:jT},((l,u,h)=>{const p=Ju(u);Zd(n,p.target)&&(o=p,h.done())})).next((()=>o))}addMatchingKeys(e,n,r){const s=[],o=Lo(e);return n.forEach((l=>{const u=rr(l.path);s.push(o.put({targetId:r,path:u})),s.push(this.referenceDelegate.addReference(e,r,l))})),ie.waitFor(s)}removeMatchingKeys(e,n,r){const s=Lo(e);return ie.forEach(n,(o=>{const l=rr(o.path);return ie.waitFor([s.delete([r,l]),this.referenceDelegate.removeReference(e,r,o)])}))}removeMatchingKeysForTargetId(e,n){const r=Lo(e),s=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(s)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),s=Lo(e);let o=Un();return s.X({range:r,Z:!0},((l,u,h)=>{const p=ti(l[1]),v=new ze(p);o=o.add(v)})).next((()=>o))}containsKey(e,n){const r=rr(n.path),s=IDBKeyRange.bound([r],[CT(r)],!1,!0);let o=0;return Lo(e).X({index:Ky,Z:!0,range:s},(([l,u],h,p)=>{l!==0&&(o++,p.done())})).next((()=>o>0))}Et(e,n){return ec(e).get(n).next((r=>r?Ju(r):null))}}function ec(t){return Sn(t,bc)}function o2(t){return Sn(t,$a)}function Lo(t){return Sn(t,Cc)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a2="LruGarbageCollector",rO=1048576;function l2([t,e],[n,r]){const s=ct(t,n);return s===0?ct(e,r):s}class sO{constructor(e){this.Tr=e,this.buffer=new Mt(l2),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();l2(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class iO{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){Ae(a2,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){al(n)?Ae(a2,"Ignoring IndexedDB error during garbage collection: ",n):await im(n)}await this.Rr(3e5)}))}}class oO{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return ie.resolve(Ss.ue);const r=new sO(n);return this.Vr.forEachTarget(e,(s=>r.Er(s.sequenceNumber))).next((()=>this.Vr.gr(e,(s=>r.Er(s))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ae("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(i2)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),i2):this.pr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let r,s,o,l,u,h,p;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((y=>(y>this.params.maximumSequenceNumbersToCollect?(Ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),s=this.params.maximumSequenceNumbersToCollect):s=y,l=Date.now(),this.nthSequenceNumber(e,s)))).next((y=>(r=y,u=Date.now(),this.removeTargets(e,r,n)))).next((y=>(o=y,h=Date.now(),this.removeOrphanedDocuments(e,r)))).next((y=>(p=Date.now(),ic()<=gt.DEBUG&&Ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-v}ms
	Determined least recently used ${s} in `+(u-l)+`ms
	Removed ${o} targets in `+(h-u)+`ms
	Removed ${y} documents in `+(p-h)+`ms
Total Duration: ${p-v}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:y}))))}}function aO(t,e){return new oO(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(e,n){this.db=e,this.garbageCollector=aO(this,n)}mr(e){const n=this.yr(e);return this.db.getTargetCache().getTargetCount(e).next((r=>n.next((s=>r+s))))}yr(e){let n=0;return this.gr(e,(r=>{n++})).next((()=>n))}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}gr(e,n){return this.wr(e,((r,s)=>n(s)))}addReference(e,n,r){return Pf(e,r)}removeReference(e,n,r){return Pf(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return Pf(e,n)}Sr(e,n){return(function(s,o){let l=!1;return kb(s).ee((u=>Nb(s,u,o).next((h=>(h&&(l=!0),ie.resolve(!h)))))).next((()=>l))})(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[];let o=0;return this.wr(e,((l,u)=>{if(u<=n){const h=this.Sr(e,l).next((p=>{if(!p)return o++,r.getEntry(e,l).next((()=>(r.removeEntry(l,St.min()),Lo(e).delete((function(y){return[0,rr(y.path)]})(l)))))}));s.push(h)}})).next((()=>ie.waitFor(s))).next((()=>r.apply(e))).next((()=>o))}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return Pf(e,n)}wr(e,n){const r=Lo(e);let s,o=Ss.ue;return r.X({index:Ky},(([l,u],{path:h,sequenceNumber:p})=>{l===0?(o!==Ss.ue&&n(new ze(ti(s)),o),o=p,s=h):o=Ss.ue})).next((()=>{o!==Ss.ue&&n(new ze(ti(s)),o)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Pf(t,e){return Lo(t).put((function(r,s){return{targetId:0,path:rr(r.path),sequenceNumber:s}})(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(){this.changes=new ea((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Vn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ie.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Ta(e).put(r)}removeEntry(e,n,r){return Ta(e).delete((function(o,l){const u=o.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],Vp(l),u[u.length-1]]})(n,r))}updateMetadata(e,n){return this.getMetadata(e).next((r=>(r.byteSize+=n,this.br(e,r))))}getEntry(e,n){let r=Vn.newInvalidDocument(n);return Ta(e).X({index:tp,range:IDBKeyRange.only(zu(n))},((s,o)=>{r=this.Dr(n,o)})).next((()=>r))}vr(e,n){let r={size:0,document:Vn.newInvalidDocument(n)};return Ta(e).X({index:tp,range:IDBKeyRange.only(zu(n))},((s,o)=>{r={document:this.Dr(n,o),size:Hp(o)}})).next((()=>r))}getEntries(e,n){let r=Fa();return this.Cr(e,n,((s,o)=>{const l=this.Dr(s,o);r=r.insert(s,l)})).next((()=>r))}Fr(e,n){let r=Fa(),s=new vr(ze.comparator);return this.Cr(e,n,((o,l)=>{const u=this.Dr(o,l);r=r.insert(o,u),s=s.insert(o,Hp(l))})).next((()=>({documents:r,Mr:s})))}Cr(e,n,r){if(n.isEmpty())return ie.resolve();let s=new Mt(d2);n.forEach((h=>s=s.add(h)));const o=IDBKeyRange.bound(zu(s.first()),zu(s.last())),l=s.getIterator();let u=l.getNext();return Ta(e).X({index:tp,range:o},((h,p,v)=>{const y=ze.fromSegments([...p.prefixPath,p.collectionGroup,p.documentId]);for(;u&&d2(u,y)<0;)r(u,null),u=l.getNext();u&&u.isEqual(y)&&(r(u,p),u=l.hasNext()?l.getNext():null),u?v.G(zu(u)):v.done()})).next((()=>{for(;u;)r(u,null),u=l.hasNext()?l.getNext():null}))}getDocumentsMatchingQuery(e,n,r,s,o){const l=n.path,u=[l.popLast().toArray(),l.lastSegment(),Vp(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],h=[l.popLast().toArray(),l.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ta(e).j(IDBKeyRange.bound(u,h,!0)).next((p=>{o==null||o.incrementDocumentReadCount(p.length);let v=Fa();for(const y of p){const T=this.Dr(ze.fromSegments(y.prefixPath.concat(y.collectionGroup,y.documentId)),y);T.isFoundDocument()&&(fm(n,T)||s.has(T.key))&&(v=v.insert(T.key,T))}return v}))}getAllFromCollectionGroup(e,n,r,s){let o=Fa();const l=u2(n,r),u=u2(n,jr.max());return Ta(e).X({index:DT,range:IDBKeyRange.bound(l,u,!0)},((h,p,v)=>{const y=this.Dr(ze.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);o=o.insert(y.key,y),o.size===s&&v.done()})).next((()=>o))}newChangeBuffer(e){return new uO(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((n=>n.byteSize))}getMetadata(e){return c2(e).get(Rv).next((n=>(nt(!!n,20021),n)))}br(e,n){return c2(e).put(Rv,n)}Dr(e,n){if(n){const r=GM(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(St.min())))return r}return Vn.newInvalidDocument(e)}}function jb(t){return new cO(t)}class uO extends Db{constructor(e,n){super(),this.Or=e,this.trackRemovals=n,this.Nr=new ea((r=>r.toString()),((r,s)=>r.isEqual(s)))}applyChanges(e){const n=[];let r=0,s=new Mt(((o,l)=>ct(o.canonicalString(),l.canonicalString())));return this.changes.forEach(((o,l)=>{const u=this.Nr.get(o);if(n.push(this.Or.removeEntry(e,o,u.readTime)),l.isValidDocument()){const h=G5(this.Or.serializer,l);s=s.add(o.path.popLast());const p=Hp(h);r+=p-u.size,n.push(this.Or.addEntry(e,o,h))}else if(r-=u.size,this.trackRemovals){const h=G5(this.Or.serializer,l.convertToNoDocument(St.min()));n.push(this.Or.addEntry(e,o,h))}})),s.forEach((o=>{n.push(this.Or.indexManager.addToCollectionParentIndex(e,o))})),n.push(this.Or.updateMetadata(e,r)),ie.waitFor(n)}getFromCache(e,n){return this.Or.vr(e,n).next((r=>(this.Nr.set(n,{size:r.size,readTime:r.document.readTime}),r.document)))}getAllFromCache(e,n){return this.Or.Fr(e,n).next((({documents:r,Mr:s})=>(s.forEach(((o,l)=>{this.Nr.set(o,{size:l,readTime:r.get(o).readTime})})),r)))}}function c2(t){return Sn(t,Ed)}function Ta(t){return Sn(t,Pp)}function zu(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function u2(t,e){const n=e.documentKey.path.toArray();return[t,Vp(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function d2(t,e){const n=t.path.toArray(),r=e.path.toArray();let s=0;for(let o=0;o<n.length-2&&o<r.length-2;++o)if(s=ct(n[o],r[o]),s)return s;return s=ct(n.length,r.length),s||(s=ct(n[n.length-2],r[r.length-2]),s||ct(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,n)))).next((s=>(r!==null&&dd(r.mutation,s,Oi.empty(),nn.now()),s)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Un()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Un()){const s=ni();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,r).next((o=>{let l=Af();return o.forEach(((u,h)=>{l=l.insert(u,h.overlayedDocument)})),l}))))}getOverlayedDocuments(e,n){const r=ni();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Un())))}populateOverlays(e,n,r){const s=[];return r.forEach((o=>{n.has(o)||s.push(o)})),this.documentOverlayCache.getOverlays(e,s).next((o=>{o.forEach(((l,u)=>{n.set(l,u)}))}))}computeViews(e,n,r,s){let o=Fa();const l=ud(),u=(function(){return ud()})();return n.forEach(((h,p)=>{const v=r.get(p.key);s.has(p.key)&&(v===void 0||v.mutation instanceof zc)?o=o.insert(p.key,p):v!==void 0?(l.set(p.key,v.mutation.getFieldMask()),dd(v.mutation,p,v.mutation.getFieldMask(),nn.now())):l.set(p.key,Oi.empty())})),this.recalculateAndSaveOverlays(e,o).next((h=>(h.forEach(((p,v)=>l.set(p,v))),n.forEach(((p,v)=>{var y;return u.set(p,new dO(v,(y=l.get(p))!==null&&y!==void 0?y:null))})),u)))}recalculateAndSaveOverlays(e,n){const r=ud();let s=new vr(((l,u)=>l-u)),o=Un();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((l=>{for(const u of l)u.keys().forEach((h=>{const p=n.get(h);if(p===null)return;let v=r.get(h)||Oi.empty();v=u.applyToLocalView(p,v),r.set(h,v);const y=(s.get(u.batchId)||Un()).add(h);s=s.insert(u.batchId,y)}))})).next((()=>{const l=[],u=s.getReverseIterator();for(;u.hasNext();){const h=u.getNext(),p=h.key,v=h.value,y=cb();v.forEach((T=>{if(!o.has(T)){const k=fb(n.get(T),r.get(T));k!==null&&y.set(T,k),o=o.add(T)}})),l.push(this.documentOverlayCache.saveOverlays(e,p,y))}return ie.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,s){return(function(l){return ze.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):cM(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next((o=>{const l=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-o.size):ie.resolve(ni());let u=yd,h=o;return l.next((p=>ie.forEach(p,((v,y)=>(u<y.largestBatchId&&(u=y.largestBatchId),o.get(v)?ie.resolve():this.remoteDocumentCache.getEntry(e,v).next((T=>{h=h.insert(v,T)}))))).next((()=>this.populateOverlays(e,p,o))).next((()=>this.computeViews(e,h,p,Un()))).next((v=>({batchId:u,changes:pM(v)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ze(n)).next((r=>{let s=Af();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const o=n.collectionGroup;let l=Af();return this.indexManager.getCollectionParents(e,o).next((u=>ie.forEach(u,(h=>{const p=(function(y,T){return new hm(T,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)})(n,h.child(o));return this.getDocumentsMatchingCollectionQuery(e,p,r,s).next((v=>{v.forEach(((y,T)=>{l=l.insert(y,T)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,n,r,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,s)))).next((l=>{o.forEach(((h,p)=>{const v=p.getKey();l.get(v)===null&&(l=l.insert(v,Vn.newInvalidDocument(v)))}));let u=Af();return l.forEach(((h,p)=>{const v=o.get(h);v!==void 0&&dd(v.mutation,p,Oi.empty(),nn.now()),fm(n,p)&&(u=u.insert(h,p))})),u}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return ie.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,(function(s){return{id:s.id,version:s.version,createTime:Cs(s.createTime)}})(n)),ie.resolve()}getNamedQuery(e,n){return ie.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,(function(s){return{name:s.name,query:Cb(s.bundledQuery),readTime:Cs(s.readTime)}})(n)),ie.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(){this.overlays=new vr(ze.comparator),this.kr=new Map}getOverlay(e,n){return ie.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ni();return ie.forEach(n,(s=>this.getOverlay(e,s).next((o=>{o!==null&&r.set(s,o)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((s,o)=>{this.wt(e,n,o)})),ie.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.kr.get(r);return s!==void 0&&(s.forEach((o=>this.overlays=this.overlays.remove(o))),this.kr.delete(r)),ie.resolve()}getOverlaysForCollection(e,n,r){const s=ni(),o=n.length+1,l=new ze(n.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const h=u.getNext().value,p=h.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===o&&h.largestBatchId>r&&s.set(h.getKey(),h)}return ie.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let o=new vr(((p,v)=>p-v));const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let v=o.get(p.largestBatchId);v===null&&(v=ni(),o=o.insert(p.largestBatchId,v)),v.set(p.getKey(),p)}}const u=ni(),h=o.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach(((p,v)=>u.set(p,v))),!(u.size()>=s)););return ie.resolve(u)}wt(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const l=this.kr.get(s.largestBatchId).delete(r.key);this.kr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new i1(n,r));let o=this.kr.get(n);o===void 0&&(o=Un(),this.kr.set(n,o)),this.kr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{constructor(){this.sessionToken=yr.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ie.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(){this.qr=new Mt(Nn.Qr),this.$r=new Mt(Nn.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const r=new Nn(e,n);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Wr(new Nn(e,n))}Gr(e,n){e.forEach((r=>this.removeReference(r,n)))}zr(e){const n=new ze(new Kt([])),r=new Nn(n,e),s=new Nn(n,e+1),o=[];return this.$r.forEachInRange([r,s],(l=>{this.Wr(l),o.push(l.key)})),o}jr(){this.qr.forEach((e=>this.Wr(e)))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new ze(new Kt([])),r=new Nn(n,e),s=new Nn(n,e+1);let o=Un();return this.$r.forEachInRange([r,s],(l=>{o=o.add(l.key)})),o}containsKey(e){const n=new Nn(e,0),r=this.qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Nn{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return ze.comparator(e.key,n.key)||ct(e.Hr,n.Hr)}static Ur(e,n){return ct(e.Hr,n.Hr)||ze.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new Mt(Nn.Qr)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new r1(o,n,r,s);this.mutationQueue.push(l);for(const u of s)this.Yr=this.Yr.add(new Nn(u.key,o)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return ie.resolve(l)}lookupMutationBatch(e,n){return ie.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Xr(r),o=s<0?0:s;return ie.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?Ba:this.er-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Nn(n,0),s=new Nn(n,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([r,s],(l=>{const u=this.Zr(l.Hr);o.push(u)})),ie.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Mt(ct);return n.forEach((s=>{const o=new Nn(s,0),l=new Nn(s,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,l],(u=>{r=r.add(u.Hr)}))})),ie.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let o=r;ze.isDocumentKey(o)||(o=o.child(""));const l=new Nn(new ze(o),0);let u=new Mt(ct);return this.Yr.forEachWhile((h=>{const p=h.key.path;return!!r.isPrefixOf(p)&&(p.length===s&&(u=u.add(h.Hr)),!0)}),l),ie.resolve(this.ei(u))}ei(e){const n=[];return e.forEach((r=>{const s=this.Zr(r);s!==null&&n.push(s)})),n}removeMutationBatch(e,n){nt(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return ie.forEach(n.mutations,(s=>{const o=new Nn(s.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Yr=r}))}rr(e){}containsKey(e,n){const r=new Nn(n,0),s=this.Yr.firstAfterOrEqual(r);return ie.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{constructor(e){this.ni=e,this.docs=(function(){return new vr(ze.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),o=s?s.size:0,l=this.ni(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ie.resolve(r?r.document.mutableCopy():Vn.newInvalidDocument(n))}getEntries(e,n){let r=Fa();return n.forEach((s=>{const o=this.docs.get(s);r=r.insert(s,o?o.document.mutableCopy():Vn.newInvalidDocument(s))})),ie.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let o=Fa();const l=n.path,u=new ze(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(u);for(;h.hasNext();){const{key:p,value:{document:v}}=h.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||Gy(AT(v),r)<=0||(s.has(v.key)||fm(n,v))&&(o=o.insert(v.key,v.mutableCopy()))}return ie.resolve(o)}getAllFromCollectionGroup(e,n,r,s){Ye(9500)}ri(e,n){return ie.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new vO(this)}getSize(e){return ie.resolve(this.size)}}class vO extends Db{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?n.push(this.Or.addEntry(e,s)):this.Or.removeEntry(r)})),ie.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(e){this.persistence=e,this.ii=new ea((n=>Ja(n)),Zd),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.si=0,this.oi=new l1,this.targetCount=0,this._i=nl.ar()}forEachTarget(e,n){return this.ii.forEach(((r,s)=>n(s))),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.si&&(this.si=n),ie.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new nl(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,ie.resolve()}updateTargetData(e,n){return this.hr(n),ie.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,n,r){let s=0;const o=[];return this.ii.forEach(((l,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.ii.delete(l),o.push(this.removeMatchingKeysForTargetId(e,u.targetId)),s++)})),ie.waitFor(o).next((()=>s))}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,n){const r=this.ii.get(n)||null;return ie.resolve(r)}addMatchingKeys(e,n,r){return this.oi.Kr(n,r),ie.resolve()}removeMatchingKeys(e,n,r){this.oi.Gr(n,r);const s=this.persistence.referenceDelegate,o=[];return s&&n.forEach((l=>{o.push(s.markPotentiallyOrphaned(e,l))})),ie.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),ie.resolve()}getMatchingKeysForTargetId(e,n){const r=this.oi.Jr(n);return ie.resolve(r)}containsKey(e,n){return ie.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(e,n){this.ai={},this.overlays={},this.ui=new Ss(0),this.ci=!1,this.ci=!0,this.li=new pO,this.referenceDelegate=e(this),this.hi=new yO(this),this.indexManager=new eO,this.remoteDocumentCache=(function(s){return new gO(s)})((r=>this.referenceDelegate.Pi(r))),this.serializer=new Tb(n),this.Ti=new hO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new fO,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ai[e.toKey()];return r||(r=new mO(n,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,r){Ae("MemoryPersistence","Starting transaction:",e);const s=new wO(this.ui.next());return this.referenceDelegate.Ii(),r(s).next((o=>this.referenceDelegate.di(s).next((()=>o)))).toPromise().then((o=>(s.raiseOnCommittedEvent(),o)))}Ei(e,n){return ie.or(Object.values(this.ai).map((r=>()=>r.containsKey(e,n))))}}class wO extends PT{constructor(e){super(),this.currentSequenceNumber=e}}class ym{constructor(e){this.persistence=e,this.Ai=new l1,this.Ri=null}static Vi(e){return new ym(e)}get mi(){if(this.Ri)return this.Ri;throw Ye(60996)}addReference(e,n,r){return this.Ai.addReference(r,n),this.mi.delete(r.toString()),ie.resolve()}removeReference(e,n,r){return this.Ai.removeReference(r,n),this.mi.add(r.toString()),ie.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),ie.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach((s=>this.mi.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((s=>{s.forEach((o=>this.mi.add(o.toString())))})).next((()=>r.removeTargetData(e,n)))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.mi,(r=>{const s=ze.fromPath(r);return this.fi(e,s).next((o=>{o||n.removeEntry(s,St.min())}))})).next((()=>(this.Ri=null,n.apply(e))))}updateLimboDocument(e,n){return this.fi(e,n).next((r=>{r?this.mi.delete(n.toString()):this.mi.add(n.toString())}))}Pi(e){return 0}fi(e,n){return ie.or([()=>ie.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _O{constructor(e){this.serializer=e}q(e,n,r,s){const o=new om("createOrUpgrade",n);r<1&&s>=1&&((function(h){h.createObjectStore(Yd)})(e),(function(h){h.createObjectStore(_d,{keyPath:Sj}),h.createObjectStore(vs,{keyPath:C5,autoIncrement:!0}).createIndex(La,I5,{unique:!0}),h.createObjectStore(Tc)})(e),h2(e),(function(h){h.createObjectStore(Pa)})(e));let l=ie.resolve();return r<3&&s>=3&&(r!==0&&((function(h){h.deleteObjectStore(Cc),h.deleteObjectStore(bc),h.deleteObjectStore($a)})(e),h2(e)),l=l.next((()=>(function(h){const p=h.store($a),v={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:St.min().toTimestamp(),targetCount:0};return p.put(Np,v)})(o)))),r<4&&s>=4&&(r!==0&&(l=l.next((()=>(function(h,p){return p.store(vs).j().next((y=>{h.deleteObjectStore(vs),h.createObjectStore(vs,{keyPath:C5,autoIncrement:!0}).createIndex(La,I5,{unique:!0});const T=p.store(vs),k=y.map((N=>T.put(N)));return ie.waitFor(k)}))})(e,o)))),l=l.next((()=>{(function(h){h.createObjectStore(Ic,{keyPath:Nj})})(e)}))),r<5&&s>=5&&(l=l.next((()=>this.pi(o)))),r<6&&s>=6&&(l=l.next((()=>((function(h){h.createObjectStore(Ed)})(e),this.yi(o))))),r<7&&s>=7&&(l=l.next((()=>this.wi(o)))),r<8&&s>=8&&(l=l.next((()=>this.Si(e,o)))),r<9&&s>=9&&(l=l.next((()=>{(function(h){h.objectStoreNames.contains("remoteDocumentChanges")&&h.deleteObjectStore("remoteDocumentChanges")})(e)}))),r<10&&s>=10&&(l=l.next((()=>this.bi(o)))),r<11&&s>=11&&(l=l.next((()=>{(function(h){h.createObjectStore(lm,{keyPath:kj})})(e),(function(h){h.createObjectStore(cm,{keyPath:Dj})})(e)}))),r<12&&s>=12&&(l=l.next((()=>{(function(h){const p=h.createObjectStore(um,{keyPath:Uj});p.createIndex(Nv,Hj,{unique:!1}),p.createIndex(LT,Bj,{unique:!1})})(e)}))),r<13&&s>=13&&(l=l.next((()=>(function(h){const p=h.createObjectStore(Pp,{keyPath:Tj});p.createIndex(tp,bj),p.createIndex(DT,Cj)})(e))).next((()=>this.Di(e,o))).next((()=>e.deleteObjectStore(Pa)))),r<14&&s>=14&&(l=l.next((()=>this.Ci(e,o)))),r<15&&s>=15&&(l=l.next((()=>(function(h){h.createObjectStore(Yy,{keyPath:jj,autoIncrement:!0}).createIndex(Pv,Mj,{unique:!1}),h.createObjectStore(od,{keyPath:Oj}).createIndex(MT,Lj,{unique:!1}),h.createObjectStore(ad,{keyPath:Fj}).createIndex(OT,Vj,{unique:!1})})(e)))),r<16&&s>=16&&(l=l.next((()=>{n.objectStore(od).clear()})).next((()=>{n.objectStore(ad).clear()}))),r<17&&s>=17&&(l=l.next((()=>{(function(h){h.createObjectStore(Zy,{keyPath:$j})})(e)}))),r<18&&s>=18&&Rx()&&(l=l.next((()=>{n.objectStore(od).clear()})).next((()=>{n.objectStore(ad).clear()}))),l}yi(e){let n=0;return e.store(Pa).X(((r,s)=>{n+=Hp(s)})).next((()=>{const r={byteSize:n};return e.store(Ed).put(Rv,r)}))}pi(e){const n=e.store(_d),r=e.store(vs);return n.j().next((s=>ie.forEach(s,(o=>{const l=IDBKeyRange.bound([o.userId,Ba],[o.userId,o.lastAcknowledgedBatchId]);return r.j(La,l).next((u=>ie.forEach(u,(h=>{nt(h.userId===o.userId,18650,"Cannot process batch from unexpected user",{batchId:h.batchId});const p=ka(this.serializer,h);return Pb(e,o.userId,p).next((()=>{}))}))))}))))}wi(e){const n=e.store(Cc),r=e.store(Pa);return e.store($a).get(Np).next((s=>{const o=[];return r.X(((l,u)=>{const h=new Kt(l),p=(function(y){return[0,rr(y)]})(h);o.push(n.get(p).next((v=>v?ie.resolve():(y=>n.put({targetId:0,path:rr(y),sequenceNumber:s.highestListenSequenceNumber}))(h))))})).next((()=>ie.waitFor(o)))}))}Si(e,n){e.createObjectStore(Sd,{keyPath:Pj});const r=n.store(Sd),s=new a1,o=l=>{if(s.add(l)){const u=l.lastSegment(),h=l.popLast();return r.put({collectionId:u,parent:rr(h)})}};return n.store(Pa).X({Z:!0},((l,u)=>{const h=new Kt(l);return o(h.popLast())})).next((()=>n.store(Tc).X({Z:!0},(([l,u,h],p)=>{const v=ti(u);return o(v.popLast())}))))}bi(e){const n=e.store(bc);return n.X(((r,s)=>{const o=Ju(s),l=bb(this.serializer,o);return n.put(l)}))}Di(e,n){const r=n.store(Pa),s=[];return r.X(((o,l)=>{const u=n.store(Pp),h=(function(y){return y.document?new ze(Kt.fromString(y.document.name).popFirst(5)):y.noDocument?ze.fromSegments(y.noDocument.path):y.unknownDocument?ze.fromSegments(y.unknownDocument.path):Ye(36783)})(l).path.toArray(),p={prefixPath:h.slice(0,h.length-2),collectionGroup:h[h.length-2],documentId:h[h.length-1],readTime:l.readTime||[0,0],unknownDocument:l.unknownDocument,noDocument:l.noDocument,document:l.document,hasCommittedMutations:!!l.hasCommittedMutations};s.push(u.put(p))})).next((()=>ie.waitFor(s)))}Ci(e,n){const r=n.store(vs),s=jb(this.serializer),o=new Ob(ym.Vi,this.serializer.gt);return r.j().next((l=>{const u=new Map;return l.forEach((h=>{var p;let v=(p=u.get(h.userId))!==null&&p!==void 0?p:Un();ka(this.serializer,h).keys().forEach((y=>v=v.add(y))),u.set(h.userId,v)})),ie.forEach(u,((h,p)=>{const v=new Ln(p),y=gm.yt(this.serializer,v),T=o.getIndexManager(v),k=vm.yt(v,this.serializer,T,o.referenceDelegate);return new Mb(s,k,y,T).recalculateAndSaveOverlaysForDocumentKeys(new kv(n,Ss.ue),h).next()}))}))}}function h2(t){t.createObjectStore(Cc,{keyPath:Aj}).createIndex(Ky,Rj,{unique:!0}),t.createObjectStore(bc,{keyPath:"targetId"}).createIndex(jT,Ij,{unique:!0}),t.createObjectStore($a)}const Io="IndexedDbPersistence",L0=18e5,F0=5e3,V0="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",EO="main";class c1{constructor(e,n,r,s,o,l,u,h,p,v,y=18){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Fi=o,this.window=l,this.document=u,this.Mi=p,this.xi=v,this.Oi=y,this.ui=null,this.ci=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ni=null,this.inForeground=!1,this.Bi=null,this.Li=null,this.ki=Number.NEGATIVE_INFINITY,this.qi=T=>Promise.resolve(),!c1.C())throw new Ge(ye.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new lO(this,s),this.Qi=n+EO,this.serializer=new Tb(h),this.$i=new Wo(this.Qi,this.Oi,new _O(this.serializer)),this.li=new KM,this.hi=new nO(this.referenceDelegate,this.serializer),this.remoteDocumentCache=jb(this.serializer),this.Ti=new qM,this.window&&this.window.localStorage?this.Ui=this.window.localStorage:(this.Ui=null,v===!1&&Nr(Io,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ki().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ge(ye.FAILED_PRECONDITION,V0);return this.Wi(),this.Gi(),this.zi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.hi.getHighestSequenceNumber(e)))})).then((e=>{this.ui=new Ss(e,this.Mi)})).then((()=>{this.ci=!0})).catch((e=>(this.$i&&this.$i.close(),Promise.reject(e))))}ji(e){return this.qi=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.$i.setDatabaseDeletedListener(e)}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Fi.enqueueAndForget((async()=>{this.started&&await this.Ki()})))}Ki(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>Nf(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Ji(e).next((n=>{n||(this.isPrimary=!1,this.Fi.enqueueRetryable((()=>this.qi(!1))))}))})).next((()=>this.Hi(e))).next((n=>this.isPrimary&&!n?this.Yi(e).next((()=>!1)):!!n&&this.Zi(e).next((()=>!0)))))).catch((e=>{if(al(e))return Ae(Io,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ae(Io,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Fi.enqueueRetryable((()=>this.qi(e))),this.isPrimary=e}))}Ji(e){return Wu(e).get(Yl).next((n=>ie.resolve(this.Xi(n))))}es(e){return Nf(e).delete(this.clientId)}async ts(){if(this.isPrimary&&!this.ns(this.ki,L0)){this.ki=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(n=>{const r=Sn(n,Ic);return r.j().next((s=>{const o=this.rs(s,L0),l=s.filter((u=>o.indexOf(u)===-1));return ie.forEach(l,(u=>r.delete(u.clientId))).next((()=>l))}))})).catch((()=>[]));if(this.Ui)for(const n of e)this.Ui.removeItem(this.ss(n.clientId))}}zi(){this.Li=this.Fi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Ki().then((()=>this.ts())).then((()=>this.zi()))))}Xi(e){return!!e&&e.ownerId===this.clientId}Hi(e){return this.xi?ie.resolve(!0):Wu(e).get(Yl).next((n=>{if(n!==null&&this.ns(n.leaseTimestampMs,F0)&&!this._s(n.ownerId)){if(this.Xi(n)&&this.networkEnabled)return!0;if(!this.Xi(n)){if(!n.allowTabSynchronization)throw new Ge(ye.FAILED_PRECONDITION,V0);return!1}}return!(!this.networkEnabled||!this.inForeground)||Nf(e).j().next((r=>this.rs(r,F0).find((s=>{if(this.clientId!==s.clientId){const o=!this.networkEnabled&&s.networkEnabled,l=!this.inForeground&&s.inForeground,u=this.networkEnabled===s.networkEnabled;if(o||l&&u)return!0}return!1}))===void 0))})).next((n=>(this.isPrimary!==n&&Ae(Io,`Client ${n?"is":"is not"} eligible for a primary lease.`),n)))}async shutdown(){this.ci=!1,this.us(),this.Li&&(this.Li.cancel(),this.Li=null),this.cs(),this.ls(),await this.$i.runTransaction("shutdown","readwrite",[Yd,Ic],(e=>{const n=new kv(e,Ss.ue);return this.Yi(n).next((()=>this.es(n)))})),this.$i.close(),this.hs()}rs(e,n){return e.filter((r=>this.ns(r.updateTimeMs,n)&&!this._s(r.clientId)))}Ps(){return this.runTransaction("getActiveClients","readonly",(e=>Nf(e).j().next((n=>this.rs(n,L0).map((r=>r.clientId))))))}get started(){return this.ci}getGlobalsCache(){return this.li}getMutationQueue(e,n){return vm.yt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new tO(e,this.serializer.gt.databaseId)}getDocumentOverlayCache(e){return gm.yt(this.serializer,e)}getBundleCache(){return this.Ti}runTransaction(e,n,r){Ae(Io,"Starting transaction:",e);const s=n==="readonly"?"readonly":"readwrite",o=(function(h){return h===18?Gj:h===17?HT:h===16?Wj:h===15?Qy:h===14?UT:h===13?VT:h===12?zj:h===11?FT:void Ye(60245)})(this.Oi);let l;return this.$i.runTransaction(e,s,o,(u=>(l=new kv(u,this.ui?this.ui.next():Ss.ue),n==="readwrite-primary"?this.Ji(l).next((h=>!!h||this.Hi(l))).next((h=>{if(!h)throw Nr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Fi.enqueueRetryable((()=>this.qi(!1))),new Ge(ye.FAILED_PRECONDITION,RT);return r(l)})).next((h=>this.Zi(l).next((()=>h)))):this.Ts(l).next((()=>r(l)))))).then((u=>(l.raiseOnCommittedEvent(),u)))}Ts(e){return Wu(e).get(Yl).next((n=>{if(n!==null&&this.ns(n.leaseTimestampMs,F0)&&!this._s(n.ownerId)&&!this.Xi(n)&&!(this.xi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new Ge(ye.FAILED_PRECONDITION,V0)}))}Zi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Wu(e).put(Yl,n)}static C(){return Wo.C()}Yi(e){const n=Wu(e);return n.get(Yl).next((r=>this.Xi(r)?(Ae(Io,"Releasing primary lease."),n.delete(Yl)):ie.resolve()))}ns(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(Nr(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Wi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Bi=()=>{this.Fi.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.Ki())))},this.document.addEventListener("visibilitychange",this.Bi),this.inForeground=this.document.visibilityState==="visible")}cs(){this.Bi&&(this.document.removeEventListener("visibilitychange",this.Bi),this.Bi=null)}Gi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Ni=()=>{this.us();const n=/(?:Version|Mobile)\/1[456]/;Ax()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.Fi.enterRestrictedMode(!0),this.Fi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Ni))}ls(){this.Ni&&(this.window.removeEventListener("pagehide",this.Ni),this.Ni=null)}_s(e){var n;try{const r=((n=this.Ui)===null||n===void 0?void 0:n.getItem(this.ss(e)))!==null;return Ae(Io,`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Nr(Io,"Failed to get zombied client id.",r),!1}}us(){if(this.Ui)try{this.Ui.setItem(this.ss(this.clientId),String(Date.now()))}catch(e){Nr("Failed to set zombie client id.",e)}}hs(){if(this.Ui)try{this.Ui.removeItem(this.ss(this.clientId))}catch{}}ss(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Wu(t){return Sn(t,Yd)}function Nf(t){return Sn(t,Ic)}function SO(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Is=r,this.ds=s}static Es(e,n){let r=Un(),s=Un();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new u1(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return Ax()?8:NT(En())>0?6:4})()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,r,s){const o={result:null};return this.ps(e,n).next((l=>{o.result=l})).next((()=>{if(!o.result)return this.ys(e,n,s,r).next((l=>{o.result=l}))})).next((()=>{if(o.result)return;const l=new xO;return this.ws(e,n,l).next((u=>{if(o.result=u,this.Rs)return this.Ss(e,n,l,u.size)}))})).next((()=>o.result))}Ss(e,n,r,s){return r.documentReadCount<this.Vs?(ic()<=gt.DEBUG&&Ae("QueryEngine","SDK will not create cache indexes for query:",Uu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ie.resolve()):(ic()<=gt.DEBUG&&Ae("QueryEngine","Query:",Uu(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.fs*s?(ic()<=gt.DEBUG&&Ae("QueryEngine","The SDK decides to create cache indexes for query:",Uu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Vi(n))):ie.resolve())}ps(e,n){if(U5(n))return ie.resolve(null);let r=Vi(n);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(n.limit!==null&&s===1&&(n=Fv(n,null,"F"),r=Vi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((o=>{const l=Un(...o);return this.gs.getDocuments(e,l).next((u=>this.indexManager.getMinOffset(e,r).next((h=>{const p=this.bs(n,u);return this.Ds(n,p,l,h.readTime)?this.ps(e,Fv(n,null,"F")):this.vs(e,p,n,h)}))))})))))}ys(e,n,r,s){return U5(n)||s.isEqual(St.min())?ie.resolve(null):this.gs.getDocuments(e,r).next((o=>{const l=this.bs(n,o);return this.Ds(n,l,r,s)?ie.resolve(null):(ic()<=gt.DEBUG&&Ae("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Uu(n)),this.vs(e,l,n,gj(s,yd)).next((u=>u)))}))}bs(e,n){let r=new Mt(dM(e));return n.forEach(((s,o)=>{fm(e,o)&&(r=r.add(o))})),r}Ds(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}ws(e,n,r){return ic()<=gt.DEBUG&&Ae("QueryEngine","Using full collection scan to execute query:",Uu(n)),this.gs.getDocumentsMatchingQuery(e,n,jr.min(),r)}vs(e,n,r,s){return this.gs.getDocumentsMatchingQuery(e,r,s).next((o=>(n.forEach((l=>{o=o.insert(l.key,l)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TO="LocalStore";class bO{constructor(e,n,r,s){this.persistence=e,this.Cs=n,this.serializer=s,this.Fs=new vr(ct),this.Ms=new ea((o=>Ja(o)),Zd),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Mb(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Fs)))}}function Fb(t,e,n,r){return new bO(t,e,n,r)}async function CO(t,e){const n=Bt(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next((o=>(s=o,n.Ns(e),n.mutationQueue.getAllMutationBatches(r)))).next((o=>{const l=[],u=[];let h=Un();for(const p of s){l.push(p.batchId);for(const v of p.mutations)h=h.add(v.key)}for(const p of o){u.push(p.batchId);for(const v of p.mutations)h=h.add(v.key)}return n.localDocuments.getDocuments(r,h).next((p=>({Bs:p,removedBatchIds:l,addedBatchIds:u})))}))}))}function IO(t,e){const n=Bt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),o=n.Os.newChangeBuffer({trackRemovals:!0});return(function(u,h,p,v){const y=p.batch,T=y.keys();let k=ie.resolve();return T.forEach((N=>{k=k.next((()=>v.getEntry(h,N))).next((D=>{const j=p.docVersions.get(N);nt(j!==null,48541),D.version.compareTo(j)<0&&(y.applyToRemoteDocument(D,p),D.isValidDocument()&&(D.setReadTime(p.commitVersion),v.addEntry(D)))}))})),k.next((()=>u.mutationQueue.removeMutationBatch(h,y)))})(n,r,e,o).next((()=>o.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(u){let h=Un();for(let p=0;p<u.mutationResults.length;++p)u.mutationResults[p].transformResults.length>0&&(h=h.add(u.batch.mutations[p].key));return h})(e)))).next((()=>n.localDocuments.getDocuments(r,s)))}))}function AO(t){const e=Bt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.hi.getLastRemoteSnapshotVersion(n)))}function RO(t,e){const n=Bt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Ba),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}class f2{constructor(){this.activeTargetIds=yM()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Vb{constructor(){this.Fo=new f2,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,r){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new f2,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p2="ConnectivityMonitor";class m2{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){Ae(p2,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){Ae(p2,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kf=null;function Wv(){return kf===null?kf=(function(){return 268435456+Math.round(2147483648*Math.random())})():kf++,"0x"+kf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0="RestConnection",NO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class kO{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${r}/databases/${s}`,this.Ko=this.databaseId.database===Dp?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Wo(e,n,r,s,o){const l=Wv(),u=this.Go(e,n.toUriEncodedString());Ae(U0,`Sending RPC '${e}' ${l}:`,u,r);const h={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(h,s,o);const{host:p}=new URL(u),v=Uc(p);return this.jo(e,u,h,r,v).then((y=>(Ae(U0,`Received RPC '${e}' ${l}: `,y),y)),(y=>{throw qd(U0,`RPC '${e}' ${l} failed with error: `,y,"url: ",u,"request:",r),y}))}Jo(e,n,r,s,o,l){return this.Wo(e,n,r,s,o)}zo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+$c})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((s,o)=>e[o]=s)),r&&r.headers.forEach(((s,o)=>e[o]=s))}Go(e,n){const r=NO[e];return`${this.$o}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zn="WebChannelConnection";class jO extends kO{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,r,s,o){const l=Wv();return new Promise(((u,h)=>{const p=new yT;p.setWithCredentials(!0),p.listenOnce(wT.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Xf.NO_ERROR:const y=p.getResponseJson();Ae(Zn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(y)),u(y);break;case Xf.TIMEOUT:Ae(Zn,`RPC '${e}' ${l} timed out`),h(new Ge(ye.DEADLINE_EXCEEDED,"Request time out"));break;case Xf.HTTP_ERROR:const T=p.getStatus();if(Ae(Zn,`RPC '${e}' ${l} failed with status:`,T,"response text:",p.getResponseText()),T>0){let k=p.getResponseJson();Array.isArray(k)&&(k=k[0]);const N=k==null?void 0:k.error;if(N&&N.status&&N.message){const D=(function(L){const U=L.toLowerCase().replace(/_/g,"-");return Object.values(ye).indexOf(U)>=0?U:ye.UNKNOWN})(N.status);h(new Ge(D,N.message))}else h(new Ge(ye.UNKNOWN,"Server responded with status "+p.getStatus()))}else h(new Ge(ye.UNAVAILABLE,"Connection failed."));break;default:Ye(9055,{c_:e,streamId:l,l_:p.getLastErrorCode(),h_:p.getLastError()})}}finally{Ae(Zn,`RPC '${e}' ${l} completed.`)}}));const v=JSON.stringify(s);Ae(Zn,`RPC '${e}' ${l} sending request:`,s),p.send(n,"POST",v,r,15)}))}P_(e,n,r){const s=Wv(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=ST(),u=ET(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(h.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(h.useFetchStreams=!0),this.zo(h.initMessageHeaders,n,r),h.encodeInitMessageHeaders=!0;const v=o.join("");Ae(Zn,`Creating RPC '${e}' stream ${s}: ${v}`,h);const y=l.createWebChannel(v,h);this.T_(y);let T=!1,k=!1;const N=new DO({Ho:j=>{k?Ae(Zn,`Not sending because RPC '${e}' stream ${s} is closed:`,j):(T||(Ae(Zn,`Opening RPC '${e}' stream ${s} transport.`),y.open(),T=!0),Ae(Zn,`RPC '${e}' stream ${s} sending:`,j),y.send(j))},Yo:()=>y.close()}),D=(j,L,U)=>{j.listen(L,(B=>{try{U(B)}catch(m){setTimeout((()=>{throw m}),0)}}))};return D(y,Xu.EventType.OPEN,(()=>{k||(Ae(Zn,`RPC '${e}' stream ${s} transport opened.`),N.s_())})),D(y,Xu.EventType.CLOSE,(()=>{k||(k=!0,Ae(Zn,`RPC '${e}' stream ${s} transport closed`),N.__(),this.I_(y))})),D(y,Xu.EventType.ERROR,(j=>{k||(k=!0,qd(Zn,`RPC '${e}' stream ${s} transport errored. Name:`,j.name,"Message:",j.message),N.__(new Ge(ye.UNAVAILABLE,"The operation could not be completed")))})),D(y,Xu.EventType.MESSAGE,(j=>{var L;if(!k){const U=j.data[0];nt(!!U,16349);const B=U,m=(B==null?void 0:B.error)||((L=B[0])===null||L===void 0?void 0:L.error);if(m){Ae(Zn,`RPC '${e}' stream ${s} received error:`,m);const S=m.status;let x=(function(R){const P=dn[R];if(P!==void 0)return RM(P)})(S),_=m.message;x===void 0&&(x=ye.INTERNAL,_="Unknown error status: "+S+" with message "+m.message),k=!0,N.__(new Ge(x,_)),y.close()}else Ae(Zn,`RPC '${e}' stream ${s} received:`,U),N.a_(U)}})),D(u,_T.STAT_EVENT,(j=>{j.stat===Cv.PROXY?Ae(Zn,`RPC '${e}' stream ${s} detected buffering proxy`):j.stat===Cv.NOPROXY&&Ae(Zn,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{N.o_()}),0),N}terminate(){this.u_.forEach((e=>e.close())),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter((n=>n===e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MO(){return typeof window<"u"?window:null}function op(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ub(t){return new DM(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{constructor(e,n,r=1e3,s=1.5,o=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=s,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),s=Math.max(0,n-r);s>0&&Ae("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,s,(()=>(this.m_=Date.now(),e()))),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g2="PersistentStream";class OO{constructor(e,n,r,s,o,l,u,h){this.Fi=e,this.w_=r,this.S_=s,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=h,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new Hb(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,(()=>this.L_())))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===ye.RESOURCE_EXHAUSTED?(Nr(n.toString()),Nr("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===ye.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.b_===n&&this.W_(r,s)}),(r=>{e((()=>{const s=new Ge(ye.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(s)}))}))}W_(e,n){const r=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.e_((()=>{r((()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,(()=>(this.x_()&&(this.state=3),Promise.resolve()))),this.listener.e_())))})),this.stream.n_((s=>{r((()=>this.G_(s)))})),this.stream.onMessage((s=>{r((()=>++this.C_==1?this.j_(s):this.onNext(s)))}))}O_(){this.state=5,this.F_.g_((async()=>{this.state=0,this.start()}))}G_(e){return Ae(g2,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget((()=>this.b_===e?n():(Ae(g2,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class LO extends OO{constructor(e,n,r,s,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,l),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return nt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,nt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){nt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=FM(e.writeResults,e.commitTime),r=Cs(e.commitTime);return this.listener.ta(r,n)}na(){const e={};e.database=OM(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>Fp(this.serializer,r)))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{}class VO extends FO{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ra=!1}ia(){if(this.ra)throw new Ge(ye.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,s){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,l])=>this.connection.Wo(e,Uv(n,r),s,o,l))).catch((o=>{throw o.name==="FirebaseError"?(o.code===ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ge(ye.UNKNOWN,o.toString())}))}Jo(e,n,r,s,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Jo(e,Uv(n,r),s,l,u,o))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ge(ye.UNKNOWN,l.toString())}))}terminate(){this.ra=!0,this.connection.terminate()}}class UO{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve()))))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Nr(n),this._a=!1):Ae("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wm="RemoteStore";class HO{constructor(e,n,r,s,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo((l=>{r.enqueueAndForget((async()=>{Em(this)&&(Ae(wm,"Restarting streams for network reachability change."),await(async function(h){const p=Bt(h);p.Ia.add(4),await _m(p),p.Aa.set("Unknown"),p.Ia.delete(4),await d1(p)})(this))}))})),this.Aa=new UO(r,s)}}async function d1(t){if(Em(t))for(const e of t.da)await e(!0)}async function _m(t){for(const e of t.da)await e(!1)}function Em(t){return Bt(t).Ia.size===0}async function Bb(t,e,n){if(!al(e))throw e;t.Ia.add(1),await _m(t),t.Aa.set("Offline"),n||(n=()=>AO(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Ae(wm,"Retrying IndexedDB access"),await n(),t.Ia.delete(1),await d1(t)}))}function $b(t,e){return e().catch((n=>Bb(t,n,e)))}async function Sm(t){const e=Bt(t),n=Yo(e);let r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:Ba;for(;BO(e);)try{const s=await RO(e.localStore,r);if(s===null){e.Pa.length===0&&n.B_();break}r=s.batchId,$O(e,s)}catch(s){await Bb(e,s)}zb(e)&&Wb(e)}function BO(t){return Em(t)&&t.Pa.length<10}function $O(t,e){t.Pa.push(e);const n=Yo(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function zb(t){return Em(t)&&!Yo(t).M_()&&t.Pa.length>0}function Wb(t){Yo(t).start()}async function zO(t){Yo(t).na()}async function WO(t){const e=Yo(t);for(const n of t.Pa)e.X_(n.mutations)}async function GO(t,e,n){const r=t.Pa.shift(),s=s1.from(r,e,n);await $b(t,(()=>t.remoteSyncer.applySuccessfulWrite(s))),await Sm(t)}async function qO(t,e){e&&Yo(t).Z_&&await(async function(r,s){if((function(l){return AM(l)&&l!==ye.ABORTED})(s.code)){const o=r.Pa.shift();Yo(r).N_(),await $b(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,s))),await Sm(r)}})(t,e),zb(t)&&Wb(t)}async function KO(t,e){const n=Bt(t);e?(n.Ia.delete(2),await d1(n)):e||(n.Ia.add(2),await _m(n),n.Aa.set("Unknown"))}function Yo(t){return t.ma||(t.ma=(function(n,r,s){const o=Bt(n);return o.ia(),new LO(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:zO.bind(null,t),n_:qO.bind(null,t),ea:WO.bind(null,t),ta:GO.bind(null,t)}),t.da.push((async e=>{e?(t.ma.N_(),await Sm(t)):(await t.ma.stop(),t.Pa.length>0&&(Ae(wm,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))}))),t.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(e,n,r,s,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=o,this.deferred=new Ha,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,o){const l=Date.now()+r,u=new h1(e,n,l,s,o);return u.start(r),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ge(ye.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function YO(t,e){if(Nr("AsyncQueue",`${e}: ${t}`),al(t))return new Ge(ye.UNAVAILABLE,`${e}: ${t}`);throw t}class ZO{constructor(){this.queries=v2(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,r){const s=Bt(n),o=s.queries;s.queries=v2(),o.forEach(((l,u)=>{for(const h of u.wa)h.onError(r)}))})(this,new Ge(ye.ABORTED,"Firestore shutting down"))}}function v2(){return new ea((t=>ab(t)),ob)}function QO(t){t.Da.forEach((e=>{e.next()}))}var y2,w2;(w2=y2||(y2={})).Fa="default",w2.Cache="cache";const XO="SyncEngine";class JO{constructor(e,n,r,s,o,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.hu={},this.Pu=new ea((u=>ab(u)),ob),this.Tu=new Map,this.Iu=new Set,this.du=new vr(ze.comparator),this.Eu=new Map,this.Au=new l1,this.Ru={},this.Vu=new Map,this.mu=nl.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}function _2(t,e,n){const r=Bt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Pu.forEach(((o,l)=>{const u=l.view.va(e);u.snapshot&&s.push(u.snapshot)})),(function(l,u){const h=Bt(l);h.onlineState=u;let p=!1;h.queries.forEach(((v,y)=>{for(const T of y.wa)T.va(u)&&(p=!0)})),p&&QO(h)})(r.eventManager,e),s.length&&r.hu.J_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function e6(t,e){const n=Bt(t),r=e.batch.batchId;try{const s=await IO(n.localStore,e);qb(n,r,null),Gb(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await f1(n,s)}catch(s){await im(s)}}async function t6(t,e,n){const r=Bt(t);try{const s=await(function(l,u){const h=Bt(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let v;return h.mutationQueue.lookupMutationBatch(p,u).next((y=>(nt(y!==null,37113),v=y.keys(),h.mutationQueue.removeMutationBatch(p,y)))).next((()=>h.mutationQueue.performConsistencyCheck(p))).next((()=>h.documentOverlayCache.removeOverlaysForBatchId(p,v,u))).next((()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,v))).next((()=>h.localDocuments.getDocuments(p,v)))}))})(r.localStore,e);qb(r,e,n),Gb(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await f1(r,s)}catch(s){await im(s)}}function Gb(t,e){(t.Vu.get(e)||[]).forEach((n=>{n.resolve()})),t.Vu.delete(e)}function qb(t,e,n){const r=Bt(t);let s=r.Ru[r.currentUser.toKey()];if(s){const o=s.get(e);o&&(n?o.reject(n):o.resolve(),s=s.remove(e)),r.Ru[r.currentUser.toKey()]=s}}async function f1(t,e,n){const r=Bt(t),s=[],o=[],l=[];r.Pu.isEmpty()||(r.Pu.forEach(((u,h)=>{l.push(r.gu(h,e,n).then((p=>{var v;if((p||n)&&r.isPrimaryClient){const y=p?!p.fromCache:(v=void 0)===null||v===void 0?void 0:v.current;r.sharedClientState.updateQueryState(h.targetId,y?"current":"not-current")}if(p){s.push(p);const y=u1.Es(h.targetId,p);o.push(y)}})))})),await Promise.all(l),r.hu.J_(s),await(async function(h,p){const v=Bt(h);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(y=>ie.forEach(p,(T=>ie.forEach(T.Is,(k=>v.persistence.referenceDelegate.addReference(y,T.targetId,k))).next((()=>ie.forEach(T.ds,(k=>v.persistence.referenceDelegate.removeReference(y,T.targetId,k)))))))))}catch(y){if(!al(y))throw y;Ae(TO,"Failed to update sequence numbers: "+y)}for(const y of p){const T=y.targetId;if(!y.fromCache){const k=v.Fs.get(T),N=k.snapshotVersion,D=k.withLastLimboFreeSnapshotVersion(N);v.Fs=v.Fs.insert(T,D)}}})(r.localStore,o))}async function n6(t,e){const n=Bt(t);if(!n.currentUser.isEqual(e)){Ae(XO,"User change. New user:",e.toKey());const r=await CO(n.localStore,e);n.currentUser=e,(function(o,l){o.Vu.forEach((u=>{u.forEach((h=>{h.reject(new Ge(ye.CANCELLED,l))}))})),o.Vu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await f1(n,r.Bs)}}function r6(t){const e=Bt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=e6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=t6.bind(null,e),e}class Gv{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ub(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return Fb(this.persistence,new Lb,e.initialUser,this.serializer)}Du(e){return new Ob(ym.Vi,this.serializer)}bu(e){return new Vb}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Gv.provider={build:()=>new Gv};class s6 extends Gv{constructor(e,n,r){super(),this.Mu=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Mu.initialize(this,e),await r6(this.Mu.syncEngine),await Sm(this.Mu.remoteStore),await this.persistence.ji((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return Fb(this.persistence,new Lb,e.initialUser,this.serializer)}Cu(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new iO(r,e.asyncQueue,n)}Fu(e,n){const r=new _j(n,this.persistence);return new wj(e.asyncQueue,r)}Du(e){const n=SO(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?pr.withCacheSize(this.cacheSizeBytes):pr.DEFAULT;return new c1(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,MO(),op(),this.serializer,this.sharedClientState,!!this.forceOwnership)}bu(e){return new Vb}}class qv{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>_2(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=n6.bind(null,this.syncEngine),await KO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new ZO})()}createDatastore(e){const n=Ub(e.databaseInfo.databaseId),r=(function(o){return new jO(o)})(e.databaseInfo);return(function(o,l,u,h){return new VO(o,l,u,h)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,s,o,l,u){return new HO(r,s,o,l,u)})(this.localStore,this.datastore,e.asyncQueue,(n=>_2(this.syncEngine,n,0)),(function(){return m2.C()?new m2:new PO})())}createSyncEngine(e,n){return(function(s,o,l,u,h,p,v){const y=new JO(s,o,l,u,h,p);return v&&(y.fu=!0),y})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(s){const o=Bt(s);Ae(wm,"RemoteStore shutting down."),o.Ia.add(5),await _m(o),o.Ea.shutdown(),o.Aa.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}qv.provider={build:()=>new qv};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E2="FirestoreClient";class i6{constructor(e,n,r,s,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Ln.UNAUTHENTICATED,this.clientId=bT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async l=>{Ae(E2,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(Ae(E2,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ha;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=YO(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kb(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yb="firestore.googleapis.com",x2=!0;class T2{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Ge(ye.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Yb,this.ssl=x2}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:x2;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Rb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<rO)throw new Ge(ye.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}fj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Kb((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Ge(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Ge(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Ge(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Zb{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new T2({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ge(ye.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ge(ye.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new T2(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new rj;switch(r.type){case"firstParty":return new aj(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ge(ye.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=S2.get(n);r&&(Ae("ComponentProvider","Removing Datastore"),S2.delete(n),r.terminate())})(this),Promise.resolve()}}function o6(t,e,n,r={}){var s;t=IT(t,Zb);const o=Uc(e),l=t._getSettings(),u=Object.assign(Object.assign({},l),{emulatorOptions:t._getEmulatorOptions()}),h=`${e}:${n}`;o&&(bx(`https://${h}`),Cx("Firestore",!0)),l.host!==Yb&&l.host!==h&&qd("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},l),{host:h,ssl:o,emulatorOptions:r});if(!Ka(p,u)&&(t._setSettings(p),r.mockUserToken)){let v,y;if(typeof r.mockUserToken=="string")v=r.mockUserToken,y=Ln.MOCK_USER;else{v=lk(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const T=r.mockUserToken.sub||r.mockUserToken.user_id;if(!T)throw new Ge(ye.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new Ln(T)}t._authCredentials=new sj(new TT(v,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new p1(this.firestore,e,this._query)}}class ri{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new m1(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ri(this.firestore,e,this._key)}toJSON(){return{type:ri._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Kd(n,ri._jsonSchema))return new ri(e,r||null,new ze(Kt.fromString(n.referencePath)))}}ri._jsonSchemaVersion="firestore/documentReference/1.0",ri._jsonSchema={type:pn("string",ri._jsonSchemaVersion),referencePath:pn("string")};class m1 extends p1{constructor(e,n,r){super(e,n,ib(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ri(this.firestore,null,new ze(e))}withConverter(e){return new m1(this.firestore,e,this._path)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b2="AsyncQueue";class C2{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new Hb(this,"async_queue_retry"),this.oc=()=>{const r=op();r&&Ae(b2,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;const n=op();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=op();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise((()=>{}));const n=new Ha;return this.uc((()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Zu.push(e),this.cc())))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!al(e))throw e;Ae(b2,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_((()=>this.cc()))}}uc(e){const n=this._c.then((()=>(this.nc=!0,e().catch((r=>{throw this.tc=r,this.nc=!1,Nr("INTERNAL UNHANDLED ERROR: ",I2(r)),r})).then((r=>(this.nc=!1,r))))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const s=h1.createAndSchedule(this,e,n,r,(o=>this.lc(o)));return this.ec.push(s),s}ac(){this.tc&&Ye(47125,{hc:I2(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then((()=>{this.ec.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()}))}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function I2(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Qb extends Zb{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new C2,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new C2(e),this._firestoreClient=void 0,await e}}}function a6(t,e){const n=typeof t=="object"?t:jx(),r=typeof t=="string"?t:Dp,s=Dy(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const o=ok("firestore");o&&o6(s,...o)}return s}function l6(t){var e,n,r;const s=t._freezeSettings(),o=(function(u,h,p,v){return new Zj(u,h,p,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,Kb(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)})(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new i6(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&(function(u){const h=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(h),_online:h}})(t._componentsProvider))}function c6(t,e){qd("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings();return u6(t,qv.provider,{build:r=>new s6(r,n.cacheSizeBytes,void 0)}),Promise.resolve()}function u6(t,e,n){if((t=IT(t,Qb))._firestoreClient||t._terminated)throw new Ge(ye.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new Ge(ye.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:n},l6(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Di(yr.fromBase64String(e))}catch(n){throw new Ge(ye.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Di(yr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Di._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Kd(e,Di._jsonSchema))return Di.fromBase64String(e.bytes)}}Di._jsonSchemaVersion="firestore/bytes/1.0",Di._jsonSchema={type:pn("string",Di._jsonSchemaVersion),bytes:pn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ge(ye.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ln(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ge(ye.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ge(ye.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ct(this._lat,e._lat)||ct(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:za._jsonSchemaVersion}}static fromJSON(e){if(Kd(e,za._jsonSchema))return new za(e.latitude,e.longitude)}}za._jsonSchemaVersion="firestore/geoPoint/1.0",za._jsonSchema={type:pn("string",za._jsonSchemaVersion),latitude:pn("number"),longitude:pn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,s){if(r.length!==s.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==s[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Wa._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Kd(e,Wa._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Wa(e.vectorValues);throw new Ge(ye.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Wa._jsonSchemaVersion="firestore/vectorValue/1.0",Wa._jsonSchema={type:pn("string",Wa._jsonSchemaVersion),vectorValues:pn("object")};const d6=new RegExp("[~\\*/\\[\\]]");function h6(t,e,n){if(e.search(d6)>=0)throw A2(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t);try{return new Xb(...e.split("."))._internalPath}catch{throw A2(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t)}}function A2(t,e,n,r,s){let o=`Function ${e}() called with invalid data`;o+=". ";let l="";return new Ge(ye.INVALID_ARGUMENT,o+t+l)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb{constructor(e,n,r,s,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new ri(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new f6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(eC("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class f6 extends Jb{data(){return super.data()}}function eC(t,e){return typeof e=="string"?h6(t,e):e instanceof Xb?e._internalPath:e._delegate._internalPath}class Df{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class mc extends Jb{constructor(e,n,r,s,o,l){super(e,n,r,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ap(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(eC("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ge(ye.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=mc._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}mc._jsonSchemaVersion="firestore/documentSnapshot/1.0",mc._jsonSchema={type:pn("string",mc._jsonSchemaVersion),bundleSource:pn("string","DocumentSnapshot"),bundleName:pn("string"),bundle:pn("string")};class ap extends mc{data(e={}){return super.data(e)}}class hd{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Df(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new ap(this._firestore,this._userDataWriter,r.key,r,new Df(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ge(ye.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(s,o){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map((u=>{const h=new ap(s._firestore,s._userDataWriter,u.doc.key,u.doc,new Df(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);return u.doc,{type:"added",doc:h,oldIndex:-1,newIndex:l++}}))}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((u=>o||u.type!==3)).map((u=>{const h=new ap(s._firestore,s._userDataWriter,u.doc.key,u.doc,new Df(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);let p=-1,v=-1;return u.type!==0&&(p=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),v=l.indexOf(u.doc.key)),{type:p6(u.type),doc:h,oldIndex:p,newIndex:v}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ge(ye.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=hd._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=bT.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach((o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),s.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function p6(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ye(61501,{type:t})}}hd._jsonSchemaVersion="firestore/querySnapshot/1.0",hd._jsonSchema={type:pn("string",hd._jsonSchemaVersion),bundleSource:pn("string","QuerySnapshot"),bundleName:pn("string"),bundle:pn("string")};(function(e,n=!0){(function(s){$c=s})(Hc),Ec(new Ya("firestore",((r,{instanceIdentifier:s,options:o})=>{const l=r.getProvider("app").getImmediate(),u=new Qb(new ij(r.getProvider("auth-internal")),new lj(l,r.getProvider("app-check-internal")),(function(p,v){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new Ge(ye.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Rc(p.options.projectId,v)})(l,s),l);return o=Object.assign({useFetchStreams:n},o),u._setSettings(o),u}),"PUBLIC").setMultipleInstances(!0)),zo(v5,y5,e),zo(v5,y5,"esm2017")})();const m6={apiKey:"AIzaSyBQjhn8UWI04UK-1DHPxzrITiscsqAH8fs",authDomain:"recard-78f7f.firebaseapp.com",projectId:"recard-78f7f",storageBucket:"recard-78f7f.firebasestorage.app",messagingSenderId:"859100544651",appId:"1:859100544651:web:e5e416d9d6a60ae1f9de8e",measurementId:"G-GPWTGNEJQ8"},tC=Dx(m6),gs=tj(tC),g6=a6(tC);c6(g6).catch(t=>{t.code==="failed-precondition"?console.warn("Firestore persistence failed: Multiple tabs open"):t.code==="unimplemented"?console.warn("Firestore persistence not supported by this browser"):console.error("Firestore persistence error:",t)});function nC(t,e){return function(){return t.apply(e,arguments)}}const{toString:v6}=Object.prototype,{getPrototypeOf:g1}=Object,xm=(t=>e=>{const n=v6.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Os=t=>(t=t.toLowerCase(),e=>xm(e)===t),Tm=t=>e=>typeof e===t,{isArray:Wc}=Array,Id=Tm("undefined");function y6(t){return t!==null&&!Id(t)&&t.constructor!==null&&!Id(t.constructor)&&kr(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const rC=Os("ArrayBuffer");function w6(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&rC(t.buffer),e}const _6=Tm("string"),kr=Tm("function"),sC=Tm("number"),bm=t=>t!==null&&typeof t=="object",E6=t=>t===!0||t===!1,lp=t=>{if(xm(t)!=="object")return!1;const e=g1(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},S6=Os("Date"),x6=Os("File"),T6=Os("Blob"),b6=Os("FileList"),C6=t=>bm(t)&&kr(t.pipe),I6=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||kr(t.append)&&((e=xm(t))==="formdata"||e==="object"&&kr(t.toString)&&t.toString()==="[object FormData]"))},A6=Os("URLSearchParams"),[R6,P6,N6,k6]=["ReadableStream","Request","Response","Headers"].map(Os),D6=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Xd(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,s;if(typeof t!="object"&&(t=[t]),Wc(t))for(r=0,s=t.length;r<s;r++)e.call(null,t[r],r,t);else{const o=n?Object.getOwnPropertyNames(t):Object.keys(t),l=o.length;let u;for(r=0;r<l;r++)u=o[r],e.call(null,t[u],u,t)}}function iC(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,s;for(;r-- >0;)if(s=n[r],e===s.toLowerCase())return s;return null}const Va=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,oC=t=>!Id(t)&&t!==Va;function Kv(){const{caseless:t}=oC(this)&&this||{},e={},n=(r,s)=>{const o=t&&iC(e,s)||s;lp(e[o])&&lp(r)?e[o]=Kv(e[o],r):lp(r)?e[o]=Kv({},r):Wc(r)?e[o]=r.slice():e[o]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&Xd(arguments[r],n);return e}const j6=(t,e,n,{allOwnKeys:r}={})=>(Xd(e,(s,o)=>{n&&kr(s)?t[o]=nC(s,n):t[o]=s},{allOwnKeys:r}),t),M6=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),O6=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},L6=(t,e,n,r)=>{let s,o,l;const u={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),o=s.length;o-- >0;)l=s[o],(!r||r(l,t,e))&&!u[l]&&(e[l]=t[l],u[l]=!0);t=n!==!1&&g1(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},F6=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},V6=t=>{if(!t)return null;if(Wc(t))return t;let e=t.length;if(!sC(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},U6=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&g1(Uint8Array)),H6=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let s;for(;(s=r.next())&&!s.done;){const o=s.value;e.call(t,o[0],o[1])}},B6=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},$6=Os("HTMLFormElement"),z6=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),R2=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),W6=Os("RegExp"),aC=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Xd(n,(s,o)=>{let l;(l=e(s,o,t))!==!1&&(r[o]=l||s)}),Object.defineProperties(t,r)},G6=t=>{aC(t,(e,n)=>{if(kr(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(kr(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},q6=(t,e)=>{const n={},r=s=>{s.forEach(o=>{n[o]=!0})};return Wc(t)?r(t):r(String(t).split(e)),n},K6=()=>{},Y6=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,H0="abcdefghijklmnopqrstuvwxyz",P2="0123456789",lC={DIGIT:P2,ALPHA:H0,ALPHA_DIGIT:H0+H0.toUpperCase()+P2},Z6=(t=16,e=lC.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function Q6(t){return!!(t&&kr(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const X6=t=>{const e=new Array(10),n=(r,s)=>{if(bm(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[s]=r;const o=Wc(r)?[]:{};return Xd(r,(l,u)=>{const h=n(l,s+1);!Id(h)&&(o[u]=h)}),e[s]=void 0,o}}return r};return n(t,0)},J6=Os("AsyncFunction"),e4=t=>t&&(bm(t)||kr(t))&&kr(t.then)&&kr(t.catch),cC=((t,e)=>t?setImmediate:e?((n,r)=>(Va.addEventListener("message",({source:s,data:o})=>{s===Va&&o===n&&r.length&&r.shift()()},!1),s=>{r.push(s),Va.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",kr(Va.postMessage)),t4=typeof queueMicrotask<"u"?queueMicrotask.bind(Va):typeof process<"u"&&process.nextTick||cC,le={isArray:Wc,isArrayBuffer:rC,isBuffer:y6,isFormData:I6,isArrayBufferView:w6,isString:_6,isNumber:sC,isBoolean:E6,isObject:bm,isPlainObject:lp,isReadableStream:R6,isRequest:P6,isResponse:N6,isHeaders:k6,isUndefined:Id,isDate:S6,isFile:x6,isBlob:T6,isRegExp:W6,isFunction:kr,isStream:C6,isURLSearchParams:A6,isTypedArray:U6,isFileList:b6,forEach:Xd,merge:Kv,extend:j6,trim:D6,stripBOM:M6,inherits:O6,toFlatObject:L6,kindOf:xm,kindOfTest:Os,endsWith:F6,toArray:V6,forEachEntry:H6,matchAll:B6,isHTMLForm:$6,hasOwnProperty:R2,hasOwnProp:R2,reduceDescriptors:aC,freezeMethods:G6,toObjectSet:q6,toCamelCase:z6,noop:K6,toFiniteNumber:Y6,findKey:iC,global:Va,isContextDefined:oC,ALPHABET:lC,generateString:Z6,isSpecCompliantForm:Q6,toJSONObject:X6,isAsyncFn:J6,isThenable:e4,setImmediate:cC,asap:t4};function at(t,e,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}le.inherits(at,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:le.toJSONObject(this.config),code:this.code,status:this.status}}});const uC=at.prototype,dC={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{dC[t]={value:t}});Object.defineProperties(at,dC);Object.defineProperty(uC,"isAxiosError",{value:!0});at.from=(t,e,n,r,s,o)=>{const l=Object.create(uC);return le.toFlatObject(t,l,function(h){return h!==Error.prototype},u=>u!=="isAxiosError"),at.call(l,t.message,e,n,r,s),l.cause=t,l.name=t.name,o&&Object.assign(l,o),l};const n4=null;function Yv(t){return le.isPlainObject(t)||le.isArray(t)}function hC(t){return le.endsWith(t,"[]")?t.slice(0,-2):t}function N2(t,e,n){return t?t.concat(e).map(function(s,o){return s=hC(s),!n&&o?"["+s+"]":s}).join(n?".":""):e}function r4(t){return le.isArray(t)&&!t.some(Yv)}const s4=le.toFlatObject(le,{},null,function(e){return/^is[A-Z]/.test(e)});function Cm(t,e,n){if(!le.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=le.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(D,j){return!le.isUndefined(j[D])});const r=n.metaTokens,s=n.visitor||v,o=n.dots,l=n.indexes,h=(n.Blob||typeof Blob<"u"&&Blob)&&le.isSpecCompliantForm(e);if(!le.isFunction(s))throw new TypeError("visitor must be a function");function p(N){if(N===null)return"";if(le.isDate(N))return N.toISOString();if(!h&&le.isBlob(N))throw new at("Blob is not supported. Use a Buffer instead.");return le.isArrayBuffer(N)||le.isTypedArray(N)?h&&typeof Blob=="function"?new Blob([N]):Buffer.from(N):N}function v(N,D,j){let L=N;if(N&&!j&&typeof N=="object"){if(le.endsWith(D,"{}"))D=r?D:D.slice(0,-2),N=JSON.stringify(N);else if(le.isArray(N)&&r4(N)||(le.isFileList(N)||le.endsWith(D,"[]"))&&(L=le.toArray(N)))return D=hC(D),L.forEach(function(B,m){!(le.isUndefined(B)||B===null)&&e.append(l===!0?N2([D],m,o):l===null?D:D+"[]",p(B))}),!1}return Yv(N)?!0:(e.append(N2(j,D,o),p(N)),!1)}const y=[],T=Object.assign(s4,{defaultVisitor:v,convertValue:p,isVisitable:Yv});function k(N,D){if(!le.isUndefined(N)){if(y.indexOf(N)!==-1)throw Error("Circular reference detected in "+D.join("."));y.push(N),le.forEach(N,function(L,U){(!(le.isUndefined(L)||L===null)&&s.call(e,L,le.isString(U)?U.trim():U,D,T))===!0&&k(L,D?D.concat(U):[U])}),y.pop()}}if(!le.isObject(t))throw new TypeError("data must be an object");return k(t),e}function k2(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function v1(t,e){this._pairs=[],t&&Cm(t,this,e)}const fC=v1.prototype;fC.append=function(e,n){this._pairs.push([e,n])};fC.toString=function(e){const n=e?function(r){return e.call(this,r,k2)}:k2;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function i4(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function pC(t,e,n){if(!e)return t;const r=n&&n.encode||i4,s=n&&n.serialize;let o;if(s?o=s(e,n):o=le.isURLSearchParams(e)?e.toString():new v1(e,n).toString(r),o){const l=t.indexOf("#");l!==-1&&(t=t.slice(0,l)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class D2{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){le.forEach(this.handlers,function(r){r!==null&&e(r)})}}const mC={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},o4=typeof URLSearchParams<"u"?URLSearchParams:v1,a4=typeof FormData<"u"?FormData:null,l4=typeof Blob<"u"?Blob:null,c4={isBrowser:!0,classes:{URLSearchParams:o4,FormData:a4,Blob:l4},protocols:["http","https","file","blob","url","data"]},y1=typeof window<"u"&&typeof document<"u",Zv=typeof navigator=="object"&&navigator||void 0,u4=y1&&(!Zv||["ReactNative","NativeScript","NS"].indexOf(Zv.product)<0),d4=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",h4=y1&&window.location.href||"http://localhost",f4=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:y1,hasStandardBrowserEnv:u4,hasStandardBrowserWebWorkerEnv:d4,navigator:Zv,origin:h4},Symbol.toStringTag,{value:"Module"})),mr={...f4,...c4};function p4(t,e){return Cm(t,new mr.classes.URLSearchParams,Object.assign({visitor:function(n,r,s,o){return mr.isNode&&le.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function m4(t){return le.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function g4(t){const e={},n=Object.keys(t);let r;const s=n.length;let o;for(r=0;r<s;r++)o=n[r],e[o]=t[o];return e}function gC(t){function e(n,r,s,o){let l=n[o++];if(l==="__proto__")return!0;const u=Number.isFinite(+l),h=o>=n.length;return l=!l&&le.isArray(s)?s.length:l,h?(le.hasOwnProp(s,l)?s[l]=[s[l],r]:s[l]=r,!u):((!s[l]||!le.isObject(s[l]))&&(s[l]=[]),e(n,r,s[l],o)&&le.isArray(s[l])&&(s[l]=g4(s[l])),!u)}if(le.isFormData(t)&&le.isFunction(t.entries)){const n={};return le.forEachEntry(t,(r,s)=>{e(m4(r),s,n,0)}),n}return null}function v4(t,e,n){if(le.isString(t))try{return(e||JSON.parse)(t),le.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const Jd={transitional:mC,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,o=le.isObject(e);if(o&&le.isHTMLForm(e)&&(e=new FormData(e)),le.isFormData(e))return s?JSON.stringify(gC(e)):e;if(le.isArrayBuffer(e)||le.isBuffer(e)||le.isStream(e)||le.isFile(e)||le.isBlob(e)||le.isReadableStream(e))return e;if(le.isArrayBufferView(e))return e.buffer;if(le.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let u;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return p4(e,this.formSerializer).toString();if((u=le.isFileList(e))||r.indexOf("multipart/form-data")>-1){const h=this.env&&this.env.FormData;return Cm(u?{"files[]":e}:e,h&&new h,this.formSerializer)}}return o||s?(n.setContentType("application/json",!1),v4(e)):e}],transformResponse:[function(e){const n=this.transitional||Jd.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(le.isResponse(e)||le.isReadableStream(e))return e;if(e&&le.isString(e)&&(r&&!this.responseType||s)){const l=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(u){if(l)throw u.name==="SyntaxError"?at.from(u,at.ERR_BAD_RESPONSE,this,null,this.response):u}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:mr.classes.FormData,Blob:mr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};le.forEach(["delete","get","head","post","put","patch"],t=>{Jd.headers[t]={}});const y4=le.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),w4=t=>{const e={};let n,r,s;return t&&t.split(`
`).forEach(function(l){s=l.indexOf(":"),n=l.substring(0,s).trim().toLowerCase(),r=l.substring(s+1).trim(),!(!n||e[n]&&y4[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},j2=Symbol("internals");function Gu(t){return t&&String(t).trim().toLowerCase()}function cp(t){return t===!1||t==null?t:le.isArray(t)?t.map(cp):String(t)}function _4(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const E4=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function B0(t,e,n,r,s){if(le.isFunction(r))return r.call(this,e,n);if(s&&(e=n),!!le.isString(e)){if(le.isString(r))return e.indexOf(r)!==-1;if(le.isRegExp(r))return r.test(e)}}function S4(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function x4(t,e){const n=le.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(s,o,l){return this[r].call(this,e,s,o,l)},configurable:!0})})}let gr=class{constructor(e){e&&this.set(e)}set(e,n,r){const s=this;function o(u,h,p){const v=Gu(h);if(!v)throw new Error("header name must be a non-empty string");const y=le.findKey(s,v);(!y||s[y]===void 0||p===!0||p===void 0&&s[y]!==!1)&&(s[y||h]=cp(u))}const l=(u,h)=>le.forEach(u,(p,v)=>o(p,v,h));if(le.isPlainObject(e)||e instanceof this.constructor)l(e,n);else if(le.isString(e)&&(e=e.trim())&&!E4(e))l(w4(e),n);else if(le.isHeaders(e))for(const[u,h]of e.entries())o(h,u,r);else e!=null&&o(n,e,r);return this}get(e,n){if(e=Gu(e),e){const r=le.findKey(this,e);if(r){const s=this[r];if(!n)return s;if(n===!0)return _4(s);if(le.isFunction(n))return n.call(this,s,r);if(le.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Gu(e),e){const r=le.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||B0(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let s=!1;function o(l){if(l=Gu(l),l){const u=le.findKey(r,l);u&&(!n||B0(r,r[u],u,n))&&(delete r[u],s=!0)}}return le.isArray(e)?e.forEach(o):o(e),s}clear(e){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const o=n[r];(!e||B0(this,this[o],o,e,!0))&&(delete this[o],s=!0)}return s}normalize(e){const n=this,r={};return le.forEach(this,(s,o)=>{const l=le.findKey(r,o);if(l){n[l]=cp(s),delete n[o];return}const u=e?S4(o):String(o).trim();u!==o&&delete n[o],n[u]=cp(s),r[u]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return le.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=e&&le.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(s=>r.set(s)),r}static accessor(e){const r=(this[j2]=this[j2]={accessors:{}}).accessors,s=this.prototype;function o(l){const u=Gu(l);r[u]||(x4(s,l),r[u]=!0)}return le.isArray(e)?e.forEach(o):o(e),this}};gr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);le.reduceDescriptors(gr.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});le.freezeMethods(gr);function $0(t,e){const n=this||Jd,r=e||n,s=gr.from(r.headers);let o=r.data;return le.forEach(t,function(u){o=u.call(n,o,s.normalize(),e?e.status:void 0)}),s.normalize(),o}function vC(t){return!!(t&&t.__CANCEL__)}function Gc(t,e,n){at.call(this,t??"canceled",at.ERR_CANCELED,e,n),this.name="CanceledError"}le.inherits(Gc,at,{__CANCEL__:!0});function yC(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new at("Request failed with status code "+n.status,[at.ERR_BAD_REQUEST,at.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function T4(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function b4(t,e){t=t||10;const n=new Array(t),r=new Array(t);let s=0,o=0,l;return e=e!==void 0?e:1e3,function(h){const p=Date.now(),v=r[o];l||(l=p),n[s]=h,r[s]=p;let y=o,T=0;for(;y!==s;)T+=n[y++],y=y%t;if(s=(s+1)%t,s===o&&(o=(o+1)%t),p-l<e)return;const k=v&&p-v;return k?Math.round(T*1e3/k):void 0}}function C4(t,e){let n=0,r=1e3/e,s,o;const l=(p,v=Date.now())=>{n=v,s=null,o&&(clearTimeout(o),o=null),t.apply(null,p)};return[(...p)=>{const v=Date.now(),y=v-n;y>=r?l(p,v):(s=p,o||(o=setTimeout(()=>{o=null,l(s)},r-y)))},()=>s&&l(s)]}const Bp=(t,e,n=3)=>{let r=0;const s=b4(50,250);return C4(o=>{const l=o.loaded,u=o.lengthComputable?o.total:void 0,h=l-r,p=s(h),v=l<=u;r=l;const y={loaded:l,total:u,progress:u?l/u:void 0,bytes:h,rate:p||void 0,estimated:p&&u&&v?(u-l)/p:void 0,event:o,lengthComputable:u!=null,[e?"download":"upload"]:!0};t(y)},n)},M2=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},O2=t=>(...e)=>le.asap(()=>t(...e)),I4=mr.hasStandardBrowserEnv?(function(){const e=mr.navigator&&/(msie|trident)/i.test(mr.navigator.userAgent),n=document.createElement("a");let r;function s(o){let l=o;return e&&(n.setAttribute("href",l),l=n.href),n.setAttribute("href",l),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=s(window.location.href),function(l){const u=le.isString(l)?s(l):l;return u.protocol===r.protocol&&u.host===r.host}})():(function(){return function(){return!0}})(),A4=mr.hasStandardBrowserEnv?{write(t,e,n,r,s,o){const l=[t+"="+encodeURIComponent(e)];le.isNumber(n)&&l.push("expires="+new Date(n).toGMTString()),le.isString(r)&&l.push("path="+r),le.isString(s)&&l.push("domain="+s),o===!0&&l.push("secure"),document.cookie=l.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function R4(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function P4(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function wC(t,e){return t&&!R4(e)?P4(t,e):e}const L2=t=>t instanceof gr?{...t}:t;function rl(t,e){e=e||{};const n={};function r(p,v,y){return le.isPlainObject(p)&&le.isPlainObject(v)?le.merge.call({caseless:y},p,v):le.isPlainObject(v)?le.merge({},v):le.isArray(v)?v.slice():v}function s(p,v,y){if(le.isUndefined(v)){if(!le.isUndefined(p))return r(void 0,p,y)}else return r(p,v,y)}function o(p,v){if(!le.isUndefined(v))return r(void 0,v)}function l(p,v){if(le.isUndefined(v)){if(!le.isUndefined(p))return r(void 0,p)}else return r(void 0,v)}function u(p,v,y){if(y in e)return r(p,v);if(y in t)return r(void 0,p)}const h={url:o,method:o,data:o,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:u,headers:(p,v)=>s(L2(p),L2(v),!0)};return le.forEach(Object.keys(Object.assign({},t,e)),function(v){const y=h[v]||s,T=y(t[v],e[v],v);le.isUndefined(T)&&y!==u||(n[v]=T)}),n}const _C=t=>{const e=rl({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:o,headers:l,auth:u}=e;e.headers=l=gr.from(l),e.url=pC(wC(e.baseURL,e.url),t.params,t.paramsSerializer),u&&l.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):"")));let h;if(le.isFormData(n)){if(mr.hasStandardBrowserEnv||mr.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if((h=l.getContentType())!==!1){const[p,...v]=h?h.split(";").map(y=>y.trim()).filter(Boolean):[];l.setContentType([p||"multipart/form-data",...v].join("; "))}}if(mr.hasStandardBrowserEnv&&(r&&le.isFunction(r)&&(r=r(e)),r||r!==!1&&I4(e.url))){const p=s&&o&&A4.read(o);p&&l.set(s,p)}return e},N4=typeof XMLHttpRequest<"u",k4=N4&&function(t){return new Promise(function(n,r){const s=_C(t);let o=s.data;const l=gr.from(s.headers).normalize();let{responseType:u,onUploadProgress:h,onDownloadProgress:p}=s,v,y,T,k,N;function D(){k&&k(),N&&N(),s.cancelToken&&s.cancelToken.unsubscribe(v),s.signal&&s.signal.removeEventListener("abort",v)}let j=new XMLHttpRequest;j.open(s.method.toUpperCase(),s.url,!0),j.timeout=s.timeout;function L(){if(!j)return;const B=gr.from("getAllResponseHeaders"in j&&j.getAllResponseHeaders()),S={data:!u||u==="text"||u==="json"?j.responseText:j.response,status:j.status,statusText:j.statusText,headers:B,config:t,request:j};yC(function(_){n(_),D()},function(_){r(_),D()},S),j=null}"onloadend"in j?j.onloadend=L:j.onreadystatechange=function(){!j||j.readyState!==4||j.status===0&&!(j.responseURL&&j.responseURL.indexOf("file:")===0)||setTimeout(L)},j.onabort=function(){j&&(r(new at("Request aborted",at.ECONNABORTED,t,j)),j=null)},j.onerror=function(){r(new at("Network Error",at.ERR_NETWORK,t,j)),j=null},j.ontimeout=function(){let m=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const S=s.transitional||mC;s.timeoutErrorMessage&&(m=s.timeoutErrorMessage),r(new at(m,S.clarifyTimeoutError?at.ETIMEDOUT:at.ECONNABORTED,t,j)),j=null},o===void 0&&l.setContentType(null),"setRequestHeader"in j&&le.forEach(l.toJSON(),function(m,S){j.setRequestHeader(S,m)}),le.isUndefined(s.withCredentials)||(j.withCredentials=!!s.withCredentials),u&&u!=="json"&&(j.responseType=s.responseType),p&&([T,N]=Bp(p,!0),j.addEventListener("progress",T)),h&&j.upload&&([y,k]=Bp(h),j.upload.addEventListener("progress",y),j.upload.addEventListener("loadend",k)),(s.cancelToken||s.signal)&&(v=B=>{j&&(r(!B||B.type?new Gc(null,t,j):B),j.abort(),j=null)},s.cancelToken&&s.cancelToken.subscribe(v),s.signal&&(s.signal.aborted?v():s.signal.addEventListener("abort",v)));const U=T4(s.url);if(U&&mr.protocols.indexOf(U)===-1){r(new at("Unsupported protocol "+U+":",at.ERR_BAD_REQUEST,t));return}j.send(o||null)})},D4=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,s;const o=function(p){if(!s){s=!0,u();const v=p instanceof Error?p:this.reason;r.abort(v instanceof at?v:new Gc(v instanceof Error?v.message:v))}};let l=e&&setTimeout(()=>{l=null,o(new at(`timeout ${e} of ms exceeded`,at.ETIMEDOUT))},e);const u=()=>{t&&(l&&clearTimeout(l),l=null,t.forEach(p=>{p.unsubscribe?p.unsubscribe(o):p.removeEventListener("abort",o)}),t=null)};t.forEach(p=>p.addEventListener("abort",o));const{signal:h}=r;return h.unsubscribe=()=>le.asap(u),h}},j4=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,s;for(;r<n;)s=r+e,yield t.slice(r,s),r=s},M4=async function*(t,e){for await(const n of O4(t))yield*j4(n,e)},O4=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},F2=(t,e,n,r)=>{const s=M4(t,e);let o=0,l,u=h=>{l||(l=!0,r&&r(h))};return new ReadableStream({async pull(h){try{const{done:p,value:v}=await s.next();if(p){u(),h.close();return}let y=v.byteLength;if(n){let T=o+=y;n(T)}h.enqueue(new Uint8Array(v))}catch(p){throw u(p),p}},cancel(h){return u(h),s.return()}},{highWaterMark:2})},Im=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",EC=Im&&typeof ReadableStream=="function",L4=Im&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),SC=(t,...e)=>{try{return!!t(...e)}catch{return!1}},F4=EC&&SC(()=>{let t=!1;const e=new Request(mr.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),V2=64*1024,Qv=EC&&SC(()=>le.isReadableStream(new Response("").body)),$p={stream:Qv&&(t=>t.body)};Im&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!$p[e]&&($p[e]=le.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new at(`Response type '${e}' is not supported`,at.ERR_NOT_SUPPORT,r)})})})(new Response);const V4=async t=>{if(t==null)return 0;if(le.isBlob(t))return t.size;if(le.isSpecCompliantForm(t))return(await new Request(mr.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(le.isArrayBufferView(t)||le.isArrayBuffer(t))return t.byteLength;if(le.isURLSearchParams(t)&&(t=t+""),le.isString(t))return(await L4(t)).byteLength},U4=async(t,e)=>{const n=le.toFiniteNumber(t.getContentLength());return n??V4(e)},H4=Im&&(async t=>{let{url:e,method:n,data:r,signal:s,cancelToken:o,timeout:l,onDownloadProgress:u,onUploadProgress:h,responseType:p,headers:v,withCredentials:y="same-origin",fetchOptions:T}=_C(t);p=p?(p+"").toLowerCase():"text";let k=D4([s,o&&o.toAbortSignal()],l),N;const D=k&&k.unsubscribe&&(()=>{k.unsubscribe()});let j;try{if(h&&F4&&n!=="get"&&n!=="head"&&(j=await U4(v,r))!==0){let S=new Request(e,{method:"POST",body:r,duplex:"half"}),x;if(le.isFormData(r)&&(x=S.headers.get("content-type"))&&v.setContentType(x),S.body){const[_,b]=M2(j,Bp(O2(h)));r=F2(S.body,V2,_,b)}}le.isString(y)||(y=y?"include":"omit");const L="credentials"in Request.prototype;N=new Request(e,{...T,signal:k,method:n.toUpperCase(),headers:v.normalize().toJSON(),body:r,duplex:"half",credentials:L?y:void 0});let U=await fetch(N);const B=Qv&&(p==="stream"||p==="response");if(Qv&&(u||B&&D)){const S={};["status","statusText","headers"].forEach(R=>{S[R]=U[R]});const x=le.toFiniteNumber(U.headers.get("content-length")),[_,b]=u&&M2(x,Bp(O2(u),!0))||[];U=new Response(F2(U.body,V2,_,()=>{b&&b(),D&&D()}),S)}p=p||"text";let m=await $p[le.findKey($p,p)||"text"](U,t);return!B&&D&&D(),await new Promise((S,x)=>{yC(S,x,{data:m,headers:gr.from(U.headers),status:U.status,statusText:U.statusText,config:t,request:N})})}catch(L){throw D&&D(),L&&L.name==="TypeError"&&/fetch/i.test(L.message)?Object.assign(new at("Network Error",at.ERR_NETWORK,t,N),{cause:L.cause||L}):at.from(L,L&&L.code,t,N)}}),Xv={http:n4,xhr:k4,fetch:H4};le.forEach(Xv,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const U2=t=>`- ${t}`,B4=t=>le.isFunction(t)||t===null||t===!1,xC={getAdapter:t=>{t=le.isArray(t)?t:[t];const{length:e}=t;let n,r;const s={};for(let o=0;o<e;o++){n=t[o];let l;if(r=n,!B4(n)&&(r=Xv[(l=String(n)).toLowerCase()],r===void 0))throw new at(`Unknown adapter '${l}'`);if(r)break;s[l||"#"+o]=r}if(!r){const o=Object.entries(s).map(([u,h])=>`adapter ${u} `+(h===!1?"is not supported by the environment":"is not available in the build"));let l=e?o.length>1?`since :
`+o.map(U2).join(`
`):" "+U2(o[0]):"as no adapter specified";throw new at("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return r},adapters:Xv};function z0(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Gc(null,t)}function H2(t){return z0(t),t.headers=gr.from(t.headers),t.data=$0.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),xC.getAdapter(t.adapter||Jd.adapter)(t).then(function(r){return z0(t),r.data=$0.call(t,t.transformResponse,r),r.headers=gr.from(r.headers),r},function(r){return vC(r)||(z0(t),r&&r.response&&(r.response.data=$0.call(t,t.transformResponse,r.response),r.response.headers=gr.from(r.response.headers))),Promise.reject(r)})}const TC="1.7.7",w1={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{w1[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const B2={};w1.transitional=function(e,n,r){function s(o,l){return"[Axios v"+TC+"] Transitional option '"+o+"'"+l+(r?". "+r:"")}return(o,l,u)=>{if(e===!1)throw new at(s(l," has been removed"+(n?" in "+n:"")),at.ERR_DEPRECATED);return n&&!B2[l]&&(B2[l]=!0,console.warn(s(l," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(o,l,u):!0}};function $4(t,e,n){if(typeof t!="object")throw new at("options must be an object",at.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let s=r.length;for(;s-- >0;){const o=r[s],l=e[o];if(l){const u=t[o],h=u===void 0||l(u,o,t);if(h!==!0)throw new at("option "+o+" must be "+h,at.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new at("Unknown option "+o,at.ERR_BAD_OPTION)}}const Jv={assertOptions:$4,validators:w1},Ao=Jv.validators;let Ga=class{constructor(e){this.defaults=e,this.interceptors={request:new D2,response:new D2}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let s;Error.captureStackTrace?Error.captureStackTrace(s={}):s=new Error;const o=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=rl(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:o}=n;r!==void 0&&Jv.assertOptions(r,{silentJSONParsing:Ao.transitional(Ao.boolean),forcedJSONParsing:Ao.transitional(Ao.boolean),clarifyTimeoutError:Ao.transitional(Ao.boolean)},!1),s!=null&&(le.isFunction(s)?n.paramsSerializer={serialize:s}:Jv.assertOptions(s,{encode:Ao.function,serialize:Ao.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let l=o&&le.merge(o.common,o[n.method]);o&&le.forEach(["delete","get","head","post","put","patch","common"],N=>{delete o[N]}),n.headers=gr.concat(l,o);const u=[];let h=!0;this.interceptors.request.forEach(function(D){typeof D.runWhen=="function"&&D.runWhen(n)===!1||(h=h&&D.synchronous,u.unshift(D.fulfilled,D.rejected))});const p=[];this.interceptors.response.forEach(function(D){p.push(D.fulfilled,D.rejected)});let v,y=0,T;if(!h){const N=[H2.bind(this),void 0];for(N.unshift.apply(N,u),N.push.apply(N,p),T=N.length,v=Promise.resolve(n);y<T;)v=v.then(N[y++],N[y++]);return v}T=u.length;let k=n;for(y=0;y<T;){const N=u[y++],D=u[y++];try{k=N(k)}catch(j){D.call(this,j);break}}try{v=H2.call(this,k)}catch(N){return Promise.reject(N)}for(y=0,T=p.length;y<T;)v=v.then(p[y++],p[y++]);return v}getUri(e){e=rl(this.defaults,e);const n=wC(e.baseURL,e.url);return pC(n,e.params,e.paramsSerializer)}};le.forEach(["delete","get","head","options"],function(e){Ga.prototype[e]=function(n,r){return this.request(rl(r||{},{method:e,url:n,data:(r||{}).data}))}});le.forEach(["post","put","patch"],function(e){function n(r){return function(o,l,u){return this.request(rl(u||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:l}))}}Ga.prototype[e]=n(),Ga.prototype[e+"Form"]=n(!0)});let z4=class bC{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(s=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](s);r._listeners=null}),this.promise.then=s=>{let o;const l=new Promise(u=>{r.subscribe(u),o=u}).then(s);return l.cancel=function(){r.unsubscribe(o)},l},e(function(o,l,u){r.reason||(r.reason=new Gc(o,l,u),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new bC(function(s){e=s}),cancel:e}}};function W4(t){return function(n){return t.apply(null,n)}}function G4(t){return le.isObject(t)&&t.isAxiosError===!0}const ey={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ey).forEach(([t,e])=>{ey[e]=t});function CC(t){const e=new Ga(t),n=nC(Ga.prototype.request,e);return le.extend(n,Ga.prototype,e,{allOwnKeys:!0}),le.extend(n,e,null,{allOwnKeys:!0}),n.create=function(s){return CC(rl(t,s))},n}const $e=CC(Jd);$e.Axios=Ga;$e.CanceledError=Gc;$e.CancelToken=z4;$e.isCancel=vC;$e.VERSION=TC;$e.toFormData=Cm;$e.AxiosError=at;$e.Cancel=$e.CanceledError;$e.all=function(e){return Promise.all(e)};$e.spread=W4;$e.isAxiosError=G4;$e.mergeConfig=rl;$e.AxiosHeaders=gr;$e.formToJSON=t=>gC(le.isHTMLForm(t)?new FormData(t):t);$e.getAdapter=xC.getAdapter;$e.HttpStatusCode=ey;$e.default=$e;const{Axios:lz,AxiosError:cz,CanceledError:uz,isCancel:dz,CancelToken:hz,VERSION:fz,all:pz,Cancel:mz,isAxiosError:gz,spread:vz,toFormData:yz,AxiosHeaders:wz,HttpStatusCode:_z,formToJSON:Ez,getAdapter:Sz,mergeConfig:xz}=$e,IC={async fetchUserSubscriptionPlan(){const t=await ht(),e=await $e.get(`${dt}/users/subscription/plan`,{headers:t});return e.data.success&&e.data.subscriptionPlan&&Object.values(Ts).includes(e.data.subscriptionPlan)?e.data.subscriptionPlan:Ts.FREE},async fetchAccountCreationDate(){var t;try{const e=await ht(),n=await $e.get(`${dt}/users/account-created`,{headers:e});return(t=n.data)!=null&&t.createdAt?new Date(n.data.createdAt):null}catch{return null}}},qr={async updateUserCards(t){const e=await ht();await $e.post(`${dt}/users/cards/update`,{returnCreditCards:t},{headers:e})},async fetchUserCardDetails(){const t=await ht();return(await $e.get(`${dt}/users/cards/details`,{headers:t})).data},async fetchUserCardsDetailedInfo(){const t=await ht();return(await $e.get(`${dt}/credit-cards/list/details`,{headers:t,params:{userCardsOnly:!0}})).data},async fetchUserWalletHistory(){const t=await ht();return(await $e.get(`${dt}/users/cards/wallet-history`,{headers:t})).data}},Xr={async deleteHistoryEntry(t){const e=await ht();await $e.delete(`${dt}/users/history/${t}`,{headers:e})},async fetchPagedHistory(t){const e=await ht();return(await $e.get(`${dt}/users/history`,{headers:e,params:t})).data},async fetchFirstEntryDate(){const t=await ht();return(await $e.get(`${dt}/users/history/start_date`,{headers:t})).data},async deleteAllHistory(){const t=await ht();if((await $e.delete(`${dt}/users/history/all`,{headers:t})).status!==200)throw new Error("Failed to delete chat history")},async fetchChatHistoryById(t){const e=await ht();return(await $e.get(`${dt}/users/history/${t}`,{headers:e})).data},async createChatHistory(t,e,n){const r=await ht();return(await $e.post(`${dt}/users/history`,{chatHistory:t,promptSolutions:e},{headers:r,signal:n})).data},async updateChatHistory(t,e,n,r){const s=await ht();await $e.put(`${dt}/users/history/${t}`,{chatHistory:e,promptSolutions:n},{headers:s,signal:r})},async updateTransactionCardSelection(t,e){const n=await ht();await $e.put(`${dt}/users/history/${t}/transaction_card_selection`,{cardSelection:e},{headers:n})},async updateChatDescription(t,e){const n=await ht();await $e.put(`${dt}/users/history/${t}/chat_description`,{chatDescription:e},{headers:n})}},fd={async loadInstructionsPreferences(){const t=await ht();return(await $e.get(`${dt}/users/preferences/instructions`,{headers:t})).data},async updateInstructionsPreference(t){const e=await ht();await $e.post(`${dt}/users/preferences/instructions`,{instructions:t},{headers:e})},async loadChatHistoryPreferences(){const t=await ht();return(await $e.get(`${dt}/users/preferences/chat_history`,{headers:t})).data},async updateChatHistoryPreference(t){const e=await ht();await $e.post(`${dt}/users/preferences/chat_history`,{chatHistory:t},{headers:e})},async loadShowCompletedOnlyPreference(){const t=await ht();return(await $e.get(`${dt}/users/preferences/only_show_completed_transactions`,{headers:t})).data},async updateShowCompletedOnlyPreference(t){const e=await ht();await $e.post(`${dt}/users/preferences/only_show_completed_transactions`,{showCompletedOnly:t},{headers:e})},async loadAllPreferences(){const[t,e,n]=await Promise.all([this.loadInstructionsPreferences(),this.loadChatHistoryPreferences(),this.loadShowCompletedOnlyPreference()]);return{instructionsResponse:t,chatHistoryResponse:e,showCompletedOnlyResponse:n}},async savePreferences(t,e,n){await Promise.all([this.updateInstructionsPreference(t),this.updateChatHistoryPreference(e),this.updateShowCompletedOnlyPreference(n)])}},Pn={async generateCreditHistory(){const t=await ht();return(await $e.post(`${dt}/users/cards/credits/generate`,void 0,{headers:t})).data},async deleteCreditHistory(){const t=await ht();await $e.delete(`${dt}/users/cards/credits`,{headers:t})},async fetchCreditHistory(){const t=await ht();return(await $e.get(`${dt}/users/cards/credits`,{headers:t})).data},async fetchCreditHistoryForYear(t,e){const n=await ht(),r=new URLSearchParams;e!=null&&e.cardIds&&e.cardIds.length>0&&e.cardIds.forEach(u=>r.append("cardIds[]",u)),e!=null&&e.excludeHidden&&r.set("excludeHidden","true");const s=r.toString(),o=`${dt}/users/cards/credits/year/${t}${s?`?${s}`:""}`;return(await $e.get(o,{headers:n})).data},async fetchCreditDetails(t,e,n,r){const s=await ht(),o=new URLSearchParams;r!=null&&r.excludeHidden&&o.set("excludeHidden","true");const l=o.toString(),u=`${dt}/users/cards/credits/details/${t}/${e}/${n}${l?`?${l}`:""}`;return(await $e.get(u,{headers:s})).data},async fetchCreditHistoryForMonth(t,e,n){const r=await ht(),s=new URLSearchParams;n!=null&&n.cardIds&&n.cardIds.length>0&&n.cardIds.forEach(h=>s.append("cardIds[]",h)),n!=null&&n.excludeHidden&&s.set("excludeHidden","true");const o=s.toString(),l=`${dt}/users/cards/credits/month/${t}/${e}${o?`?${o}`:""}`;return(await $e.get(l,{headers:r})).data},async fetchCreditHistoryForRange(t,e,n){const r=await ht(),s=new URLSearchParams;return s.set("start",t),e&&s.set("end",e),n!=null&&n.cardIds&&n.cardIds.length>0&&n.cardIds.forEach(l=>s.append("cardIds[]",l)),n!=null&&n.excludeHidden&&s.set("excludeHidden","true"),(await $e.get(`${dt}/users/cards/credits/range?${s.toString()}`,{headers:r})).data},async updateCreditHistoryEntry(t){const e=await ht();return(await $e.put(`${dt}/users/cards/credits/history`,t,{headers:e})).data},async createEmptyCalendarForYear(t){const e=await ht();return(await $e.post(`${dt}/users/cards/credits/year/${t}`,void 0,{headers:e})).data},async syncCurrentYearCredits(){const t=await ht();return(await $e.post(`${dt}/users/cards/credits/sync`,void 0,{headers:t})).data},async fetchCreditTrackingPreferences(){const t=await ht();return(await $e.get(`${dt}/users/cards/credits/preferences`,{headers:t})).data},async updateCreditHidePreference(t){const e=await ht();return(await $e.put(`${dt}/users/cards/credits/preferences`,t,{headers:e})).data}},zp={async emailSignIn(){const t=await ht();if((await $e.post(`${dt}/auth/signin`,{},{headers:t})).status!==200)throw new Error("Failed to authenticate with the server")},async googleSignIn(t){const e=await ht();if((await $e.post(`${dt}/auth/${t?"signup":"signin"}`,{},{headers:e})).status!==200)throw new Error("Failed to authenticate with the server")},async emailSignUp(t,e){const n=await ht(),r=await $e.post(`${dt}/auth/signup`,{firstName:t,lastName:e},{headers:n});if(r.status!==200){const s=await r.data;throw new Error(s.error||"Registration failed")}}},$2={async getChatResponse(t,e){const n=await ht();return(await $e.post(`${dt}/chat/response`,t,{headers:n,signal:e})).data},async getChatSolution(t,e){const n=await ht();return(await $e.post(`${dt}/chat/solution`,t,{headers:n,signal:e})).data}},Vo={async fetchCreditCards(t=!0){const e=await ht(),n=`${dt}/credit-cards/list/previews`,r=t?`${n}?includeCardSelection=true`:n;return(await $e.get(r,{headers:e})).data}},dt="http://localhost:10000",ht=async()=>{if(!gs.currentUser)throw new Error("No authenticated user");return{Accept:"application/json",Authorization:`Bearer ${await gs.currentUser.getIdToken()}`}},AC=E.createContext(null),q4=qN,K4=({children:t})=>{const[e,n]=E.useState(null),[r,s]=E.useState(!0);E.useEffect(()=>{const T=$8(gs,async k=>{k?(await k.reload(),n(k)):n(null),s(!1)});return()=>T()},[]);const o=async()=>{const T=new ki;try{const k=await uD(gs,T),N=k.user,D=k._tokenResponse.isNewUser,j=await N.getIdToken();return{user:N,token:j,isNewUser:D}}catch(k){throw console.error("Authentication failed:",k),k}},l=async()=>{try{await z8(gs),n(null)}catch(T){console.error("Logout failed:",T)}},u=async(T,k,N,D)=>{try{const j=await O8(gs,T,k);await U8(j.user,{displayName:`${N} ${D}`,photoURL:q4});const L=await j.user.getIdToken();return{user:j.user,token:L}}catch(j){throw console.error("Registration failed:",j),j}},h=async(T,k)=>{try{const N=await L8(gs,T,k),D=await N.user.getIdToken();return{user:N.user,token:D}}catch(N){throw console.error("Email login failed:",N),N}},p=async()=>{if(!gs.currentUser)throw new Error("No user is currently signed in");if(gs.currentUser.emailVerified)throw new Error("Email is already verified");try{const T={url:"http://localhost:3000/account",handleCodeInApp:!0};return await F8(gs.currentUser,T),!0}catch(T){if(T.code==="auth/too-many-requests")throw new Error("Please wait a few minutes before requesting another verification email.");const k=T.message||"Failed to send verification email";throw new Error(k)}},v=async T=>{try{await M8(gs,T,{url:"http://localhost:3000/signin"})}catch(k){throw console.error("Error sending password reset email:",k),k}};if(r)return c.jsx("div",{style:{minHeight:"calc(var(--app-vh, 1vh) * 100)",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#FFFFFF"},children:c.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:12},children:[c.jsx("img",{src:an.LOGO,alt:`${Bn} logo`,style:{width:48,height:48}}),c.jsx(Go,{size:24,className:"spinning","aria-label":"Loading"})]})});const y={user:e,login:o,loginWithEmail:h,registerWithEmail:u,logout:l,sendVerificationEmail:p,sendPasswordResetEmail:v,loading:r};return c.jsx(AC.Provider,{value:y,children:t})},di=()=>{const t=E.useContext(AC);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},Y4=async t=>{try{if(!await t())throw new Error("Unable to send verification email. Please try again later.");return{messageType:"success",message:"Verification email sent! Please check your inbox."}}catch(e){return{messageType:"error",message:e instanceof Error?e.message:"Failed to send verification email. Please try again later or contact support if the issue persists."}}},Z4=async(t,e)=>{try{return await Xr.deleteAllHistory(),t([]),e(n=>n+1),{type:"success",message:"All chat history has been deleted successfully."}}catch(n){return console.error("Error deleting chat history:",n),{type:"error",message:"Failed to delete chat history. Please try again."}}},Xi=({title:t,icon:e=YN,subtitle:n,actions:r,withActions:s=!1,onHelpClick:o,showHelpButton:l=!1})=>{const u=`page-header ${s||l?"page-header-with-actions":""}`;return c.jsxs("div",{className:u,children:[c.jsxs("div",{className:"header-title-section",children:[c.jsxs("h1",{children:[c.jsx(Ry,{icon:e,alt:"",className:"header-icon",size:20}),t]}),n&&c.jsx("p",{children:n})]}),(r||l)&&c.jsxs("div",{className:"header-actions",children:[r,l&&o&&c.jsx("button",{className:"help-icon-button icon-gray-hover",onClick:o,"aria-label":"Open help",title:"Help",children:c.jsx(De,{name:"help",variant:"outline",color:td,size:20})})]})]})},RC=E.createContext(null),eh=(t=!0)=>{const e=E.useContext(RC);E.useEffect(()=>{if(e)return e.setScrollHeight(t),()=>{e.setScrollHeight(!1)}},[e,t])},Q4=({id:t,label:e,checked:n,onChange:r,disabled:s=!1})=>{const o=l=>{r(l.target.checked)};return c.jsxs("div",{className:"toggle-container",children:[c.jsx("label",{htmlFor:t,children:e}),c.jsxs("label",{className:"toggle-switch",children:[c.jsx("input",{type:"checkbox",id:t,checked:n,onChange:o,disabled:s}),c.jsx("span",{className:"toggle-slider"})]})]})},xt=({type:t,icon:e,title:n,message:r,color:s,showTitle:o=!0,transparent:l=!1,showIcon:u=!0,centered:h=!1})=>{const p=()=>{switch(t){case"default":return{defaultTitle:Kl.DEFAULT,defaultColor:Js.DEFAULT,defaultIcon:ql.DEFAULT};case"error":return{defaultTitle:Kl.ERROR,defaultColor:Js.ERROR,defaultIcon:ql.ERROR};case"warning":return{defaultTitle:Kl.WARNING,defaultColor:Js.WARNING,defaultIcon:ql.WARNING};case"success":return{defaultTitle:Kl.SUCCESS,defaultColor:Js.SUCCESS,defaultIcon:ql.SUCCESS};case"loading":return{defaultTitle:Kl.LOADING,defaultColor:Js.LOADING,defaultIcon:ql.LOADING};case"info":default:return{defaultTitle:Kl.INFO,defaultColor:Js.INFO,defaultIcon:ql.INFO}}},{defaultTitle:v,defaultColor:y,defaultIcon:T}=p(),k=n||v,N=s||y,D=e||T,j=L=>{if(l)return"transparent";if(L.startsWith("#")){const U=parseInt(L.slice(1,3),16),B=parseInt(L.slice(3,5),16),m=parseInt(L.slice(5,7),16);return`rgba(${U}, ${B}, ${m}, 0.1)`}return L};return c.jsxs("div",{className:`info-component ${h?"centered":""}`,style:{backgroundColor:j(N),color:N,textAlign:h?void 0:"left",justifyContent:h?"center":void 0,width:h?"100%":void 0},children:[u&&D&&c.jsx("span",{className:"info-icon-wrapper",children:D==="loading-spinner"?c.jsx(Go,{size:qa,className:`info-icon ${t==="loading"?"spinning":""}`}):c.jsx(Ry,{icon:D,alt:"",className:`info-icon ${t==="loading"?"spinning":""}`,size:16})}),c.jsxs("span",{className:"info-message",children:[o&&k&&c.jsxs("span",{className:"info-title",children:[k,": "]}),r]})]})},th=({className:t="",containerClassName:e="",...n})=>{const r=`search-input default-input ${t}`.trim();return c.jsxs("div",{className:`search-field ${e}`.trim(),children:[c.jsx(De,{name:"search",variant:"mini",size:16,className:"search-icon",color:Ki}),c.jsx("input",{...n,className:r})]})};function PC(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=PC(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function _1(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=PC(t))&&(r&&(r+=" "),r+=e);return r}const Am=({children:t,className:e="",size:n="md",framed:r=!1})=>{const s=`content-container--${n}`;return c.jsx("div",{className:_1("content-container",s,r&&"content-container--framed",e),children:t})},X4=({subscriptionPlan:t})=>{const{user:e,sendVerificationEmail:n}=di(),[r,s]=E.useState(""),[o,l]=E.useState("");eh(!0);const u=async()=>{const h=await Y4(n);l(h.messageType),s(h.message)};return c.jsxs("div",{className:"full-page-layout",children:[c.jsx(Xi,{title:rt.MY_ACCOUNT,icon:an.MY_ACCOUNT.MINI}),c.jsx("div",{className:"full-page-content",children:c.jsx(Am,{size:"lg",children:e?c.jsxs("div",{className:"account-wrapper",children:[c.jsxs("div",{className:"account-header",children:[e.photoURL&&c.jsx("img",{src:e.photoURL,alt:"Profile",crossOrigin:"anonymous",referrerPolicy:"no-referrer",className:"avatar"}),c.jsxs("div",{className:"identity",children:[c.jsx("h2",{className:"name",children:e.displayName||"My Account"}),c.jsx("p",{className:"email",children:e.email}),c.jsx("div",{className:"badges",children:c.jsx("span",{className:`badge ${e.emailVerified?"badge--success":"badge--warning"}`,children:e.emailVerified?"Email Verified":"Email Not Verified"})})]})]}),c.jsxs("div",{className:"account-sections",children:[c.jsxs("section",{className:"section plan-section",children:[c.jsx("h3",{className:"section-title",children:"Your Plan"}),c.jsxs("div",{className:"plan-row",children:[c.jsx("span",{className:"plan-tag",children:t}),c.jsxs("p",{className:"plan-copy",children:["You are currently on the ",t," plan."]})]})]}),!e.emailVerified&&c.jsxs("section",{className:"section callout callout--warning",children:[c.jsx("h3",{className:"section-title",children:"Verify your email"}),c.jsx("p",{children:"To unlock full capabilities and improve your account security, please verify your email address."}),c.jsx("div",{className:"actions",children:c.jsx("button",{className:"verify-button",onClick:u,children:"Send Verification Email"})}),r&&c.jsx(xt,{type:o||"info",message:r})]}),c.jsxs("section",{className:"section",children:[c.jsx("p",{className:"danger-link-copy",children:"Need to delete your chat history?"}),c.jsx(Ht,{className:"link",to:fe.DELETE_HISTORY.PATH,children:"Delete your chat history"})]}),c.jsxs("section",{className:"section",children:[c.jsx("p",{className:"danger-link-copy",children:"Want to revisit onboarding?"}),c.jsx(Ht,{className:"link",to:fe.WELCOME.PATH,children:"Revisit onboarding"})]})]})]}):c.jsx("p",{children:"Please sign in to view your account details."})})})]})};function J4(t,e){const n=E.createContext(e),r=o=>{const{children:l,...u}=o,h=E.useMemo(()=>u,Object.values(u));return c.jsx(n.Provider,{value:h,children:l})};r.displayName=t+"Provider";function s(o){const l=E.useContext(n);if(l)return l;if(e!==void 0)return e;throw new Error(`\`${o}\` must be used within \`${t}\``)}return[r,s]}function ta(t,e=[]){let n=[];function r(o,l){const u=E.createContext(l),h=n.length;n=[...n,l];const p=y=>{var L;const{scope:T,children:k,...N}=y,D=((L=T==null?void 0:T[t])==null?void 0:L[h])||u,j=E.useMemo(()=>N,Object.values(N));return c.jsx(D.Provider,{value:j,children:k})};p.displayName=o+"Provider";function v(y,T){var D;const k=((D=T==null?void 0:T[t])==null?void 0:D[h])||u,N=E.useContext(k);if(N)return N;if(l!==void 0)return l;throw new Error(`\`${y}\` must be used within \`${o}\``)}return[p,v]}const s=()=>{const o=n.map(l=>E.createContext(l));return function(u){const h=(u==null?void 0:u[t])||o;return E.useMemo(()=>({[`__scope${t}`]:{...u,[t]:h}}),[u,h])}};return s.scopeName=t,[r,eL(s,...e)]}function eL(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const l=r.reduce((u,{useScope:h,scopeName:p})=>{const y=h(o)[`__scope${p}`];return{...u,...y}},{});return E.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return n.scopeName=e.scopeName,n}function z2(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Rm(...t){return e=>{let n=!1;const r=t.map(s=>{const o=z2(s,e);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let s=0;s<r.length;s++){const o=r[s];typeof o=="function"?o():z2(t[s],null)}}}}function $t(...t){return E.useCallback(Rm(...t),t)}function ot(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}var Zo=globalThis!=null&&globalThis.document?E.useLayoutEffect:()=>{},tL=WS[" useId ".trim().toString()]||(()=>{}),nL=0;function gc(t){const[e,n]=E.useState(tL());return Zo(()=>{n(r=>r??String(nL++))},[t]),t||(e?`radix-${e}`:"")}var rL=WS[" useInsertionEffect ".trim().toString()]||Zo;function Pm({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,o,l]=sL({defaultProp:e,onChange:n}),u=t!==void 0,h=u?t:s;{const v=E.useRef(t!==void 0);E.useEffect(()=>{const y=v.current;y!==u&&console.warn(`${r} is changing from ${y?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),v.current=u},[u,r])}const p=E.useCallback(v=>{var y;if(u){const T=iL(v)?v(t):v;T!==t&&((y=l.current)==null||y.call(l,T))}else o(v)},[u,t,o,l]);return[h,p]}function sL({defaultProp:t,onChange:e}){const[n,r]=E.useState(t),s=E.useRef(n),o=E.useRef(e);return rL(()=>{o.current=e},[e]),E.useEffect(()=>{var l;s.current!==n&&((l=o.current)==null||l.call(o,n),s.current=n)},[n,s]),[n,r,o]}function iL(t){return typeof t=="function"}function Ad(t){const e=oL(t),n=E.forwardRef((r,s)=>{const{children:o,...l}=r,u=E.Children.toArray(o),h=u.find(lL);if(h){const p=h.props.children,v=u.map(y=>y===h?E.Children.count(p)>1?E.Children.only(null):E.isValidElement(p)?p.props.children:null:y);return c.jsx(e,{...l,ref:s,children:E.isValidElement(p)?E.cloneElement(p,void 0,v):null})}return c.jsx(e,{...l,ref:s,children:o})});return n.displayName=`${t}.Slot`,n}function oL(t){const e=E.forwardRef((n,r)=>{const{children:s,...o}=n;if(E.isValidElement(s)){const l=uL(s),u=cL(o,s.props);return s.type!==E.Fragment&&(u.ref=r?Rm(r,l):l),E.cloneElement(s,u)}return E.Children.count(s)>1?E.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var NC=Symbol("radix.slottable");function aL(t){const e=({children:n})=>c.jsx(c.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=NC,e}function lL(t){return E.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===NC}function cL(t,e){const n={...e};for(const r in e){const s=t[r],o=e[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...u)=>{const h=o(...u);return s(...u),h}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...t,...n}}function uL(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var dL=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],zt=dL.reduce((t,e)=>{const n=Ad(`Primitive.${e}`),r=E.forwardRef((s,o)=>{const{asChild:l,...u}=s,h=l?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(h,{...u,ref:o})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function kC(t,e){t&&Cy.flushSync(()=>t.dispatchEvent(e))}function $i(t){const e=E.useRef(t);return E.useEffect(()=>{e.current=t}),E.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function hL(t,e=globalThis==null?void 0:globalThis.document){const n=$i(t);E.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var fL="DismissableLayer",ty="dismissableLayer.update",pL="dismissableLayer.pointerDownOutside",mL="dismissableLayer.focusOutside",W2,DC=E.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),E1=E.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:l,onDismiss:u,...h}=t,p=E.useContext(DC),[v,y]=E.useState(null),T=(v==null?void 0:v.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,k]=E.useState({}),N=$t(e,_=>y(_)),D=Array.from(p.layers),[j]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),L=D.indexOf(j),U=v?D.indexOf(v):-1,B=p.layersWithOutsidePointerEventsDisabled.size>0,m=U>=L,S=yL(_=>{const b=_.target,R=[...p.branches].some(P=>P.contains(b));!m||R||(s==null||s(_),l==null||l(_),_.defaultPrevented||u==null||u())},T),x=wL(_=>{const b=_.target;[...p.branches].some(P=>P.contains(b))||(o==null||o(_),l==null||l(_),_.defaultPrevented||u==null||u())},T);return hL(_=>{U===p.layers.size-1&&(r==null||r(_),!_.defaultPrevented&&u&&(_.preventDefault(),u()))},T),E.useEffect(()=>{if(v)return n&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(W2=T.body.style.pointerEvents,T.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(v)),p.layers.add(v),G2(),()=>{n&&p.layersWithOutsidePointerEventsDisabled.size===1&&(T.body.style.pointerEvents=W2)}},[v,T,n,p]),E.useEffect(()=>()=>{v&&(p.layers.delete(v),p.layersWithOutsidePointerEventsDisabled.delete(v),G2())},[v,p]),E.useEffect(()=>{const _=()=>k({});return document.addEventListener(ty,_),()=>document.removeEventListener(ty,_)},[]),c.jsx(zt.div,{...h,ref:N,style:{pointerEvents:B?m?"auto":"none":void 0,...t.style},onFocusCapture:ot(t.onFocusCapture,x.onFocusCapture),onBlurCapture:ot(t.onBlurCapture,x.onBlurCapture),onPointerDownCapture:ot(t.onPointerDownCapture,S.onPointerDownCapture)})});E1.displayName=fL;var gL="DismissableLayerBranch",vL=E.forwardRef((t,e)=>{const n=E.useContext(DC),r=E.useRef(null),s=$t(e,r);return E.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),c.jsx(zt.div,{...t,ref:s})});vL.displayName=gL;function yL(t,e=globalThis==null?void 0:globalThis.document){const n=$i(t),r=E.useRef(!1),s=E.useRef(()=>{});return E.useEffect(()=>{const o=u=>{if(u.target&&!r.current){let h=function(){jC(pL,n,p,{discrete:!0})};const p={originalEvent:u};u.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=h,e.addEventListener("click",s.current,{once:!0})):h()}else e.removeEventListener("click",s.current);r.current=!1},l=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(l),e.removeEventListener("pointerdown",o),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function wL(t,e=globalThis==null?void 0:globalThis.document){const n=$i(t),r=E.useRef(!1);return E.useEffect(()=>{const s=o=>{o.target&&!r.current&&jC(mL,n,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function G2(){const t=new CustomEvent(ty);document.dispatchEvent(t)}function jC(t,e,n,{discrete:r}){const s=n.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?kC(s,o):s.dispatchEvent(o)}var W0="focusScope.autoFocusOnMount",G0="focusScope.autoFocusOnUnmount",q2={bubbles:!1,cancelable:!0},_L="FocusScope",S1=E.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...l}=t,[u,h]=E.useState(null),p=$i(s),v=$i(o),y=E.useRef(null),T=$t(e,D=>h(D)),k=E.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;E.useEffect(()=>{if(r){let D=function(B){if(k.paused||!u)return;const m=B.target;u.contains(m)?y.current=m:No(y.current,{select:!0})},j=function(B){if(k.paused||!u)return;const m=B.relatedTarget;m!==null&&(u.contains(m)||No(y.current,{select:!0}))},L=function(B){if(document.activeElement===document.body)for(const S of B)S.removedNodes.length>0&&No(u)};document.addEventListener("focusin",D),document.addEventListener("focusout",j);const U=new MutationObserver(L);return u&&U.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",D),document.removeEventListener("focusout",j),U.disconnect()}}},[r,u,k.paused]),E.useEffect(()=>{if(u){Y2.add(k);const D=document.activeElement;if(!u.contains(D)){const L=new CustomEvent(W0,q2);u.addEventListener(W0,p),u.dispatchEvent(L),L.defaultPrevented||(EL(CL(MC(u)),{select:!0}),document.activeElement===D&&No(u))}return()=>{u.removeEventListener(W0,p),setTimeout(()=>{const L=new CustomEvent(G0,q2);u.addEventListener(G0,v),u.dispatchEvent(L),L.defaultPrevented||No(D??document.body,{select:!0}),u.removeEventListener(G0,v),Y2.remove(k)},0)}}},[u,p,v,k]);const N=E.useCallback(D=>{if(!n&&!r||k.paused)return;const j=D.key==="Tab"&&!D.altKey&&!D.ctrlKey&&!D.metaKey,L=document.activeElement;if(j&&L){const U=D.currentTarget,[B,m]=SL(U);B&&m?!D.shiftKey&&L===m?(D.preventDefault(),n&&No(B,{select:!0})):D.shiftKey&&L===B&&(D.preventDefault(),n&&No(m,{select:!0})):L===U&&D.preventDefault()}},[n,r,k.paused]);return c.jsx(zt.div,{tabIndex:-1,...l,ref:T,onKeyDown:N})});S1.displayName=_L;function EL(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(No(r,{select:e}),document.activeElement!==n)return}function SL(t){const e=MC(t),n=K2(e,t),r=K2(e.reverse(),t);return[n,r]}function MC(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function K2(t,e){for(const n of t)if(!xL(n,{upTo:e}))return n}function xL(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function TL(t){return t instanceof HTMLInputElement&&"select"in t}function No(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&TL(t)&&e&&t.select()}}var Y2=bL();function bL(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=Z2(t,e),t.unshift(e)},remove(e){var n;t=Z2(t,e),(n=t[0])==null||n.resume()}}}function Z2(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function CL(t){return t.filter(e=>e.tagName!=="A")}var IL="Portal",x1=E.forwardRef((t,e)=>{var u;const{container:n,...r}=t,[s,o]=E.useState(!1);Zo(()=>o(!0),[]);const l=n||s&&((u=globalThis==null?void 0:globalThis.document)==null?void 0:u.body);return l?lx.createPortal(c.jsx(zt.div,{...r,ref:e}),l):null});x1.displayName=IL;function AL(t,e){return E.useReducer((n,r)=>e[n][r]??n,t)}var na=t=>{const{present:e,children:n}=t,r=RL(e),s=typeof n=="function"?n({present:r.isPresent}):E.Children.only(n),o=$t(r.ref,PL(s));return typeof n=="function"||r.isPresent?E.cloneElement(s,{ref:o}):null};na.displayName="Presence";function RL(t){const[e,n]=E.useState(),r=E.useRef(null),s=E.useRef(t),o=E.useRef("none"),l=t?"mounted":"unmounted",[u,h]=AL(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return E.useEffect(()=>{const p=jf(r.current);o.current=u==="mounted"?p:"none"},[u]),Zo(()=>{const p=r.current,v=s.current;if(v!==t){const T=o.current,k=jf(p);t?h("MOUNT"):k==="none"||(p==null?void 0:p.display)==="none"?h("UNMOUNT"):h(v&&T!==k?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,h]),Zo(()=>{if(e){let p;const v=e.ownerDocument.defaultView??window,y=k=>{const D=jf(r.current).includes(CSS.escape(k.animationName));if(k.target===e&&D&&(h("ANIMATION_END"),!s.current)){const j=e.style.animationFillMode;e.style.animationFillMode="forwards",p=v.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=j)})}},T=k=>{k.target===e&&(o.current=jf(r.current))};return e.addEventListener("animationstart",T),e.addEventListener("animationcancel",y),e.addEventListener("animationend",y),()=>{v.clearTimeout(p),e.removeEventListener("animationstart",T),e.removeEventListener("animationcancel",y),e.removeEventListener("animationend",y)}}else h("ANIMATION_END")},[e,h]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:E.useCallback(p=>{r.current=p?getComputedStyle(p):null,n(p)},[])}}function jf(t){return(t==null?void 0:t.animationName)||"none"}function PL(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var q0=0;function OC(){E.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Q2()),document.body.insertAdjacentElement("beforeend",t[1]??Q2()),q0++,()=>{q0===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),q0--}},[])}function Q2(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var up="right-scroll-bar-position",dp="width-before-scroll-bar",NL="with-scroll-bars-hidden",kL="--removed-body-scroll-bar-size";function K0(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function DL(t,e){var n=E.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var jL=typeof window<"u"?E.useLayoutEffect:E.useEffect,X2=new WeakMap;function ML(t,e){var n=DL(null,function(r){return t.forEach(function(s){return K0(s,r)})});return jL(function(){var r=X2.get(n);if(r){var s=new Set(r),o=new Set(t),l=n.current;s.forEach(function(u){o.has(u)||K0(u,null)}),o.forEach(function(u){s.has(u)||K0(u,l)})}X2.set(n,t)},[t]),n}function OL(t){return t}function LL(t,e){e===void 0&&(e=OL);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(o){var l=e(o,r);return n.push(l),function(){n=n.filter(function(u){return u!==l})}},assignSyncMedium:function(o){for(r=!0;n.length;){var l=n;n=[],l.forEach(o)}n={push:function(u){return o(u)},filter:function(){return n}}},assignMedium:function(o){r=!0;var l=[];if(n.length){var u=n;n=[],u.forEach(o),l=n}var h=function(){var v=l;l=[],v.forEach(o)},p=function(){return Promise.resolve().then(h)};p(),n={push:function(v){l.push(v),p()},filter:function(v){return l=l.filter(v),n}}}};return s}function FL(t){t===void 0&&(t={});var e=LL(null);return e.options=ei({async:!0,ssr:!1},t),e}var LC=function(t){var e=t.sideCar,n=Bd(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return E.createElement(r,ei({},n))};LC.isSideCarExport=!0;function VL(t,e){return t.useMedium(e),LC}var FC=FL(),Y0=function(){},Nm=E.forwardRef(function(t,e){var n=E.useRef(null),r=E.useState({onScrollCapture:Y0,onWheelCapture:Y0,onTouchMoveCapture:Y0}),s=r[0],o=r[1],l=t.forwardProps,u=t.children,h=t.className,p=t.removeScrollBar,v=t.enabled,y=t.shards,T=t.sideCar,k=t.noRelative,N=t.noIsolation,D=t.inert,j=t.allowPinchZoom,L=t.as,U=L===void 0?"div":L,B=t.gapMode,m=Bd(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=T,x=ML([n,e]),_=ei(ei({},m),s);return E.createElement(E.Fragment,null,v&&E.createElement(S,{sideCar:FC,removeScrollBar:p,shards:y,noRelative:k,noIsolation:N,inert:D,setCallbacks:o,allowPinchZoom:!!j,lockRef:n,gapMode:B}),l?E.cloneElement(E.Children.only(u),ei(ei({},_),{ref:x})):E.createElement(U,ei({},_,{className:h,ref:x}),u))});Nm.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Nm.classNames={fullWidth:dp,zeroRight:up};var UL=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function HL(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=UL();return e&&t.setAttribute("nonce",e),t}function BL(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function $L(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var zL=function(){var t=0,e=null;return{add:function(n){t==0&&(e=HL())&&(BL(e,n),$L(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},WL=function(){var t=zL();return function(e,n){E.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},VC=function(){var t=WL(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},GL={left:0,top:0,right:0,gap:0},Z0=function(t){return parseInt(t||"",10)||0},qL=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Z0(n),Z0(r),Z0(s)]},KL=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return GL;var e=qL(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},YL=VC(),vc="data-scroll-locked",ZL=function(t,e,n,r){var s=t.left,o=t.top,l=t.right,u=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(NL,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(u,"px ").concat(r,`;
  }
  body[`).concat(vc,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(u,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(up,` {
    right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(dp,` {
    margin-right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(up," .").concat(up,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(dp," .").concat(dp,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(vc,`] {
    `).concat(kL,": ").concat(u,`px;
  }
`)},J2=function(){var t=parseInt(document.body.getAttribute(vc)||"0",10);return isFinite(t)?t:0},QL=function(){E.useEffect(function(){return document.body.setAttribute(vc,(J2()+1).toString()),function(){var t=J2()-1;t<=0?document.body.removeAttribute(vc):document.body.setAttribute(vc,t.toString())}},[])},XL=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;QL();var o=E.useMemo(function(){return KL(s)},[s]);return E.createElement(YL,{styles:ZL(o,!e,s,n?"":"!important")})},ny=!1;if(typeof window<"u")try{var Mf=Object.defineProperty({},"passive",{get:function(){return ny=!0,!0}});window.addEventListener("test",Mf,Mf),window.removeEventListener("test",Mf,Mf)}catch{ny=!1}var tc=ny?{passive:!1}:!1,JL=function(t){return t.tagName==="TEXTAREA"},UC=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!JL(t)&&n[e]==="visible")},e9=function(t){return UC(t,"overflowY")},t9=function(t){return UC(t,"overflowX")},eS=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=HC(t,r);if(s){var o=BC(t,r),l=o[1],u=o[2];if(l>u)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},n9=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},r9=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},HC=function(t,e){return t==="v"?e9(e):t9(e)},BC=function(t,e){return t==="v"?n9(e):r9(e)},s9=function(t,e){return t==="h"&&e==="rtl"?-1:1},i9=function(t,e,n,r,s){var o=s9(t,window.getComputedStyle(e).direction),l=o*r,u=n.target,h=e.contains(u),p=!1,v=l>0,y=0,T=0;do{if(!u)break;var k=BC(t,u),N=k[0],D=k[1],j=k[2],L=D-j-o*N;(N||L)&&HC(t,u)&&(y+=L,T+=N);var U=u.parentNode;u=U&&U.nodeType===Node.DOCUMENT_FRAGMENT_NODE?U.host:U}while(!h&&u!==document.body||h&&(e.contains(u)||e===u));return(v&&Math.abs(y)<1||!v&&Math.abs(T)<1)&&(p=!0),p},Of=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},tS=function(t){return[t.deltaX,t.deltaY]},nS=function(t){return t&&"current"in t?t.current:t},o9=function(t,e){return t[0]===e[0]&&t[1]===e[1]},a9=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},l9=0,nc=[];function c9(t){var e=E.useRef([]),n=E.useRef([0,0]),r=E.useRef(),s=E.useState(l9++)[0],o=E.useState(VC)[0],l=E.useRef(t);E.useEffect(function(){l.current=t},[t]),E.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var D=j7([t.lockRef.current],(t.shards||[]).map(nS),!0).filter(Boolean);return D.forEach(function(j){return j.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),D.forEach(function(j){return j.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var u=E.useCallback(function(D,j){if("touches"in D&&D.touches.length===2||D.type==="wheel"&&D.ctrlKey)return!l.current.allowPinchZoom;var L=Of(D),U=n.current,B="deltaX"in D?D.deltaX:U[0]-L[0],m="deltaY"in D?D.deltaY:U[1]-L[1],S,x=D.target,_=Math.abs(B)>Math.abs(m)?"h":"v";if("touches"in D&&_==="h"&&x.type==="range")return!1;var b=eS(_,x);if(!b)return!0;if(b?S=_:(S=_==="v"?"h":"v",b=eS(_,x)),!b)return!1;if(!r.current&&"changedTouches"in D&&(B||m)&&(r.current=S),!S)return!0;var R=r.current||S;return i9(R,j,D,R==="h"?B:m)},[]),h=E.useCallback(function(D){var j=D;if(!(!nc.length||nc[nc.length-1]!==o)){var L="deltaY"in j?tS(j):Of(j),U=e.current.filter(function(S){return S.name===j.type&&(S.target===j.target||j.target===S.shadowParent)&&o9(S.delta,L)})[0];if(U&&U.should){j.cancelable&&j.preventDefault();return}if(!U){var B=(l.current.shards||[]).map(nS).filter(Boolean).filter(function(S){return S.contains(j.target)}),m=B.length>0?u(j,B[0]):!l.current.noIsolation;m&&j.cancelable&&j.preventDefault()}}},[]),p=E.useCallback(function(D,j,L,U){var B={name:D,delta:j,target:L,should:U,shadowParent:u9(L)};e.current.push(B),setTimeout(function(){e.current=e.current.filter(function(m){return m!==B})},1)},[]),v=E.useCallback(function(D){n.current=Of(D),r.current=void 0},[]),y=E.useCallback(function(D){p(D.type,tS(D),D.target,u(D,t.lockRef.current))},[]),T=E.useCallback(function(D){p(D.type,Of(D),D.target,u(D,t.lockRef.current))},[]);E.useEffect(function(){return nc.push(o),t.setCallbacks({onScrollCapture:y,onWheelCapture:y,onTouchMoveCapture:T}),document.addEventListener("wheel",h,tc),document.addEventListener("touchmove",h,tc),document.addEventListener("touchstart",v,tc),function(){nc=nc.filter(function(D){return D!==o}),document.removeEventListener("wheel",h,tc),document.removeEventListener("touchmove",h,tc),document.removeEventListener("touchstart",v,tc)}},[]);var k=t.removeScrollBar,N=t.inert;return E.createElement(E.Fragment,null,N?E.createElement(o,{styles:a9(s)}):null,k?E.createElement(XL,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function u9(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const d9=VL(FC,c9);var T1=E.forwardRef(function(t,e){return E.createElement(Nm,ei({},t,{ref:e,sideCar:d9}))});T1.classNames=Nm.classNames;var h9=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},rc=new WeakMap,Lf=new WeakMap,Ff={},Q0=0,$C=function(t){return t&&(t.host||$C(t.parentNode))},f9=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=$C(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},p9=function(t,e,n,r){var s=f9(e,Array.isArray(t)?t:[t]);Ff[n]||(Ff[n]=new WeakMap);var o=Ff[n],l=[],u=new Set,h=new Set(s),p=function(y){!y||u.has(y)||(u.add(y),p(y.parentNode))};s.forEach(p);var v=function(y){!y||h.has(y)||Array.prototype.forEach.call(y.children,function(T){if(u.has(T))v(T);else try{var k=T.getAttribute(r),N=k!==null&&k!=="false",D=(rc.get(T)||0)+1,j=(o.get(T)||0)+1;rc.set(T,D),o.set(T,j),l.push(T),D===1&&N&&Lf.set(T,!0),j===1&&T.setAttribute(n,"true"),N||T.setAttribute(r,"true")}catch(L){console.error("aria-hidden: cannot operate on ",T,L)}})};return v(e),u.clear(),Q0++,function(){l.forEach(function(y){var T=rc.get(y)-1,k=o.get(y)-1;rc.set(y,T),o.set(y,k),T||(Lf.has(y)||y.removeAttribute(r),Lf.delete(y)),k||y.removeAttribute(n)}),Q0--,Q0||(rc=new WeakMap,rc=new WeakMap,Lf=new WeakMap,Ff={})}},zC=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=h9(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),p9(r,s,n,"aria-hidden")):function(){return null}},km="Dialog",[WC,GC]=ta(km),[m9,Ls]=WC(km),qC=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:l=!0}=t,u=E.useRef(null),h=E.useRef(null),[p,v]=Pm({prop:r,defaultProp:s??!1,onChange:o,caller:km});return c.jsx(m9,{scope:e,triggerRef:u,contentRef:h,contentId:gc(),titleId:gc(),descriptionId:gc(),open:p,onOpenChange:v,onOpenToggle:E.useCallback(()=>v(y=>!y),[v]),modal:l,children:n})};qC.displayName=km;var KC="DialogTrigger",YC=E.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Ls(KC,n),o=$t(e,s.triggerRef);return c.jsx(zt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":I1(s.open),...r,ref:o,onClick:ot(t.onClick,s.onOpenToggle)})});YC.displayName=KC;var b1="DialogPortal",[g9,ZC]=WC(b1,{forceMount:void 0}),QC=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,o=Ls(b1,e);return c.jsx(g9,{scope:e,forceMount:n,children:E.Children.map(r,l=>c.jsx(na,{present:n||o.open,children:c.jsx(x1,{asChild:!0,container:s,children:l})}))})};QC.displayName=b1;var Wp="DialogOverlay",XC=E.forwardRef((t,e)=>{const n=ZC(Wp,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,o=Ls(Wp,t.__scopeDialog);return o.modal?c.jsx(na,{present:r||o.open,children:c.jsx(y9,{...s,ref:e})}):null});XC.displayName=Wp;var v9=Ad("DialogOverlay.RemoveScroll"),y9=E.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Ls(Wp,n);return c.jsx(T1,{as:v9,allowPinchZoom:!0,shards:[s.contentRef],children:c.jsx(zt.div,{"data-state":I1(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),sl="DialogContent",JC=E.forwardRef((t,e)=>{const n=ZC(sl,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,o=Ls(sl,t.__scopeDialog);return c.jsx(na,{present:r||o.open,children:o.modal?c.jsx(w9,{...s,ref:e}):c.jsx(_9,{...s,ref:e})})});JC.displayName=sl;var w9=E.forwardRef((t,e)=>{const n=Ls(sl,t.__scopeDialog),r=E.useRef(null),s=$t(e,n.contentRef,r);return E.useEffect(()=>{const o=r.current;if(o)return zC(o)},[]),c.jsx(eI,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ot(t.onCloseAutoFocus,o=>{var l;o.preventDefault(),(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:ot(t.onPointerDownOutside,o=>{const l=o.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0;(l.button===2||u)&&o.preventDefault()}),onFocusOutside:ot(t.onFocusOutside,o=>o.preventDefault())})}),_9=E.forwardRef((t,e)=>{const n=Ls(sl,t.__scopeDialog),r=E.useRef(!1),s=E.useRef(!1);return c.jsx(eI,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var l,u;(l=t.onCloseAutoFocus)==null||l.call(t,o),o.defaultPrevented||(r.current||(u=n.triggerRef.current)==null||u.focus(),o.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:o=>{var h,p;(h=t.onInteractOutside)==null||h.call(t,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const l=o.target;((p=n.triggerRef.current)==null?void 0:p.contains(l))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),eI=E.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,...l}=t,u=Ls(sl,n),h=E.useRef(null),p=$t(e,h);return OC(),c.jsxs(c.Fragment,{children:[c.jsx(S1,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:c.jsx(E1,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":I1(u.open),...l,ref:p,onDismiss:()=>u.onOpenChange(!1)})}),c.jsxs(c.Fragment,{children:[c.jsx(S9,{titleId:u.titleId}),c.jsx(T9,{contentRef:h,descriptionId:u.descriptionId})]})]})}),C1="DialogTitle",tI=E.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Ls(C1,n);return c.jsx(zt.h2,{id:s.titleId,...r,ref:e})});tI.displayName=C1;var nI="DialogDescription",rI=E.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Ls(nI,n);return c.jsx(zt.p,{id:s.descriptionId,...r,ref:e})});rI.displayName=nI;var sI="DialogClose",iI=E.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Ls(sI,n);return c.jsx(zt.button,{type:"button",...r,ref:e,onClick:ot(t.onClick,()=>s.onOpenChange(!1))})});iI.displayName=sI;function I1(t){return t?"open":"closed"}var oI="DialogTitleWarning",[E9,aI]=J4(oI,{contentName:sl,titleName:C1,docsSlug:"dialog"}),S9=({titleId:t})=>{const e=aI(oI),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return E.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},x9="DialogDescriptionWarning",T9=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${aI(x9).contentName}}.`;return E.useEffect(()=>{var o;const s=(o=t.current)==null?void 0:o.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},A1=qC,lI=YC,R1=QC,P1=XC,N1=JC,k1=tI,cI=rI,Dm=iI,uI="AlertDialog",[b9,Tz]=ta(uI,[GC]),Ji=GC(),dI=t=>{const{__scopeAlertDialog:e,...n}=t,r=Ji(e);return c.jsx(A1,{...r,...n,modal:!0})};dI.displayName=uI;var C9="AlertDialogTrigger",I9=E.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Ji(n);return c.jsx(lI,{...s,...r,ref:e})});I9.displayName=C9;var A9="AlertDialogPortal",hI=t=>{const{__scopeAlertDialog:e,...n}=t,r=Ji(e);return c.jsx(R1,{...r,...n})};hI.displayName=A9;var R9="AlertDialogOverlay",fI=E.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Ji(n);return c.jsx(P1,{...s,...r,ref:e})});fI.displayName=R9;var yc="AlertDialogContent",[P9,N9]=b9(yc),k9=aL("AlertDialogContent"),pI=E.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:r,...s}=t,o=Ji(n),l=E.useRef(null),u=$t(e,l),h=E.useRef(null);return c.jsx(E9,{contentName:yc,titleName:mI,docsSlug:"alert-dialog",children:c.jsx(P9,{scope:n,cancelRef:h,children:c.jsxs(N1,{role:"alertdialog",...o,...s,ref:u,onOpenAutoFocus:ot(s.onOpenAutoFocus,p=>{var v;p.preventDefault(),(v=h.current)==null||v.focus({preventScroll:!0})}),onPointerDownOutside:p=>p.preventDefault(),onInteractOutside:p=>p.preventDefault(),children:[c.jsx(k9,{children:r}),c.jsx(j9,{contentRef:l})]})})})});pI.displayName=yc;var mI="AlertDialogTitle",gI=E.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Ji(n);return c.jsx(k1,{...s,...r,ref:e})});gI.displayName=mI;var vI="AlertDialogDescription",yI=E.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Ji(n);return c.jsx(cI,{...s,...r,ref:e})});yI.displayName=vI;var D9="AlertDialogAction",wI=E.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Ji(n);return c.jsx(Dm,{...s,...r,ref:e})});wI.displayName=D9;var _I="AlertDialogCancel",EI=E.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,{cancelRef:s}=N9(_I,n),o=Ji(n),l=$t(e,s);return c.jsx(Dm,{...o,...r,ref:l})});EI.displayName=_I;var j9=({contentRef:t})=>{const e=`\`${yc}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${yc}\` by passing a \`${vI}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${yc}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return E.useEffect(()=>{var r;document.getElementById((r=t.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},M9=dI,O9=hI,L9=fI,F9=pI,V9=wI,U9=EI,H9=gI,B9=yI;const D1="-",$9=t=>{const e=W9(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:l=>{const u=l.split(D1);return u[0]===""&&u.length!==1&&u.shift(),SI(u,e)||z9(l)},getConflictingClassGroupIds:(l,u)=>{const h=n[l]||[];return u&&r[l]?[...h,...r[l]]:h}}},SI=(t,e)=>{var l;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?SI(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const o=t.join(D1);return(l=e.validators.find(({validator:u})=>u(o)))==null?void 0:l.classGroupId},rS=/^\[(.+)\]$/,z9=t=>{if(rS.test(t)){const e=rS.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},W9=t=>{const{theme:e,classGroups:n}=t,r={nextPart:new Map,validators:[]};for(const s in n)ry(n[s],r,s,e);return r},ry=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const o=s===""?e:sS(e,s);o.classGroupId=n;return}if(typeof s=="function"){if(G9(s)){ry(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([o,l])=>{ry(l,sS(e,o),n,r)})})},sS=(t,e)=>{let n=t;return e.split(D1).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},G9=t=>t.isThemeGetter,q9=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(o,l)=>{n.set(o,l),e++,e>t&&(e=0,r=n,n=new Map)};return{get(o){let l=n.get(o);if(l!==void 0)return l;if((l=r.get(o))!==void 0)return s(o,l),l},set(o,l){n.has(o)?n.set(o,l):s(o,l)}}},sy="!",iy=":",K9=iy.length,Y9=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=s=>{const o=[];let l=0,u=0,h=0,p;for(let N=0;N<s.length;N++){let D=s[N];if(l===0&&u===0){if(D===iy){o.push(s.slice(h,N)),h=N+K9;continue}if(D==="/"){p=N;continue}}D==="["?l++:D==="]"?l--:D==="("?u++:D===")"&&u--}const v=o.length===0?s:s.substring(h),y=Z9(v),T=y!==v,k=p&&p>h?p-h:void 0;return{modifiers:o,hasImportantModifier:T,baseClassName:y,maybePostfixModifierPosition:k}};if(e){const s=e+iy,o=r;r=l=>l.startsWith(s)?o(l.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:l,maybePostfixModifierPosition:void 0}}if(n){const s=r;r=o=>n({className:o,parseClassName:s})}return r},Z9=t=>t.endsWith(sy)?t.substring(0,t.length-1):t.startsWith(sy)?t.substring(1):t,Q9=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const s=[];let o=[];return r.forEach(l=>{l[0]==="["||e[l]?(s.push(...o.sort(),l),o=[]):o.push(l)}),s.push(...o.sort()),s}},X9=t=>({cache:q9(t.cacheSize),parseClassName:Y9(t),sortModifiers:Q9(t),...$9(t)}),J9=/\s+/,eF=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:o}=e,l=[],u=t.trim().split(J9);let h="";for(let p=u.length-1;p>=0;p-=1){const v=u[p],{isExternal:y,modifiers:T,hasImportantModifier:k,baseClassName:N,maybePostfixModifierPosition:D}=n(v);if(y){h=v+(h.length>0?" "+h:h);continue}let j=!!D,L=r(j?N.substring(0,D):N);if(!L){if(!j){h=v+(h.length>0?" "+h:h);continue}if(L=r(N),!L){h=v+(h.length>0?" "+h:h);continue}j=!1}const U=o(T).join(":"),B=k?U+sy:U,m=B+L;if(l.includes(m))continue;l.push(m);const S=s(L,j);for(let x=0;x<S.length;++x){const _=S[x];l.push(B+_)}h=v+(h.length>0?" "+h:h)}return h};function tF(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=xI(e))&&(r&&(r+=" "),r+=n);return r}const xI=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=xI(t[r]))&&(n&&(n+=" "),n+=e);return n};function nF(t,...e){let n,r,s,o=l;function l(h){const p=e.reduce((v,y)=>y(v),t());return n=X9(p),r=n.cache.get,s=n.cache.set,o=u,u(h)}function u(h){const p=r(h);if(p)return p;const v=eF(h,n);return s(h,v),v}return function(){return o(tF.apply(null,arguments))}}const wn=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},TI=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,bI=/^\((?:(\w[\w-]*):)?(.+)\)$/i,rF=/^\d+\/\d+$/,sF=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,iF=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,oF=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,aF=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,lF=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,sc=t=>rF.test(t),ut=t=>!!t&&!Number.isNaN(Number(t)),Ro=t=>!!t&&Number.isInteger(Number(t)),X0=t=>t.endsWith("%")&&ut(t.slice(0,-1)),Ri=t=>sF.test(t),cF=()=>!0,uF=t=>iF.test(t)&&!oF.test(t),CI=()=>!1,dF=t=>aF.test(t),hF=t=>lF.test(t),fF=t=>!Ue(t)&&!He(t),pF=t=>qc(t,RI,CI),Ue=t=>TI.test(t),ba=t=>qc(t,PI,uF),J0=t=>qc(t,wF,ut),iS=t=>qc(t,II,CI),mF=t=>qc(t,AI,hF),Vf=t=>qc(t,NI,dF),He=t=>bI.test(t),qu=t=>Kc(t,PI),gF=t=>Kc(t,_F),oS=t=>Kc(t,II),vF=t=>Kc(t,RI),yF=t=>Kc(t,AI),Uf=t=>Kc(t,NI,!0),qc=(t,e,n)=>{const r=TI.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},Kc=(t,e,n=!1)=>{const r=bI.exec(t);return r?r[1]?e(r[1]):n:!1},II=t=>t==="position"||t==="percentage",AI=t=>t==="image"||t==="url",RI=t=>t==="length"||t==="size"||t==="bg-size",PI=t=>t==="length",wF=t=>t==="number",_F=t=>t==="family-name",NI=t=>t==="shadow",EF=()=>{const t=wn("color"),e=wn("font"),n=wn("text"),r=wn("font-weight"),s=wn("tracking"),o=wn("leading"),l=wn("breakpoint"),u=wn("container"),h=wn("spacing"),p=wn("radius"),v=wn("shadow"),y=wn("inset-shadow"),T=wn("text-shadow"),k=wn("drop-shadow"),N=wn("blur"),D=wn("perspective"),j=wn("aspect"),L=wn("ease"),U=wn("animate"),B=()=>["auto","avoid","all","avoid-page","page","left","right","column"],m=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],S=()=>[...m(),He,Ue],x=()=>["auto","hidden","clip","visible","scroll"],_=()=>["auto","contain","none"],b=()=>[He,Ue,h],R=()=>[sc,"full","auto",...b()],P=()=>[Ro,"none","subgrid",He,Ue],A=()=>["auto",{span:["full",Ro,He,Ue]},Ro,He,Ue],H=()=>[Ro,"auto",He,Ue],O=()=>["auto","min","max","fr",He,Ue],K=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Y=()=>["start","end","center","stretch","center-safe","end-safe"],F=()=>["auto",...b()],G=()=>[sc,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...b()],z=()=>[t,He,Ue],Z=()=>[...m(),oS,iS,{position:[He,Ue]}],ee=()=>["no-repeat",{repeat:["","x","y","space","round"]}],W=()=>["auto","cover","contain",vF,pF,{size:[He,Ue]}],J=()=>[X0,qu,ba],ue=()=>["","none","full",p,He,Ue],_e=()=>["",ut,qu,ba],Te=()=>["solid","dashed","dotted","double"],ce=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],pe=()=>[ut,X0,oS,iS],Re=()=>["","none",N,He,Ue],Ie=()=>["none",ut,He,Ue],je=()=>["none",ut,He,Ue],Ze=()=>[ut,He,Ue],mt=()=>[sc,"full",...b()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ri],breakpoint:[Ri],color:[cF],container:[Ri],"drop-shadow":[Ri],ease:["in","out","in-out"],font:[fF],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ri],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ri],shadow:[Ri],spacing:["px",ut],text:[Ri],"text-shadow":[Ri],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",sc,Ue,He,j]}],container:["container"],columns:[{columns:[ut,Ue,He,u]}],"break-after":[{"break-after":B()}],"break-before":[{"break-before":B()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:S()}],overflow:[{overflow:x()}],"overflow-x":[{"overflow-x":x()}],"overflow-y":[{"overflow-y":x()}],overscroll:[{overscroll:_()}],"overscroll-x":[{"overscroll-x":_()}],"overscroll-y":[{"overscroll-y":_()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:R()}],"inset-x":[{"inset-x":R()}],"inset-y":[{"inset-y":R()}],start:[{start:R()}],end:[{end:R()}],top:[{top:R()}],right:[{right:R()}],bottom:[{bottom:R()}],left:[{left:R()}],visibility:["visible","invisible","collapse"],z:[{z:[Ro,"auto",He,Ue]}],basis:[{basis:[sc,"full","auto",u,...b()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[ut,sc,"auto","initial","none",Ue]}],grow:[{grow:["",ut,He,Ue]}],shrink:[{shrink:["",ut,He,Ue]}],order:[{order:[Ro,"first","last","none",He,Ue]}],"grid-cols":[{"grid-cols":P()}],"col-start-end":[{col:A()}],"col-start":[{"col-start":H()}],"col-end":[{"col-end":H()}],"grid-rows":[{"grid-rows":P()}],"row-start-end":[{row:A()}],"row-start":[{"row-start":H()}],"row-end":[{"row-end":H()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":O()}],"auto-rows":[{"auto-rows":O()}],gap:[{gap:b()}],"gap-x":[{"gap-x":b()}],"gap-y":[{"gap-y":b()}],"justify-content":[{justify:[...K(),"normal"]}],"justify-items":[{"justify-items":[...Y(),"normal"]}],"justify-self":[{"justify-self":["auto",...Y()]}],"align-content":[{content:["normal",...K()]}],"align-items":[{items:[...Y(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Y(),{baseline:["","last"]}]}],"place-content":[{"place-content":K()}],"place-items":[{"place-items":[...Y(),"baseline"]}],"place-self":[{"place-self":["auto",...Y()]}],p:[{p:b()}],px:[{px:b()}],py:[{py:b()}],ps:[{ps:b()}],pe:[{pe:b()}],pt:[{pt:b()}],pr:[{pr:b()}],pb:[{pb:b()}],pl:[{pl:b()}],m:[{m:F()}],mx:[{mx:F()}],my:[{my:F()}],ms:[{ms:F()}],me:[{me:F()}],mt:[{mt:F()}],mr:[{mr:F()}],mb:[{mb:F()}],ml:[{ml:F()}],"space-x":[{"space-x":b()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":b()}],"space-y-reverse":["space-y-reverse"],size:[{size:G()}],w:[{w:[u,"screen",...G()]}],"min-w":[{"min-w":[u,"screen","none",...G()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[l]},...G()]}],h:[{h:["screen","lh",...G()]}],"min-h":[{"min-h":["screen","lh","none",...G()]}],"max-h":[{"max-h":["screen","lh",...G()]}],"font-size":[{text:["base",n,qu,ba]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,He,J0]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",X0,Ue]}],"font-family":[{font:[gF,Ue,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,He,Ue]}],"line-clamp":[{"line-clamp":[ut,"none",He,J0]}],leading:[{leading:[o,...b()]}],"list-image":[{"list-image":["none",He,Ue]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",He,Ue]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:z()}],"text-color":[{text:z()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Te(),"wavy"]}],"text-decoration-thickness":[{decoration:[ut,"from-font","auto",He,ba]}],"text-decoration-color":[{decoration:z()}],"underline-offset":[{"underline-offset":[ut,"auto",He,Ue]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:b()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",He,Ue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",He,Ue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Z()}],"bg-repeat":[{bg:ee()}],"bg-size":[{bg:W()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Ro,He,Ue],radial:["",He,Ue],conic:[Ro,He,Ue]},yF,mF]}],"bg-color":[{bg:z()}],"gradient-from-pos":[{from:J()}],"gradient-via-pos":[{via:J()}],"gradient-to-pos":[{to:J()}],"gradient-from":[{from:z()}],"gradient-via":[{via:z()}],"gradient-to":[{to:z()}],rounded:[{rounded:ue()}],"rounded-s":[{"rounded-s":ue()}],"rounded-e":[{"rounded-e":ue()}],"rounded-t":[{"rounded-t":ue()}],"rounded-r":[{"rounded-r":ue()}],"rounded-b":[{"rounded-b":ue()}],"rounded-l":[{"rounded-l":ue()}],"rounded-ss":[{"rounded-ss":ue()}],"rounded-se":[{"rounded-se":ue()}],"rounded-ee":[{"rounded-ee":ue()}],"rounded-es":[{"rounded-es":ue()}],"rounded-tl":[{"rounded-tl":ue()}],"rounded-tr":[{"rounded-tr":ue()}],"rounded-br":[{"rounded-br":ue()}],"rounded-bl":[{"rounded-bl":ue()}],"border-w":[{border:_e()}],"border-w-x":[{"border-x":_e()}],"border-w-y":[{"border-y":_e()}],"border-w-s":[{"border-s":_e()}],"border-w-e":[{"border-e":_e()}],"border-w-t":[{"border-t":_e()}],"border-w-r":[{"border-r":_e()}],"border-w-b":[{"border-b":_e()}],"border-w-l":[{"border-l":_e()}],"divide-x":[{"divide-x":_e()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":_e()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Te(),"hidden","none"]}],"divide-style":[{divide:[...Te(),"hidden","none"]}],"border-color":[{border:z()}],"border-color-x":[{"border-x":z()}],"border-color-y":[{"border-y":z()}],"border-color-s":[{"border-s":z()}],"border-color-e":[{"border-e":z()}],"border-color-t":[{"border-t":z()}],"border-color-r":[{"border-r":z()}],"border-color-b":[{"border-b":z()}],"border-color-l":[{"border-l":z()}],"divide-color":[{divide:z()}],"outline-style":[{outline:[...Te(),"none","hidden"]}],"outline-offset":[{"outline-offset":[ut,He,Ue]}],"outline-w":[{outline:["",ut,qu,ba]}],"outline-color":[{outline:z()}],shadow:[{shadow:["","none",v,Uf,Vf]}],"shadow-color":[{shadow:z()}],"inset-shadow":[{"inset-shadow":["none",y,Uf,Vf]}],"inset-shadow-color":[{"inset-shadow":z()}],"ring-w":[{ring:_e()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:z()}],"ring-offset-w":[{"ring-offset":[ut,ba]}],"ring-offset-color":[{"ring-offset":z()}],"inset-ring-w":[{"inset-ring":_e()}],"inset-ring-color":[{"inset-ring":z()}],"text-shadow":[{"text-shadow":["none",T,Uf,Vf]}],"text-shadow-color":[{"text-shadow":z()}],opacity:[{opacity:[ut,He,Ue]}],"mix-blend":[{"mix-blend":[...ce(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ce()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[ut]}],"mask-image-linear-from-pos":[{"mask-linear-from":pe()}],"mask-image-linear-to-pos":[{"mask-linear-to":pe()}],"mask-image-linear-from-color":[{"mask-linear-from":z()}],"mask-image-linear-to-color":[{"mask-linear-to":z()}],"mask-image-t-from-pos":[{"mask-t-from":pe()}],"mask-image-t-to-pos":[{"mask-t-to":pe()}],"mask-image-t-from-color":[{"mask-t-from":z()}],"mask-image-t-to-color":[{"mask-t-to":z()}],"mask-image-r-from-pos":[{"mask-r-from":pe()}],"mask-image-r-to-pos":[{"mask-r-to":pe()}],"mask-image-r-from-color":[{"mask-r-from":z()}],"mask-image-r-to-color":[{"mask-r-to":z()}],"mask-image-b-from-pos":[{"mask-b-from":pe()}],"mask-image-b-to-pos":[{"mask-b-to":pe()}],"mask-image-b-from-color":[{"mask-b-from":z()}],"mask-image-b-to-color":[{"mask-b-to":z()}],"mask-image-l-from-pos":[{"mask-l-from":pe()}],"mask-image-l-to-pos":[{"mask-l-to":pe()}],"mask-image-l-from-color":[{"mask-l-from":z()}],"mask-image-l-to-color":[{"mask-l-to":z()}],"mask-image-x-from-pos":[{"mask-x-from":pe()}],"mask-image-x-to-pos":[{"mask-x-to":pe()}],"mask-image-x-from-color":[{"mask-x-from":z()}],"mask-image-x-to-color":[{"mask-x-to":z()}],"mask-image-y-from-pos":[{"mask-y-from":pe()}],"mask-image-y-to-pos":[{"mask-y-to":pe()}],"mask-image-y-from-color":[{"mask-y-from":z()}],"mask-image-y-to-color":[{"mask-y-to":z()}],"mask-image-radial":[{"mask-radial":[He,Ue]}],"mask-image-radial-from-pos":[{"mask-radial-from":pe()}],"mask-image-radial-to-pos":[{"mask-radial-to":pe()}],"mask-image-radial-from-color":[{"mask-radial-from":z()}],"mask-image-radial-to-color":[{"mask-radial-to":z()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":m()}],"mask-image-conic-pos":[{"mask-conic":[ut]}],"mask-image-conic-from-pos":[{"mask-conic-from":pe()}],"mask-image-conic-to-pos":[{"mask-conic-to":pe()}],"mask-image-conic-from-color":[{"mask-conic-from":z()}],"mask-image-conic-to-color":[{"mask-conic-to":z()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Z()}],"mask-repeat":[{mask:ee()}],"mask-size":[{mask:W()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",He,Ue]}],filter:[{filter:["","none",He,Ue]}],blur:[{blur:Re()}],brightness:[{brightness:[ut,He,Ue]}],contrast:[{contrast:[ut,He,Ue]}],"drop-shadow":[{"drop-shadow":["","none",k,Uf,Vf]}],"drop-shadow-color":[{"drop-shadow":z()}],grayscale:[{grayscale:["",ut,He,Ue]}],"hue-rotate":[{"hue-rotate":[ut,He,Ue]}],invert:[{invert:["",ut,He,Ue]}],saturate:[{saturate:[ut,He,Ue]}],sepia:[{sepia:["",ut,He,Ue]}],"backdrop-filter":[{"backdrop-filter":["","none",He,Ue]}],"backdrop-blur":[{"backdrop-blur":Re()}],"backdrop-brightness":[{"backdrop-brightness":[ut,He,Ue]}],"backdrop-contrast":[{"backdrop-contrast":[ut,He,Ue]}],"backdrop-grayscale":[{"backdrop-grayscale":["",ut,He,Ue]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[ut,He,Ue]}],"backdrop-invert":[{"backdrop-invert":["",ut,He,Ue]}],"backdrop-opacity":[{"backdrop-opacity":[ut,He,Ue]}],"backdrop-saturate":[{"backdrop-saturate":[ut,He,Ue]}],"backdrop-sepia":[{"backdrop-sepia":["",ut,He,Ue]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":b()}],"border-spacing-x":[{"border-spacing-x":b()}],"border-spacing-y":[{"border-spacing-y":b()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",He,Ue]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[ut,"initial",He,Ue]}],ease:[{ease:["linear","initial",L,He,Ue]}],delay:[{delay:[ut,He,Ue]}],animate:[{animate:["none",U,He,Ue]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[D,He,Ue]}],"perspective-origin":[{"perspective-origin":S()}],rotate:[{rotate:Ie()}],"rotate-x":[{"rotate-x":Ie()}],"rotate-y":[{"rotate-y":Ie()}],"rotate-z":[{"rotate-z":Ie()}],scale:[{scale:je()}],"scale-x":[{"scale-x":je()}],"scale-y":[{"scale-y":je()}],"scale-z":[{"scale-z":je()}],"scale-3d":["scale-3d"],skew:[{skew:Ze()}],"skew-x":[{"skew-x":Ze()}],"skew-y":[{"skew-y":Ze()}],transform:[{transform:[He,Ue,"","none","gpu","cpu"]}],"transform-origin":[{origin:S()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:mt()}],"translate-x":[{"translate-x":mt()}],"translate-y":[{"translate-y":mt()}],"translate-z":[{"translate-z":mt()}],"translate-none":["translate-none"],accent:[{accent:z()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:z()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",He,Ue]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":b()}],"scroll-mx":[{"scroll-mx":b()}],"scroll-my":[{"scroll-my":b()}],"scroll-ms":[{"scroll-ms":b()}],"scroll-me":[{"scroll-me":b()}],"scroll-mt":[{"scroll-mt":b()}],"scroll-mr":[{"scroll-mr":b()}],"scroll-mb":[{"scroll-mb":b()}],"scroll-ml":[{"scroll-ml":b()}],"scroll-p":[{"scroll-p":b()}],"scroll-px":[{"scroll-px":b()}],"scroll-py":[{"scroll-py":b()}],"scroll-ps":[{"scroll-ps":b()}],"scroll-pe":[{"scroll-pe":b()}],"scroll-pt":[{"scroll-pt":b()}],"scroll-pr":[{"scroll-pr":b()}],"scroll-pb":[{"scroll-pb":b()}],"scroll-pl":[{"scroll-pl":b()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",He,Ue]}],fill:[{fill:["none",...z()]}],"stroke-w":[{stroke:[ut,qu,ba,J0]}],stroke:[{stroke:["none",...z()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},SF=nF(EF);function It(...t){return SF(_1(t))}function j1({...t}){return c.jsx(M9,{"data-slot":"alert-dialog",...t})}function xF({...t}){return c.jsx(O9,{"data-slot":"alert-dialog-portal",...t})}const kI=E.forwardRef(({className:t,...e},n)=>c.jsx(L9,{ref:n,"data-slot":"alert-dialog-overlay",className:It("fixed inset-0 z-[60020] bg-black/50","alert-dialog-overlay data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));kI.displayName="AlertDialogOverlay";const jm=E.forwardRef(({className:t,width:e,fullWidth:n=!1,...r},s)=>{const o=!n&&e?{width:e}:void 0;return c.jsxs(xF,{children:[c.jsx(kI,{}),c.jsx(F9,{ref:s,"data-slot":"alert-dialog-content","aria-describedby":void 0,onPointerDown:l=>l.stopPropagation(),onClick:l=>l.stopPropagation(),className:It("fixed top-[50%] left-[50%] z-[60021] w-full translate-x-[-50%] translate-y-[-50%] rounded-lg border shadow-lg duration-200","alert-dialog-content data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95",n&&"full-width",t),style:o,...r,children:c.jsx("div",{className:"alert-dialog-inner",children:r.children})})]})});jm.displayName="AlertDialogContent";function M1({className:t,...e}){return c.jsx("div",{"data-slot":"alert-dialog-header",className:It("alert-dialog-header",t),...e})}function O1({className:t,...e}){return c.jsx("div",{"data-slot":"alert-dialog-footer",className:It("alert-dialog-footer",t),...e})}function L1({className:t,...e}){return c.jsx(H9,{"data-slot":"alert-dialog-title",className:It("alert-dialog-title",t),...e})}function F1({className:t,...e}){return c.jsx(B9,{"data-slot":"alert-dialog-description",className:It("alert-dialog-description",t),...e})}function V1({className:t,destructive:e=!1,...n}){return c.jsx(V9,{className:It("button",e&&"destructive",t),...n})}function U1({className:t,...e}){return c.jsx(U9,{className:It("button outline",t),...e})}const TF=({setChatHistory:t,setHistoryRefreshTrigger:e})=>{eh(!0);const[n,r]=E.useState({type:"confirm",message:""}),[s,o]=E.useState(!1),l=async()=>{const h=await Z4(t,e);r(h),o(!1)},u=()=>c.jsxs(c.Fragment,{children:[c.jsxs(M1,{children:[c.jsx(L1,{children:"Delete All Chat History"}),c.jsx(F1,{children:"Are you sure you want to delete all chat history? This action cannot be undone."})]}),c.jsx(O1,{children:c.jsxs("div",{className:"button-group",children:[c.jsx(V1,{destructive:!0,onClick:l,children:"Delete All"}),c.jsx(U1,{children:"Cancel"})]})})]});return c.jsxs("div",{className:"full-page-layout",children:[c.jsx(Xi,{title:"Delete History",icon:an.DELETE_HISTORY.MINI}),c.jsx("div",{className:"full-page-content",children:c.jsx(Am,{size:"sm",children:c.jsxs("section",{className:"danger-zone",children:[c.jsx("h2",{className:"danger-zone__title",children:"Danger Zone"}),c.jsx("p",{children:"Once you delete your chat history, there is no going back. Please be certain."}),c.jsx("button",{onClick:()=>o(!0),className:"button destructive",children:"Delete All Chat History"}),n.type==="success"&&c.jsx(xt,{type:"success",message:n.message}),n.type==="error"&&c.jsx(xt,{type:"error",message:n.message})]})})}),c.jsx(j1,{open:s,onOpenChange:o,children:c.jsx(jm,{children:u()})})]})},bF=[{value:Ho.KEEP_HISTORY,label:"Keep chat history"},{value:Ho.DO_NOT_TRACK_HISTORY,label:"Do not track chat history"}];function CF({customInstructions:t,onInstructionsUpdate:e,chatHistoryPreference:n,setChatHistoryPreference:r,showCompletedOnlyPreference:s,setShowCompletedOnlyPreference:o}){const[l,u]=E.useState(t||""),[h,p]=E.useState(!1),[v,y]=E.useState(!0),[T,k]=E.useState(""),[N,D]=E.useState("info");E.useEffect(()=>{(async()=>{y(!0);try{const{instructionsResponse:U,chatHistoryResponse:B,showCompletedOnlyResponse:m}=await fd.loadAllPreferences();U.instructions!==void 0&&(u(U.instructions),e(U.instructions)),B.chatHistory&&r(B.chatHistory),m.showCompletedOnly!==void 0&&o(m.showCompletedOnly)}catch(U){console.error("Error loading preferences:",U),k("Error loading preferences"),D("error")}finally{y(!1)}})()},[]);const j=async()=>{p(!0),k("");try{await fd.savePreferences(l,n,s),k("All preferences saved successfully!"),D("success"),e(l)}catch(L){console.error("Error saving preferences:",L),k("Error saving preferences"),D("error")}finally{p(!1)}};return c.jsxs("div",{className:"preferences-module",children:[c.jsx("h2",{children:"Special Instructions"}),v&&c.jsx("div",{className:"loading-overlay",children:c.jsx(xt,{type:"loading",message:"Loading preferences...",showTitle:!1,transparent:!0})}),c.jsxs("div",{className:"preferences-content",children:[c.jsx("textarea",{value:l,onChange:L=>u(L.target.value),placeholder:v?"Loading instructions...":"Enter your special instructions for the ReCard AI assistant...",rows:6,className:`preferences-textarea default-textarea ${v?"loading":""}`,disabled:v}),c.jsxs("div",{className:"chat-history-preference",children:[c.jsx("label",{htmlFor:"chatHistorySelect",children:"Chat History Preference:"}),c.jsx("select",{id:"chatHistorySelect",value:n||"keep_history",onChange:L=>r(L.target.value),className:`chat-history-select default-select ${v?"loading":""}`,disabled:v,children:bF.map(L=>c.jsx("option",{value:L.value,children:L.label},L.value))})]}),c.jsxs("div",{className:"show-completed-preference",children:[c.jsx("label",{htmlFor:"showCompletedSelect",children:"Transaction Display Preference:"}),c.jsxs("select",{id:"showCompletedSelect",value:s.toString(),onChange:L=>o(L.target.value==="true"),className:`show-completed-select default-select ${v?"loading":""}`,disabled:v,children:[c.jsx("option",{value:"false",children:"Show all transactions"}),c.jsx("option",{value:"true",children:"Only show completed transactions"})]})]}),c.jsxs("button",{onClick:j,disabled:h||v,className:`save-button ${h?"loading icon with-text":""}`,children:[h&&c.jsx(Go,{size:qa}),h?"Saving...":"Save Preferences"]}),T&&c.jsx(xt,{type:N,message:T})]})]})}/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IF=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),AF=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),aS=t=>{const e=AF(t);return e.charAt(0).toUpperCase()+e.slice(1)},DI=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),RF=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var PF={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NF=E.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:o,iconNode:l,...u},h)=>E.createElement("svg",{ref:h,...PF,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:DI("lucide",s),...!o&&!RF(u)&&{"aria-hidden":"true"},...u},[...l.map(([p,v])=>E.createElement(p,v)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nh=(t,e)=>{const n=E.forwardRef(({className:r,...s},o)=>E.createElement(NF,{ref:o,iconNode:e,className:DI(`lucide-${IF(aS(t))}`,`lucide-${t}`,r),...s}));return n.displayName=aS(t),n};/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kF=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],DF=nh("check",kF);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jF=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],MF=nh("chevron-left",jF);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OF=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],LF=nh("chevron-right",OF);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FF=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],VF=nh("ellipsis",FF);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UF=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],HF=nh("x",UF);function As({...t}){return c.jsx(A1,{"data-slot":"dialog",...t})}function BF({...t}){return c.jsx(R1,{"data-slot":"dialog-portal",...t})}const jI=E.forwardRef(({className:t,...e},n)=>c.jsx(P1,{ref:n,"data-slot":"dialog-overlay",className:It("fixed inset-0 z-50 bg-black/50","dialog-overlay data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));jI.displayName="DialogOverlay";const Jr=E.forwardRef(({className:t,children:e,showCloseButton:n=!0,width:r,fullWidth:s=!1,fullScreen:o=!1,...l},u)=>{const h=r&&!s&&!o?{width:r}:{};return c.jsxs(BF,{"data-slot":"dialog-portal",children:[c.jsx(jI,{className:"z-[60010]"}),c.jsx(N1,{ref:u,"data-slot":"dialog-content","aria-describedby":void 0,onPointerDown:p=>p.stopPropagation(),onClick:p=>p.stopPropagation(),className:It("fixed top-[50%] left-[50%] z-[60011] w-full translate-x-[-50%] translate-y-[-50%] rounded-lg border shadow-lg duration-200","dialog-content data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95",s&&"full-width",o&&"full-screen",t),style:h,...l,children:c.jsx("div",{className:"dialog-inner",children:E.Children.map(e,p=>E.isValidElement(p)&&p.type===es?E.cloneElement(p,{showCloseButton:n}):p)})})]})});Jr.displayName="DialogContent";function es({className:t,showCloseButton:e,...n}){return c.jsxs("div",{"data-slot":"dialog-header",className:It("dialog-header",t),...n,children:[n.children,e&&c.jsxs(Dm,{"data-slot":"dialog-close",className:"dialog-close-btn",children:[c.jsx(HF,{}),c.jsx("span",{className:"sr-only",children:"Close"})]})]})}function Rd({className:t,...e}){return c.jsx("div",{"data-slot":"dialog-footer",className:It("dialog-footer",t),...e})}function zi({className:t,...e}){return c.jsx("div",{"data-slot":"dialog-body",className:It("dialog-body",t),...e})}function Rs({className:t,...e}){return c.jsx(k1,{"data-slot":"dialog-title",className:It("dialog-title",t),...e})}const MI=()=>c.jsxs("div",{className:"help-modal-content",children:[c.jsxs("section",{children:[c.jsx("h3",{children:"Custom Instructions"}),c.jsx("p",{children:'Use this field to provide specific instructions about your spending preferences, financial goals, or any other context that will help generate better recommendations. For example: "I prefer cashback over travel rewards" or "I want to build credit history."'})]}),c.jsxs("section",{children:[c.jsx("h3",{children:"Chat History"}),c.jsx("p",{children:"Choose whether to keep your conversation history or clear it after each session:"}),c.jsxs("ul",{children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Keep History:"})," Maintains context across conversations for better recommendations"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Clear History:"})," Starts fresh each time for privacy"]})]})]}),c.jsxs("section",{children:[c.jsx("h3",{children:"Show Completed Only"}),c.jsxs("p",{children:["Toggle this option to filter your ",rt.TRANSACTION_HISTORY.toLowerCase()," to show only completed items. This affects what appears in your history view and can help focus on finalized purchases."]})]})]}),$F=({preferencesInstructions:t,setPreferencesInstructions:e,chatHistoryPreference:n,setChatHistoryPreference:r,showCompletedOnlyPreference:s,setShowCompletedOnlyPreference:o})=>{eh(!0);const[l,u]=E.useState(!1);return c.jsxs("div",{className:"full-page-layout",children:[c.jsx(Xi,{title:rt.PREFERENCES,icon:an.PREFERENCES.MINI,showHelpButton:!0,onHelpClick:()=>u(!0)}),c.jsx("div",{className:"full-page-content",children:c.jsx(Am,{size:"md",children:c.jsx(CF,{customInstructions:t,onInstructionsUpdate:e,chatHistoryPreference:n,setChatHistoryPreference:r,showCompletedOnlyPreference:s,setShowCompletedOnlyPreference:o})})}),c.jsx(As,{open:l,onOpenChange:u,children:c.jsxs(Jr,{children:[c.jsx(es,{children:c.jsx(Rs,{children:"Preferences Help"})}),c.jsx(zi,{children:c.jsx(MI,{})})]})})]})},zF=()=>{const{login:t,loginWithEmail:e}=di(),n=js(),[r,s]=E.useState(""),[o,l]=E.useState(""),[u,h]=E.useState(""),p=async y=>{y.preventDefault(),h("");try{await e(r,o),await zp.emailSignIn(),console.log("Authentication successful"),n(fe.HOME.PATH)}catch(T){h(T.message),console.error("Authentication failed:",T)}},v=async()=>{try{const{isNewUser:y}=await t();await zp.googleSignIn(y),console.log("Authentication successful"),n(y?fe.WELCOME.PATH:fe.HOME.PATH)}catch(y){h(y.message),console.error("Authentication failed:",y)}};return c.jsxs("div",{className:"auth-page",children:[c.jsxs("div",{className:"auth-brand",children:[c.jsx("img",{src:em,alt:`${Bn} logo`,className:"brand-logo"}),c.jsx("span",{className:"brand-name",children:Bn})]}),c.jsxs("div",{className:"auth-card",children:[c.jsxs("div",{className:"auth-header",children:[c.jsx("h1",{children:"Sign in"}),c.jsx("p",{className:"subtitle",children:"Welcome back. Please enter your details."})]}),c.jsxs("form",{onSubmit:p,className:"auth-form",children:[c.jsx("div",{className:"form-row",children:c.jsx("input",{type:"email",placeholder:"Email",value:r,onChange:y=>s(y.target.value),required:!0,className:"default-input"})}),c.jsx("div",{className:"form-row",children:c.jsx("input",{type:"password",placeholder:"Password",value:o,onChange:y=>l(y.target.value),required:!0,className:"default-input"})}),c.jsx("div",{className:"form-actions",children:c.jsx(Ht,{to:fe.FORGOT_PASSWORD.PATH,className:"aux-link",children:"Forgot password?"})}),c.jsx("button",{type:"submit",className:"submit-button",children:"Sign in"})]}),c.jsx("div",{className:"auth-divider",children:"or continue with"}),c.jsx("button",{onClick:v,className:"social-button",children:"Continue with Google"}),c.jsxs("p",{className:"auth-redirect",children:["Need an account? ",c.jsx(Ht,{to:fe.SIGN_UP.PATH,children:"Create one"})]}),u&&c.jsx(xt,{type:"error",message:u})]})]})},WF=()=>{const{registerWithEmail:t,login:e,sendVerificationEmail:n}=di(),r=js(),[s,o]=E.useState(""),[l,u]=E.useState(""),[h,p]=E.useState(""),[v,y]=E.useState(""),[T,k]=E.useState(""),[N,D]=E.useState(""),j=()=>{if(s.trim().length===0||l.trim().length===0)return D("First name and last name cannot be empty"),!1;const B=/^[a-zA-Z\s-']+$/;return!B.test(s)||!B.test(l)?(D("Names can only contain letters, spaces, hyphens, and apostrophes"),!1):!0},L=async B=>{if(B.preventDefault(),D(""),v!==T){D("Passwords do not match");return}if(j())try{const{user:m}=await t(h,v,s,l);if(!m)throw new Error("Registration failed - no user returned");await n(),await zp.emailSignUp(s,l),console.log("Registration successful"),r(fe.WELCOME.PATH)}catch(m){const S=m;D(S.message),console.error("Registration failed:",S)}},U=async()=>{try{const{isNewUser:B}=await e();await zp.googleSignIn(B??!1),console.log("Authentication successful"),r(B?fe.WELCOME.PATH:fe.HOME.PATH)}catch(B){const m=B;D(m.message),console.error("Authentication failed:",m)}};return c.jsxs("div",{className:"auth-page",children:[c.jsxs("div",{className:"auth-brand",children:[c.jsx("img",{src:em,alt:`${Bn} logo`,className:"brand-logo"}),c.jsx("span",{className:"brand-name",children:Bn})]}),c.jsxs("div",{className:"auth-card",children:[c.jsxs("div",{className:"auth-header",children:[c.jsx("h1",{children:"Create your account"}),c.jsx("p",{className:"subtitle",children:"Start optimizing your credit card rewards."})]}),c.jsxs("form",{onSubmit:L,className:"auth-form",children:[c.jsx("div",{className:"form-row",children:c.jsx("input",{type:"text",placeholder:"First name",value:s,onChange:B=>o(B.target.value),required:!0,className:"default-input"})}),c.jsx("div",{className:"form-row",children:c.jsx("input",{type:"text",placeholder:"Last name",value:l,onChange:B=>u(B.target.value),required:!0,className:"default-input"})}),c.jsx("div",{className:"form-row",children:c.jsx("input",{type:"email",placeholder:"Email",value:h,onChange:B=>p(B.target.value),required:!0,className:"default-input"})}),c.jsx("div",{className:"form-row",children:c.jsx("input",{type:"password",placeholder:"Password",value:v,onChange:B=>y(B.target.value),required:!0,className:"default-input"})}),c.jsx("div",{className:"form-row",children:c.jsx("input",{type:"password",placeholder:"Confirm password",value:T,onChange:B=>k(B.target.value),required:!0,className:"default-input"})}),c.jsx("button",{type:"submit",className:"submit-button",children:"Create account"})]}),c.jsx("div",{className:"auth-divider",children:"or continue with"}),c.jsx("button",{onClick:U,className:"social-button",children:"Sign up with Google"}),c.jsxs("p",{className:"auth-redirect",children:["Already have an account? ",c.jsx(Ht,{to:fe.SIGN_IN.PATH,children:"Sign in"})]}),N&&c.jsx(xt,{type:"error",message:N})]})]})},GF=()=>{const{sendPasswordResetEmail:t}=di(),[e,n]=E.useState(""),[r,s]=E.useState(""),[o,l]=E.useState(""),u=async h=>{h.preventDefault();try{await t(e),s(""),l("Password reset email sent! Please check your inbox.")}catch(p){s(p.message||"Failed to send reset email")}};return c.jsxs("div",{className:"auth-page",children:[c.jsxs("div",{className:"auth-brand",children:[c.jsx("img",{src:em,alt:`${Bn} logo`,className:"brand-logo"}),c.jsx("span",{className:"brand-name",children:Bn})]}),c.jsxs("div",{className:"auth-card",children:[c.jsxs("div",{className:"auth-header",children:[c.jsx("h1",{children:"Reset your password"}),c.jsx("p",{className:"subtitle",children:"Enter your email and well send you a reset link."})]}),c.jsxs("form",{onSubmit:u,className:"auth-form",children:[c.jsx("div",{className:"form-row",children:c.jsx("input",{type:"email",placeholder:"Email",value:e,onChange:h=>n(h.target.value),className:"default-input",required:!0})}),c.jsx("button",{type:"submit",className:"submit-button",children:"Send reset link"})]}),c.jsxs("p",{className:"auth-redirect",children:["Remember your password? ",c.jsx(Ht,{to:fe.SIGN_IN.PATH,children:"Sign in"})]}),r&&c.jsx(xt,{type:"error",message:r}),o&&c.jsx(xt,{type:"success",message:o})]})]})},qF=({onModalOpen:t})=>{const{user:e}=di(),n=js();eh(!0);const r=e!=null&&e.displayName?`Hi ${e.displayName}!`:"Welcome!";return c.jsxs("div",{className:"full-page-layout",children:[c.jsx(Xi,{title:"Welcome",icon:an.HOME.MINI}),c.jsx("div",{className:"full-page-content",children:c.jsx(Am,{size:"md",children:c.jsxs("div",{className:"welcome-wrapper",children:[c.jsxs("div",{className:"welcome-hero",children:[c.jsxs("h2",{className:"welcome-title",children:[r," "]}),c.jsx("p",{className:"welcome-subtitle",children:"Lets set up your account so you can get personalized, real-time recommendations on which card to use for every purchase and maximize your rewards."}),c.jsxs("div",{className:"welcome-actions",children:[c.jsxs("button",{className:"icon with-text",onClick:t,children:[c.jsx(De,{name:"card",variant:"mini",size:16}),c.jsx("span",{children:"Select Your Credit Cards"})]}),c.jsxs("button",{className:"secondary icon with-text",onClick:()=>n(fe.HOME.PATH),children:[c.jsx(De,{name:"chat-bubble",variant:"mini",size:16}),c.jsx("span",{children:rt.NEW_TRANSACTION_CHAT})]})]})]}),c.jsxs("div",{className:"welcome-sections",children:[c.jsxs("section",{className:"section",children:[c.jsx("h3",{className:"section-title",children:"Getting Started"}),c.jsxs("div",{className:"steps-grid",children:[c.jsxs("div",{className:"step-card",children:[c.jsx("h4",{children:"1. Add your credit cards"}),c.jsx("p",{children:"Select the cards you own to unlock personalized rewards guidance."}),c.jsx("div",{className:"card-actions",children:c.jsxs("button",{className:"icon with-text mini ghost",onClick:t,children:[c.jsx(De,{name:"card",variant:"mini",size:16}),c.jsx("span",{children:"Add your cards"})]})})]}),c.jsxs("div",{className:"step-card",children:[c.jsx("h4",{children:"2. Verify your email"}),c.jsx("p",{children:"Improve account security and enable additional features."}),c.jsxs("p",{className:"subtle",children:["Manage verification from your ",c.jsx(Ht,{to:fe.ACCOUNT.PATH,children:"account"}),"."]})]}),c.jsxs("div",{className:"step-card",children:[c.jsx("h4",{children:"3. Ask about any purchase"}),c.jsx("p",{children:"Describe what youre buying; well recommend the best card instantly."})]}),c.jsxs("div",{className:"step-card",children:[c.jsx("h4",{children:"4. Track your history"}),c.jsx("p",{children:"Review past chats and decisions to learn and optimize over time."})]})]})]}),c.jsxs("section",{className:"section tips",children:[c.jsx("h3",{className:"section-title",children:"Pro tips"}),c.jsxs("ul",{className:"tips-list",children:[c.jsx("li",{children:"Keep your card list up to date to maintain accurate recommendations."}),c.jsx("li",{children:"Use preferences to tailor instructions and filter your history."}),c.jsx("li",{children:"Star important chats to find them quickly later."})]}),c.jsx("div",{className:"tip-actions",children:c.jsxs(Ht,{className:"button icon with-text mini ghost",to:fe.PREFERENCES.PATH,children:[c.jsx(De,{name:"preferences",variant:"mini",size:16}),c.jsx("span",{children:"Adjust preferences"})]})})]})]})]})})})]})},KF=t=>{const e=new Date,n=new Date(t),r=Math.floor((e.getTime()-n.getTime())/1e3);if(r<60)return"just now";const s=Math.floor(r/60);if(s<60)return`${s} ${s===1?"minute":"minutes"} ago`;const o=Math.floor(s/60);if(o<24)return`${o} ${o===1?"hour":"hours"} ago`;let l=n.getHours();const u=n.getMinutes(),h=l>=12?"PM":"AM";l=l%12,l=l||12;const p=u<10?"0"+u:u;return`${Ni[n.getMonth()]} ${n.getDate()}, ${l}:${p} ${h}`},YF=async(t,e,n)=>{await Xr.deleteHistoryEntry(t),n.onDelete&&n.onDelete(t),t===e&&(n.returnCurrentChatId(null),n.currentPath.startsWith("/history")||n.navigate("/",{replace:!0}))};function H1(t){const e=t+"CollectionProvider",[n,r]=ta(e),[s,o]=n(e,{collectionRef:{current:null},itemMap:new Map}),l=D=>{const{scope:j,children:L}=D,U=xe.useRef(null),B=xe.useRef(new Map).current;return c.jsx(s,{scope:j,itemMap:B,collectionRef:U,children:L})};l.displayName=e;const u=t+"CollectionSlot",h=Ad(u),p=xe.forwardRef((D,j)=>{const{scope:L,children:U}=D,B=o(u,L),m=$t(j,B.collectionRef);return c.jsx(h,{ref:m,children:U})});p.displayName=u;const v=t+"CollectionItemSlot",y="data-radix-collection-item",T=Ad(v),k=xe.forwardRef((D,j)=>{const{scope:L,children:U,...B}=D,m=xe.useRef(null),S=$t(j,m),x=o(v,L);return xe.useEffect(()=>(x.itemMap.set(m,{ref:m,...B}),()=>void x.itemMap.delete(m))),c.jsx(T,{[y]:"",ref:S,children:U})});k.displayName=v;function N(D){const j=o(t+"CollectionConsumer",D);return xe.useCallback(()=>{const U=j.collectionRef.current;if(!U)return[];const B=Array.from(U.querySelectorAll(`[${y}]`));return Array.from(j.itemMap.values()).sort((x,_)=>B.indexOf(x.ref.current)-B.indexOf(_.ref.current))},[j.collectionRef,j.itemMap])}return[{Provider:l,Slot:p,ItemSlot:k},N,r]}var ZF=E.createContext(void 0);function B1(t){const e=E.useContext(ZF);return t||e||"ltr"}const QF=["top","right","bottom","left"],Qo=Math.min,Rr=Math.max,Gp=Math.round,Hf=Math.floor,oi=t=>({x:t,y:t}),XF={left:"right",right:"left",bottom:"top",top:"bottom"},JF={start:"end",end:"start"};function oy(t,e,n){return Rr(t,Qo(e,n))}function Wi(t,e){return typeof t=="function"?t(e):t}function Gi(t){return t.split("-")[0]}function Yc(t){return t.split("-")[1]}function $1(t){return t==="x"?"y":"x"}function z1(t){return t==="y"?"height":"width"}const eV=new Set(["top","bottom"]);function si(t){return eV.has(Gi(t))?"y":"x"}function W1(t){return $1(si(t))}function tV(t,e,n){n===void 0&&(n=!1);const r=Yc(t),s=W1(t),o=z1(s);let l=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(l=qp(l)),[l,qp(l)]}function nV(t){const e=qp(t);return[ay(t),e,ay(e)]}function ay(t){return t.replace(/start|end/g,e=>JF[e])}const lS=["left","right"],cS=["right","left"],rV=["top","bottom"],sV=["bottom","top"];function iV(t,e,n){switch(t){case"top":case"bottom":return n?e?cS:lS:e?lS:cS;case"left":case"right":return e?rV:sV;default:return[]}}function oV(t,e,n,r){const s=Yc(t);let o=iV(Gi(t),n==="start",r);return s&&(o=o.map(l=>l+"-"+s),e&&(o=o.concat(o.map(ay)))),o}function qp(t){return t.replace(/left|right|bottom|top/g,e=>XF[e])}function aV(t){return{top:0,right:0,bottom:0,left:0,...t}}function OI(t){return typeof t!="number"?aV(t):{top:t,right:t,bottom:t,left:t}}function Kp(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function uS(t,e,n){let{reference:r,floating:s}=t;const o=si(e),l=W1(e),u=z1(l),h=Gi(e),p=o==="y",v=r.x+r.width/2-s.width/2,y=r.y+r.height/2-s.height/2,T=r[u]/2-s[u]/2;let k;switch(h){case"top":k={x:v,y:r.y-s.height};break;case"bottom":k={x:v,y:r.y+r.height};break;case"right":k={x:r.x+r.width,y};break;case"left":k={x:r.x-s.width,y};break;default:k={x:r.x,y:r.y}}switch(Yc(e)){case"start":k[l]-=T*(n&&p?-1:1);break;case"end":k[l]+=T*(n&&p?-1:1);break}return k}const lV=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:o=[],platform:l}=n,u=o.filter(Boolean),h=await(l.isRTL==null?void 0:l.isRTL(e));let p=await l.getElementRects({reference:t,floating:e,strategy:s}),{x:v,y}=uS(p,r,h),T=r,k={},N=0;for(let D=0;D<u.length;D++){const{name:j,fn:L}=u[D],{x:U,y:B,data:m,reset:S}=await L({x:v,y,initialPlacement:r,placement:T,strategy:s,middlewareData:k,rects:p,platform:l,elements:{reference:t,floating:e}});v=U??v,y=B??y,k={...k,[j]:{...k[j],...m}},S&&N<=50&&(N++,typeof S=="object"&&(S.placement&&(T=S.placement),S.rects&&(p=S.rects===!0?await l.getElementRects({reference:t,floating:e,strategy:s}):S.rects),{x:v,y}=uS(p,T,h)),D=-1)}return{x:v,y,placement:T,strategy:s,middlewareData:k}};async function Pd(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:o,rects:l,elements:u,strategy:h}=t,{boundary:p="clippingAncestors",rootBoundary:v="viewport",elementContext:y="floating",altBoundary:T=!1,padding:k=0}=Wi(e,t),N=OI(k),j=u[T?y==="floating"?"reference":"floating":y],L=Kp(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(j)))==null||n?j:j.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(u.floating)),boundary:p,rootBoundary:v,strategy:h})),U=y==="floating"?{x:r,y:s,width:l.floating.width,height:l.floating.height}:l.reference,B=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u.floating)),m=await(o.isElement==null?void 0:o.isElement(B))?await(o.getScale==null?void 0:o.getScale(B))||{x:1,y:1}:{x:1,y:1},S=Kp(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:U,offsetParent:B,strategy:h}):U);return{top:(L.top-S.top+N.top)/m.y,bottom:(S.bottom-L.bottom+N.bottom)/m.y,left:(L.left-S.left+N.left)/m.x,right:(S.right-L.right+N.right)/m.x}}const cV=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:o,platform:l,elements:u,middlewareData:h}=e,{element:p,padding:v=0}=Wi(t,e)||{};if(p==null)return{};const y=OI(v),T={x:n,y:r},k=W1(s),N=z1(k),D=await l.getDimensions(p),j=k==="y",L=j?"top":"left",U=j?"bottom":"right",B=j?"clientHeight":"clientWidth",m=o.reference[N]+o.reference[k]-T[k]-o.floating[N],S=T[k]-o.reference[k],x=await(l.getOffsetParent==null?void 0:l.getOffsetParent(p));let _=x?x[B]:0;(!_||!await(l.isElement==null?void 0:l.isElement(x)))&&(_=u.floating[B]||o.floating[N]);const b=m/2-S/2,R=_/2-D[N]/2-1,P=Qo(y[L],R),A=Qo(y[U],R),H=P,O=_-D[N]-A,K=_/2-D[N]/2+b,Y=oy(H,K,O),F=!h.arrow&&Yc(s)!=null&&K!==Y&&o.reference[N]/2-(K<H?P:A)-D[N]/2<0,G=F?K<H?K-H:K-O:0;return{[k]:T[k]+G,data:{[k]:Y,centerOffset:K-Y-G,...F&&{alignmentOffset:G}},reset:F}}}),uV=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:o,rects:l,initialPlacement:u,platform:h,elements:p}=e,{mainAxis:v=!0,crossAxis:y=!0,fallbackPlacements:T,fallbackStrategy:k="bestFit",fallbackAxisSideDirection:N="none",flipAlignment:D=!0,...j}=Wi(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const L=Gi(s),U=si(u),B=Gi(u)===u,m=await(h.isRTL==null?void 0:h.isRTL(p.floating)),S=T||(B||!D?[qp(u)]:nV(u)),x=N!=="none";!T&&x&&S.push(...oV(u,D,N,m));const _=[u,...S],b=await Pd(e,j),R=[];let P=((r=o.flip)==null?void 0:r.overflows)||[];if(v&&R.push(b[L]),y){const K=tV(s,l,m);R.push(b[K[0]],b[K[1]])}if(P=[...P,{placement:s,overflows:R}],!R.every(K=>K<=0)){var A,H;const K=(((A=o.flip)==null?void 0:A.index)||0)+1,Y=_[K];if(Y&&(!(y==="alignment"?U!==si(Y):!1)||P.every(z=>si(z.placement)===U?z.overflows[0]>0:!0)))return{data:{index:K,overflows:P},reset:{placement:Y}};let F=(H=P.filter(G=>G.overflows[0]<=0).sort((G,z)=>G.overflows[1]-z.overflows[1])[0])==null?void 0:H.placement;if(!F)switch(k){case"bestFit":{var O;const G=(O=P.filter(z=>{if(x){const Z=si(z.placement);return Z===U||Z==="y"}return!0}).map(z=>[z.placement,z.overflows.filter(Z=>Z>0).reduce((Z,ee)=>Z+ee,0)]).sort((z,Z)=>z[1]-Z[1])[0])==null?void 0:O[0];G&&(F=G);break}case"initialPlacement":F=u;break}if(s!==F)return{reset:{placement:F}}}return{}}}};function dS(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function hS(t){return QF.some(e=>t[e]>=0)}const dV=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Wi(t,e);switch(r){case"referenceHidden":{const o=await Pd(e,{...s,elementContext:"reference"}),l=dS(o,n.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:hS(l)}}}case"escaped":{const o=await Pd(e,{...s,altBoundary:!0}),l=dS(o,n.floating);return{data:{escapedOffsets:l,escaped:hS(l)}}}default:return{}}}}},LI=new Set(["left","top"]);async function hV(t,e){const{placement:n,platform:r,elements:s}=t,o=await(r.isRTL==null?void 0:r.isRTL(s.floating)),l=Gi(n),u=Yc(n),h=si(n)==="y",p=LI.has(l)?-1:1,v=o&&h?-1:1,y=Wi(e,t);let{mainAxis:T,crossAxis:k,alignmentAxis:N}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:y.mainAxis||0,crossAxis:y.crossAxis||0,alignmentAxis:y.alignmentAxis};return u&&typeof N=="number"&&(k=u==="end"?N*-1:N),h?{x:k*v,y:T*p}:{x:T*p,y:k*v}}const fV=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:o,placement:l,middlewareData:u}=e,h=await hV(e,t);return l===((n=u.offset)==null?void 0:n.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:s+h.x,y:o+h.y,data:{...h,placement:l}}}}},pV=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:o=!0,crossAxis:l=!1,limiter:u={fn:j=>{let{x:L,y:U}=j;return{x:L,y:U}}},...h}=Wi(t,e),p={x:n,y:r},v=await Pd(e,h),y=si(Gi(s)),T=$1(y);let k=p[T],N=p[y];if(o){const j=T==="y"?"top":"left",L=T==="y"?"bottom":"right",U=k+v[j],B=k-v[L];k=oy(U,k,B)}if(l){const j=y==="y"?"top":"left",L=y==="y"?"bottom":"right",U=N+v[j],B=N-v[L];N=oy(U,N,B)}const D=u.fn({...e,[T]:k,[y]:N});return{...D,data:{x:D.x-n,y:D.y-r,enabled:{[T]:o,[y]:l}}}}}},mV=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:o,middlewareData:l}=e,{offset:u=0,mainAxis:h=!0,crossAxis:p=!0}=Wi(t,e),v={x:n,y:r},y=si(s),T=$1(y);let k=v[T],N=v[y];const D=Wi(u,e),j=typeof D=="number"?{mainAxis:D,crossAxis:0}:{mainAxis:0,crossAxis:0,...D};if(h){const B=T==="y"?"height":"width",m=o.reference[T]-o.floating[B]+j.mainAxis,S=o.reference[T]+o.reference[B]-j.mainAxis;k<m?k=m:k>S&&(k=S)}if(p){var L,U;const B=T==="y"?"width":"height",m=LI.has(Gi(s)),S=o.reference[y]-o.floating[B]+(m&&((L=l.offset)==null?void 0:L[y])||0)+(m?0:j.crossAxis),x=o.reference[y]+o.reference[B]+(m?0:((U=l.offset)==null?void 0:U[y])||0)-(m?j.crossAxis:0);N<S?N=S:N>x&&(N=x)}return{[T]:k,[y]:N}}}},gV=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:o,platform:l,elements:u}=e,{apply:h=()=>{},...p}=Wi(t,e),v=await Pd(e,p),y=Gi(s),T=Yc(s),k=si(s)==="y",{width:N,height:D}=o.floating;let j,L;y==="top"||y==="bottom"?(j=y,L=T===(await(l.isRTL==null?void 0:l.isRTL(u.floating))?"start":"end")?"left":"right"):(L=y,j=T==="end"?"top":"bottom");const U=D-v.top-v.bottom,B=N-v.left-v.right,m=Qo(D-v[j],U),S=Qo(N-v[L],B),x=!e.middlewareData.shift;let _=m,b=S;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(b=B),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(_=U),x&&!T){const P=Rr(v.left,0),A=Rr(v.right,0),H=Rr(v.top,0),O=Rr(v.bottom,0);k?b=N-2*(P!==0||A!==0?P+A:Rr(v.left,v.right)):_=D-2*(H!==0||O!==0?H+O:Rr(v.top,v.bottom))}await h({...e,availableWidth:b,availableHeight:_});const R=await l.getDimensions(u.floating);return N!==R.width||D!==R.height?{reset:{rects:!0}}:{}}}};function Mm(){return typeof window<"u"}function Zc(t){return FI(t)?(t.nodeName||"").toLowerCase():"#document"}function Dr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function hi(t){var e;return(e=(FI(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function FI(t){return Mm()?t instanceof Node||t instanceof Dr(t).Node:!1}function Ps(t){return Mm()?t instanceof Element||t instanceof Dr(t).Element:!1}function li(t){return Mm()?t instanceof HTMLElement||t instanceof Dr(t).HTMLElement:!1}function fS(t){return!Mm()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Dr(t).ShadowRoot}const vV=new Set(["inline","contents"]);function rh(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Ns(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!vV.has(s)}const yV=new Set(["table","td","th"]);function wV(t){return yV.has(Zc(t))}const _V=[":popover-open",":modal"];function Om(t){return _V.some(e=>{try{return t.matches(e)}catch{return!1}})}const EV=["transform","translate","scale","rotate","perspective"],SV=["transform","translate","scale","rotate","perspective","filter"],xV=["paint","layout","strict","content"];function G1(t){const e=q1(),n=Ps(t)?Ns(t):t;return EV.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||SV.some(r=>(n.willChange||"").includes(r))||xV.some(r=>(n.contain||"").includes(r))}function TV(t){let e=Xo(t);for(;li(e)&&!Oc(e);){if(G1(e))return e;if(Om(e))return null;e=Xo(e)}return null}function q1(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const bV=new Set(["html","body","#document"]);function Oc(t){return bV.has(Zc(t))}function Ns(t){return Dr(t).getComputedStyle(t)}function Lm(t){return Ps(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Xo(t){if(Zc(t)==="html")return t;const e=t.assignedSlot||t.parentNode||fS(t)&&t.host||hi(t);return fS(e)?e.host:e}function VI(t){const e=Xo(t);return Oc(e)?t.ownerDocument?t.ownerDocument.body:t.body:li(e)&&rh(e)?e:VI(e)}function Nd(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=VI(t),o=s===((r=t.ownerDocument)==null?void 0:r.body),l=Dr(s);if(o){const u=ly(l);return e.concat(l,l.visualViewport||[],rh(s)?s:[],u&&n?Nd(u):[])}return e.concat(s,Nd(s,[],n))}function ly(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function UI(t){const e=Ns(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=li(t),o=s?t.offsetWidth:n,l=s?t.offsetHeight:r,u=Gp(n)!==o||Gp(r)!==l;return u&&(n=o,r=l),{width:n,height:r,$:u}}function K1(t){return Ps(t)?t:t.contextElement}function wc(t){const e=K1(t);if(!li(e))return oi(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:o}=UI(e);let l=(o?Gp(n.width):n.width)/r,u=(o?Gp(n.height):n.height)/s;return(!l||!Number.isFinite(l))&&(l=1),(!u||!Number.isFinite(u))&&(u=1),{x:l,y:u}}const CV=oi(0);function HI(t){const e=Dr(t);return!q1()||!e.visualViewport?CV:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function IV(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Dr(t)?!1:e}function il(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),o=K1(t);let l=oi(1);e&&(r?Ps(r)&&(l=wc(r)):l=wc(t));const u=IV(o,n,r)?HI(o):oi(0);let h=(s.left+u.x)/l.x,p=(s.top+u.y)/l.y,v=s.width/l.x,y=s.height/l.y;if(o){const T=Dr(o),k=r&&Ps(r)?Dr(r):r;let N=T,D=ly(N);for(;D&&r&&k!==N;){const j=wc(D),L=D.getBoundingClientRect(),U=Ns(D),B=L.left+(D.clientLeft+parseFloat(U.paddingLeft))*j.x,m=L.top+(D.clientTop+parseFloat(U.paddingTop))*j.y;h*=j.x,p*=j.y,v*=j.x,y*=j.y,h+=B,p+=m,N=Dr(D),D=ly(N)}}return Kp({width:v,height:y,x:h,y:p})}function Y1(t,e){const n=Lm(t).scrollLeft;return e?e.left+n:il(hi(t)).left+n}function BI(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:Y1(t,r)),o=r.top+e.scrollTop;return{x:s,y:o}}function AV(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const o=s==="fixed",l=hi(r),u=e?Om(e.floating):!1;if(r===l||u&&o)return n;let h={scrollLeft:0,scrollTop:0},p=oi(1);const v=oi(0),y=li(r);if((y||!y&&!o)&&((Zc(r)!=="body"||rh(l))&&(h=Lm(r)),li(r))){const k=il(r);p=wc(r),v.x=k.x+r.clientLeft,v.y=k.y+r.clientTop}const T=l&&!y&&!o?BI(l,h,!0):oi(0);return{width:n.width*p.x,height:n.height*p.y,x:n.x*p.x-h.scrollLeft*p.x+v.x+T.x,y:n.y*p.y-h.scrollTop*p.y+v.y+T.y}}function RV(t){return Array.from(t.getClientRects())}function PV(t){const e=hi(t),n=Lm(t),r=t.ownerDocument.body,s=Rr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=Rr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let l=-n.scrollLeft+Y1(t);const u=-n.scrollTop;return Ns(r).direction==="rtl"&&(l+=Rr(e.clientWidth,r.clientWidth)-s),{width:s,height:o,x:l,y:u}}function NV(t,e){const n=Dr(t),r=hi(t),s=n.visualViewport;let o=r.clientWidth,l=r.clientHeight,u=0,h=0;if(s){o=s.width,l=s.height;const p=q1();(!p||p&&e==="fixed")&&(u=s.offsetLeft,h=s.offsetTop)}return{width:o,height:l,x:u,y:h}}const kV=new Set(["absolute","fixed"]);function DV(t,e){const n=il(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,o=li(t)?wc(t):oi(1),l=t.clientWidth*o.x,u=t.clientHeight*o.y,h=s*o.x,p=r*o.y;return{width:l,height:u,x:h,y:p}}function pS(t,e,n){let r;if(e==="viewport")r=NV(t,n);else if(e==="document")r=PV(hi(t));else if(Ps(e))r=DV(e,n);else{const s=HI(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Kp(r)}function $I(t,e){const n=Xo(t);return n===e||!Ps(n)||Oc(n)?!1:Ns(n).position==="fixed"||$I(n,e)}function jV(t,e){const n=e.get(t);if(n)return n;let r=Nd(t,[],!1).filter(u=>Ps(u)&&Zc(u)!=="body"),s=null;const o=Ns(t).position==="fixed";let l=o?Xo(t):t;for(;Ps(l)&&!Oc(l);){const u=Ns(l),h=G1(l);!h&&u.position==="fixed"&&(s=null),(o?!h&&!s:!h&&u.position==="static"&&!!s&&kV.has(s.position)||rh(l)&&!h&&$I(t,l))?r=r.filter(v=>v!==l):s=u,l=Xo(l)}return e.set(t,r),r}function MV(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const l=[...n==="clippingAncestors"?Om(e)?[]:jV(e,this._c):[].concat(n),r],u=l[0],h=l.reduce((p,v)=>{const y=pS(e,v,s);return p.top=Rr(y.top,p.top),p.right=Qo(y.right,p.right),p.bottom=Qo(y.bottom,p.bottom),p.left=Rr(y.left,p.left),p},pS(e,u,s));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function OV(t){const{width:e,height:n}=UI(t);return{width:e,height:n}}function LV(t,e,n){const r=li(e),s=hi(e),o=n==="fixed",l=il(t,!0,o,e);let u={scrollLeft:0,scrollTop:0};const h=oi(0);function p(){h.x=Y1(s)}if(r||!r&&!o)if((Zc(e)!=="body"||rh(s))&&(u=Lm(e)),r){const k=il(e,!0,o,e);h.x=k.x+e.clientLeft,h.y=k.y+e.clientTop}else s&&p();o&&!r&&s&&p();const v=s&&!r&&!o?BI(s,u):oi(0),y=l.left+u.scrollLeft-h.x-v.x,T=l.top+u.scrollTop-h.y-v.y;return{x:y,y:T,width:l.width,height:l.height}}function ev(t){return Ns(t).position==="static"}function mS(t,e){if(!li(t)||Ns(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return hi(t)===n&&(n=n.ownerDocument.body),n}function zI(t,e){const n=Dr(t);if(Om(t))return n;if(!li(t)){let s=Xo(t);for(;s&&!Oc(s);){if(Ps(s)&&!ev(s))return s;s=Xo(s)}return n}let r=mS(t,e);for(;r&&wV(r)&&ev(r);)r=mS(r,e);return r&&Oc(r)&&ev(r)&&!G1(r)?n:r||TV(t)||n}const FV=async function(t){const e=this.getOffsetParent||zI,n=this.getDimensions,r=await n(t.floating);return{reference:LV(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function VV(t){return Ns(t).direction==="rtl"}const UV={convertOffsetParentRelativeRectToViewportRelativeRect:AV,getDocumentElement:hi,getClippingRect:MV,getOffsetParent:zI,getElementRects:FV,getClientRects:RV,getDimensions:OV,getScale:wc,isElement:Ps,isRTL:VV};function WI(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function HV(t,e){let n=null,r;const s=hi(t);function o(){var u;clearTimeout(r),(u=n)==null||u.disconnect(),n=null}function l(u,h){u===void 0&&(u=!1),h===void 0&&(h=1),o();const p=t.getBoundingClientRect(),{left:v,top:y,width:T,height:k}=p;if(u||e(),!T||!k)return;const N=Hf(y),D=Hf(s.clientWidth-(v+T)),j=Hf(s.clientHeight-(y+k)),L=Hf(v),B={rootMargin:-N+"px "+-D+"px "+-j+"px "+-L+"px",threshold:Rr(0,Qo(1,h))||1};let m=!0;function S(x){const _=x[0].intersectionRatio;if(_!==h){if(!m)return l();_?l(!1,_):r=setTimeout(()=>{l(!1,1e-7)},1e3)}_===1&&!WI(p,t.getBoundingClientRect())&&l(),m=!1}try{n=new IntersectionObserver(S,{...B,root:s.ownerDocument})}catch{n=new IntersectionObserver(S,B)}n.observe(t)}return l(!0),o}function BV(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:h=!1}=r,p=K1(t),v=s||o?[...p?Nd(p):[],...Nd(e)]:[];v.forEach(L=>{s&&L.addEventListener("scroll",n,{passive:!0}),o&&L.addEventListener("resize",n)});const y=p&&u?HV(p,n):null;let T=-1,k=null;l&&(k=new ResizeObserver(L=>{let[U]=L;U&&U.target===p&&k&&(k.unobserve(e),cancelAnimationFrame(T),T=requestAnimationFrame(()=>{var B;(B=k)==null||B.observe(e)})),n()}),p&&!h&&k.observe(p),k.observe(e));let N,D=h?il(t):null;h&&j();function j(){const L=il(t);D&&!WI(D,L)&&n(),D=L,N=requestAnimationFrame(j)}return n(),()=>{var L;v.forEach(U=>{s&&U.removeEventListener("scroll",n),o&&U.removeEventListener("resize",n)}),y==null||y(),(L=k)==null||L.disconnect(),k=null,h&&cancelAnimationFrame(N)}}const $V=fV,zV=pV,WV=uV,GV=gV,qV=dV,gS=cV,KV=mV,YV=(t,e,n)=>{const r=new Map,s={platform:UV,...n},o={...s.platform,_c:r};return lV(t,e,{...s,platform:o})};var ZV=typeof document<"u",QV=function(){},hp=ZV?E.useLayoutEffect:QV;function Yp(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Yp(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const o=s[r];if(!(o==="_owner"&&t.$$typeof)&&!Yp(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function GI(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function vS(t,e){const n=GI(t);return Math.round(e*n)/n}function tv(t){const e=E.useRef(t);return hp(()=>{e.current=t}),e}function XV(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:o,floating:l}={},transform:u=!0,whileElementsMounted:h,open:p}=t,[v,y]=E.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[T,k]=E.useState(r);Yp(T,r)||k(r);const[N,D]=E.useState(null),[j,L]=E.useState(null),U=E.useCallback(z=>{z!==x.current&&(x.current=z,D(z))},[]),B=E.useCallback(z=>{z!==_.current&&(_.current=z,L(z))},[]),m=o||N,S=l||j,x=E.useRef(null),_=E.useRef(null),b=E.useRef(v),R=h!=null,P=tv(h),A=tv(s),H=tv(p),O=E.useCallback(()=>{if(!x.current||!_.current)return;const z={placement:e,strategy:n,middleware:T};A.current&&(z.platform=A.current),YV(x.current,_.current,z).then(Z=>{const ee={...Z,isPositioned:H.current!==!1};K.current&&!Yp(b.current,ee)&&(b.current=ee,Cy.flushSync(()=>{y(ee)}))})},[T,e,n,A,H]);hp(()=>{p===!1&&b.current.isPositioned&&(b.current.isPositioned=!1,y(z=>({...z,isPositioned:!1})))},[p]);const K=E.useRef(!1);hp(()=>(K.current=!0,()=>{K.current=!1}),[]),hp(()=>{if(m&&(x.current=m),S&&(_.current=S),m&&S){if(P.current)return P.current(m,S,O);O()}},[m,S,O,P,R]);const Y=E.useMemo(()=>({reference:x,floating:_,setReference:U,setFloating:B}),[U,B]),F=E.useMemo(()=>({reference:m,floating:S}),[m,S]),G=E.useMemo(()=>{const z={position:n,left:0,top:0};if(!F.floating)return z;const Z=vS(F.floating,v.x),ee=vS(F.floating,v.y);return u?{...z,transform:"translate("+Z+"px, "+ee+"px)",...GI(F.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:Z,top:ee}},[n,u,F.floating,v.x,v.y]);return E.useMemo(()=>({...v,update:O,refs:Y,elements:F,floatingStyles:G}),[v,O,Y,F,G])}const JV=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?gS({element:r.current,padding:s}).fn(n):{}:r?gS({element:r,padding:s}).fn(n):{}}}},eU=(t,e)=>({...$V(t),options:[t,e]}),tU=(t,e)=>({...zV(t),options:[t,e]}),nU=(t,e)=>({...KV(t),options:[t,e]}),rU=(t,e)=>({...WV(t),options:[t,e]}),sU=(t,e)=>({...GV(t),options:[t,e]}),iU=(t,e)=>({...qV(t),options:[t,e]}),oU=(t,e)=>({...JV(t),options:[t,e]});var aU="Arrow",qI=E.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...o}=t;return c.jsx(zt.svg,{...o,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:c.jsx("polygon",{points:"0,0 30,0 15,10"})})});qI.displayName=aU;var lU=qI;function KI(t){const[e,n]=E.useState(void 0);return Zo(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let l,u;if("borderBoxSize"in o){const h=o.borderBoxSize,p=Array.isArray(h)?h[0]:h;l=p.inlineSize,u=p.blockSize}else l=t.offsetWidth,u=t.offsetHeight;n({width:l,height:u})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Z1="Popper",[YI,ZI]=ta(Z1),[cU,QI]=YI(Z1),XI=t=>{const{__scopePopper:e,children:n}=t,[r,s]=E.useState(null);return c.jsx(cU,{scope:e,anchor:r,onAnchorChange:s,children:n})};XI.displayName=Z1;var JI="PopperAnchor",eA=E.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,o=QI(JI,n),l=E.useRef(null),u=$t(e,l),h=E.useRef(null);return E.useEffect(()=>{const p=h.current;h.current=(r==null?void 0:r.current)||l.current,p!==h.current&&o.onAnchorChange(h.current)}),r?null:c.jsx(zt.div,{...s,ref:u})});eA.displayName=JI;var Q1="PopperContent",[uU,dU]=YI(Q1),tA=E.forwardRef((t,e)=>{var pe,Re,Ie,je,Ze,mt;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:o="center",alignOffset:l=0,arrowPadding:u=0,avoidCollisions:h=!0,collisionBoundary:p=[],collisionPadding:v=0,sticky:y="partial",hideWhenDetached:T=!1,updatePositionStrategy:k="optimized",onPlaced:N,...D}=t,j=QI(Q1,n),[L,U]=E.useState(null),B=$t(e,vt=>U(vt)),[m,S]=E.useState(null),x=KI(m),_=(x==null?void 0:x.width)??0,b=(x==null?void 0:x.height)??0,R=r+(o!=="center"?"-"+o:""),P=typeof v=="number"?v:{top:0,right:0,bottom:0,left:0,...v},A=Array.isArray(p)?p:[p],H=A.length>0,O={padding:P,boundary:A.filter(fU),altBoundary:H},{refs:K,floatingStyles:Y,placement:F,isPositioned:G,middlewareData:z}=XV({strategy:"fixed",placement:R,whileElementsMounted:(...vt)=>BV(...vt,{animationFrame:k==="always"}),elements:{reference:j.anchor},middleware:[eU({mainAxis:s+b,alignmentAxis:l}),h&&tU({mainAxis:!0,crossAxis:!1,limiter:y==="partial"?nU():void 0,...O}),h&&rU({...O}),sU({...O,apply:({elements:vt,rects:Oe,availableWidth:ke,availableHeight:ne})=>{const{width:de,height:we}=Oe.reference,me=vt.floating.style;me.setProperty("--radix-popper-available-width",`${ke}px`),me.setProperty("--radix-popper-available-height",`${ne}px`),me.setProperty("--radix-popper-anchor-width",`${de}px`),me.setProperty("--radix-popper-anchor-height",`${we}px`)}}),m&&oU({element:m,padding:u}),pU({arrowWidth:_,arrowHeight:b}),T&&iU({strategy:"referenceHidden",...O})]}),[Z,ee]=sA(F),W=$i(N);Zo(()=>{G&&(W==null||W())},[G,W]);const J=(pe=z.arrow)==null?void 0:pe.x,ue=(Re=z.arrow)==null?void 0:Re.y,_e=((Ie=z.arrow)==null?void 0:Ie.centerOffset)!==0,[Te,ce]=E.useState();return Zo(()=>{L&&ce(window.getComputedStyle(L).zIndex)},[L]),c.jsx("div",{ref:K.setFloating,"data-radix-popper-content-wrapper":"",style:{...Y,transform:G?Y.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Te,"--radix-popper-transform-origin":[(je=z.transformOrigin)==null?void 0:je.x,(Ze=z.transformOrigin)==null?void 0:Ze.y].join(" "),...((mt=z.hide)==null?void 0:mt.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:c.jsx(uU,{scope:n,placedSide:Z,onArrowChange:S,arrowX:J,arrowY:ue,shouldHideArrow:_e,children:c.jsx(zt.div,{"data-side":Z,"data-align":ee,...D,ref:B,style:{...D.style,animation:G?void 0:"none"}})})})});tA.displayName=Q1;var nA="PopperArrow",hU={top:"bottom",right:"left",bottom:"top",left:"right"},rA=E.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,o=dU(nA,r),l=hU[o.placedSide];return c.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:c.jsx(lU,{...s,ref:n,style:{...s.style,display:"block"}})})});rA.displayName=nA;function fU(t){return t!==null}var pU=t=>({name:"transformOrigin",options:t,fn(e){var j,L,U;const{placement:n,rects:r,middlewareData:s}=e,l=((j=s.arrow)==null?void 0:j.centerOffset)!==0,u=l?0:t.arrowWidth,h=l?0:t.arrowHeight,[p,v]=sA(n),y={start:"0%",center:"50%",end:"100%"}[v],T=(((L=s.arrow)==null?void 0:L.x)??0)+u/2,k=(((U=s.arrow)==null?void 0:U.y)??0)+h/2;let N="",D="";return p==="bottom"?(N=l?y:`${T}px`,D=`${-h}px`):p==="top"?(N=l?y:`${T}px`,D=`${r.floating.height+h}px`):p==="right"?(N=`${-h}px`,D=l?y:`${k}px`):p==="left"&&(N=`${r.floating.width+h}px`,D=l?y:`${k}px`),{data:{x:N,y:D}}}});function sA(t){const[e,n="center"]=t.split("-");return[e,n]}var mU=XI,gU=eA,vU=tA,yU=rA,nv="rovingFocusGroup.onEntryFocus",wU={bubbles:!1,cancelable:!0},sh="RovingFocusGroup",[cy,iA,_U]=H1(sh),[EU,oA]=ta(sh,[_U]),[SU,xU]=EU(sh),aA=E.forwardRef((t,e)=>c.jsx(cy.Provider,{scope:t.__scopeRovingFocusGroup,children:c.jsx(cy.Slot,{scope:t.__scopeRovingFocusGroup,children:c.jsx(TU,{...t,ref:e})})}));aA.displayName=sh;var TU=E.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:o,currentTabStopId:l,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:h,onEntryFocus:p,preventScrollOnEntryFocus:v=!1,...y}=t,T=E.useRef(null),k=$t(e,T),N=B1(o),[D,j]=Pm({prop:l,defaultProp:u??null,onChange:h,caller:sh}),[L,U]=E.useState(!1),B=$i(p),m=iA(n),S=E.useRef(!1),[x,_]=E.useState(0);return E.useEffect(()=>{const b=T.current;if(b)return b.addEventListener(nv,B),()=>b.removeEventListener(nv,B)},[B]),c.jsx(SU,{scope:n,orientation:r,dir:N,loop:s,currentTabStopId:D,onItemFocus:E.useCallback(b=>j(b),[j]),onItemShiftTab:E.useCallback(()=>U(!0),[]),onFocusableItemAdd:E.useCallback(()=>_(b=>b+1),[]),onFocusableItemRemove:E.useCallback(()=>_(b=>b-1),[]),children:c.jsx(zt.div,{tabIndex:L||x===0?-1:0,"data-orientation":r,...y,ref:k,style:{outline:"none",...t.style},onMouseDown:ot(t.onMouseDown,()=>{S.current=!0}),onFocus:ot(t.onFocus,b=>{const R=!S.current;if(b.target===b.currentTarget&&R&&!L){const P=new CustomEvent(nv,wU);if(b.currentTarget.dispatchEvent(P),!P.defaultPrevented){const A=m().filter(F=>F.focusable),H=A.find(F=>F.active),O=A.find(F=>F.id===D),Y=[H,O,...A].filter(Boolean).map(F=>F.ref.current);uA(Y,v)}}S.current=!1}),onBlur:ot(t.onBlur,()=>U(!1))})})}),lA="RovingFocusGroupItem",cA=E.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:o,children:l,...u}=t,h=gc(),p=o||h,v=xU(lA,n),y=v.currentTabStopId===p,T=iA(n),{onFocusableItemAdd:k,onFocusableItemRemove:N,currentTabStopId:D}=v;return E.useEffect(()=>{if(r)return k(),()=>N()},[r,k,N]),c.jsx(cy.ItemSlot,{scope:n,id:p,focusable:r,active:s,children:c.jsx(zt.span,{tabIndex:y?0:-1,"data-orientation":v.orientation,...u,ref:e,onMouseDown:ot(t.onMouseDown,j=>{r?v.onItemFocus(p):j.preventDefault()}),onFocus:ot(t.onFocus,()=>v.onItemFocus(p)),onKeyDown:ot(t.onKeyDown,j=>{if(j.key==="Tab"&&j.shiftKey){v.onItemShiftTab();return}if(j.target!==j.currentTarget)return;const L=IU(j,v.orientation,v.dir);if(L!==void 0){if(j.metaKey||j.ctrlKey||j.altKey||j.shiftKey)return;j.preventDefault();let B=T().filter(m=>m.focusable).map(m=>m.ref.current);if(L==="last")B.reverse();else if(L==="prev"||L==="next"){L==="prev"&&B.reverse();const m=B.indexOf(j.currentTarget);B=v.loop?AU(B,m+1):B.slice(m+1)}setTimeout(()=>uA(B))}}),children:typeof l=="function"?l({isCurrentTabStop:y,hasTabStop:D!=null}):l})})});cA.displayName=lA;var bU={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function CU(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function IU(t,e,n){const r=CU(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return bU[r]}function uA(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function AU(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var RU=aA,PU=cA,uy=["Enter"," "],NU=["ArrowDown","PageUp","Home"],dA=["ArrowUp","PageDown","End"],kU=[...NU,...dA],DU={ltr:[...uy,"ArrowRight"],rtl:[...uy,"ArrowLeft"]},jU={ltr:["ArrowLeft"],rtl:["ArrowRight"]},ih="Menu",[kd,MU,OU]=H1(ih),[ll,hA]=ta(ih,[OU,ZI,oA]),Fm=ZI(),fA=oA(),[LU,cl]=ll(ih),[FU,oh]=ll(ih),pA=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:s,onOpenChange:o,modal:l=!0}=t,u=Fm(e),[h,p]=E.useState(null),v=E.useRef(!1),y=$i(o),T=B1(s);return E.useEffect(()=>{const k=()=>{v.current=!0,document.addEventListener("pointerdown",N,{capture:!0,once:!0}),document.addEventListener("pointermove",N,{capture:!0,once:!0})},N=()=>v.current=!1;return document.addEventListener("keydown",k,{capture:!0}),()=>{document.removeEventListener("keydown",k,{capture:!0}),document.removeEventListener("pointerdown",N,{capture:!0}),document.removeEventListener("pointermove",N,{capture:!0})}},[]),c.jsx(mU,{...u,children:c.jsx(LU,{scope:e,open:n,onOpenChange:y,content:h,onContentChange:p,children:c.jsx(FU,{scope:e,onClose:E.useCallback(()=>y(!1),[y]),isUsingKeyboardRef:v,dir:T,modal:l,children:r})})})};pA.displayName=ih;var VU="MenuAnchor",X1=E.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=Fm(n);return c.jsx(gU,{...s,...r,ref:e})});X1.displayName=VU;var J1="MenuPortal",[UU,mA]=ll(J1,{forceMount:void 0}),gA=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:s}=t,o=cl(J1,e);return c.jsx(UU,{scope:e,forceMount:n,children:c.jsx(na,{present:n||o.open,children:c.jsx(x1,{asChild:!0,container:s,children:r})})})};gA.displayName=J1;var Yr="MenuContent",[HU,ew]=ll(Yr),vA=E.forwardRef((t,e)=>{const n=mA(Yr,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,o=cl(Yr,t.__scopeMenu),l=oh(Yr,t.__scopeMenu);return c.jsx(kd.Provider,{scope:t.__scopeMenu,children:c.jsx(na,{present:r||o.open,children:c.jsx(kd.Slot,{scope:t.__scopeMenu,children:l.modal?c.jsx(BU,{...s,ref:e}):c.jsx($U,{...s,ref:e})})})})}),BU=E.forwardRef((t,e)=>{const n=cl(Yr,t.__scopeMenu),r=E.useRef(null),s=$t(e,r);return E.useEffect(()=>{const o=r.current;if(o)return zC(o)},[]),c.jsx(tw,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:ot(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),$U=E.forwardRef((t,e)=>{const n=cl(Yr,t.__scopeMenu);return c.jsx(tw,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),zU=Ad("MenuContent.ScrollLock"),tw=E.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:l,disableOutsidePointerEvents:u,onEntryFocus:h,onEscapeKeyDown:p,onPointerDownOutside:v,onFocusOutside:y,onInteractOutside:T,onDismiss:k,disableOutsideScroll:N,...D}=t,j=cl(Yr,n),L=oh(Yr,n),U=Fm(n),B=fA(n),m=MU(n),[S,x]=E.useState(null),_=E.useRef(null),b=$t(e,_,j.onContentChange),R=E.useRef(0),P=E.useRef(""),A=E.useRef(0),H=E.useRef(null),O=E.useRef("right"),K=E.useRef(0),Y=N?T1:E.Fragment,F=N?{as:zU,allowPinchZoom:!0}:void 0,G=Z=>{var pe,Re;const ee=P.current+Z,W=m().filter(Ie=>!Ie.disabled),J=document.activeElement,ue=(pe=W.find(Ie=>Ie.ref.current===J))==null?void 0:pe.textValue,_e=W.map(Ie=>Ie.textValue),Te=nH(_e,ee,ue),ce=(Re=W.find(Ie=>Ie.textValue===Te))==null?void 0:Re.ref.current;(function Ie(je){P.current=je,window.clearTimeout(R.current),je!==""&&(R.current=window.setTimeout(()=>Ie(""),1e3))})(ee),ce&&setTimeout(()=>ce.focus())};E.useEffect(()=>()=>window.clearTimeout(R.current),[]),OC();const z=E.useCallback(Z=>{var W,J;return O.current===((W=H.current)==null?void 0:W.side)&&sH(Z,(J=H.current)==null?void 0:J.area)},[]);return c.jsx(HU,{scope:n,searchRef:P,onItemEnter:E.useCallback(Z=>{z(Z)&&Z.preventDefault()},[z]),onItemLeave:E.useCallback(Z=>{var ee;z(Z)||((ee=_.current)==null||ee.focus(),x(null))},[z]),onTriggerLeave:E.useCallback(Z=>{z(Z)&&Z.preventDefault()},[z]),pointerGraceTimerRef:A,onPointerGraceIntentChange:E.useCallback(Z=>{H.current=Z},[]),children:c.jsx(Y,{...F,children:c.jsx(S1,{asChild:!0,trapped:s,onMountAutoFocus:ot(o,Z=>{var ee;Z.preventDefault(),(ee=_.current)==null||ee.focus({preventScroll:!0})}),onUnmountAutoFocus:l,children:c.jsx(E1,{asChild:!0,disableOutsidePointerEvents:u,onEscapeKeyDown:p,onPointerDownOutside:v,onFocusOutside:y,onInteractOutside:T,onDismiss:k,children:c.jsx(RU,{asChild:!0,...B,dir:L.dir,orientation:"vertical",loop:r,currentTabStopId:S,onCurrentTabStopIdChange:x,onEntryFocus:ot(h,Z=>{L.isUsingKeyboardRef.current||Z.preventDefault()}),preventScrollOnEntryFocus:!0,children:c.jsx(vU,{role:"menu","aria-orientation":"vertical","data-state":DA(j.open),"data-radix-menu-content":"",dir:L.dir,...U,...D,ref:b,style:{outline:"none",...D.style},onKeyDown:ot(D.onKeyDown,Z=>{const W=Z.target.closest("[data-radix-menu-content]")===Z.currentTarget,J=Z.ctrlKey||Z.altKey||Z.metaKey,ue=Z.key.length===1;W&&(Z.key==="Tab"&&Z.preventDefault(),!J&&ue&&G(Z.key));const _e=_.current;if(Z.target!==_e||!kU.includes(Z.key))return;Z.preventDefault();const ce=m().filter(pe=>!pe.disabled).map(pe=>pe.ref.current);dA.includes(Z.key)&&ce.reverse(),eH(ce)}),onBlur:ot(t.onBlur,Z=>{Z.currentTarget.contains(Z.target)||(window.clearTimeout(R.current),P.current="")}),onPointerMove:ot(t.onPointerMove,Dd(Z=>{const ee=Z.target,W=K.current!==Z.clientX;if(Z.currentTarget.contains(ee)&&W){const J=Z.clientX>K.current?"right":"left";O.current=J,K.current=Z.clientX}}))})})})})})})});vA.displayName=Yr;var WU="MenuGroup",nw=E.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return c.jsx(zt.div,{role:"group",...r,ref:e})});nw.displayName=WU;var GU="MenuLabel",yA=E.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return c.jsx(zt.div,{...r,ref:e})});yA.displayName=GU;var Zp="MenuItem",yS="menu.itemSelect",Vm=E.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...s}=t,o=E.useRef(null),l=oh(Zp,t.__scopeMenu),u=ew(Zp,t.__scopeMenu),h=$t(e,o),p=E.useRef(!1),v=()=>{const y=o.current;if(!n&&y){const T=new CustomEvent(yS,{bubbles:!0,cancelable:!0});y.addEventListener(yS,k=>r==null?void 0:r(k),{once:!0}),kC(y,T),T.defaultPrevented?p.current=!1:l.onClose()}};return c.jsx(wA,{...s,ref:h,disabled:n,onClick:ot(t.onClick,v),onPointerDown:y=>{var T;(T=t.onPointerDown)==null||T.call(t,y),p.current=!0},onPointerUp:ot(t.onPointerUp,y=>{var T;p.current||(T=y.currentTarget)==null||T.click()}),onKeyDown:ot(t.onKeyDown,y=>{const T=u.searchRef.current!=="";n||T&&y.key===" "||uy.includes(y.key)&&(y.currentTarget.click(),y.preventDefault())})})});Vm.displayName=Zp;var wA=E.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...o}=t,l=ew(Zp,n),u=fA(n),h=E.useRef(null),p=$t(e,h),[v,y]=E.useState(!1),[T,k]=E.useState("");return E.useEffect(()=>{const N=h.current;N&&k((N.textContent??"").trim())},[o.children]),c.jsx(kd.ItemSlot,{scope:n,disabled:r,textValue:s??T,children:c.jsx(PU,{asChild:!0,...u,focusable:!r,children:c.jsx(zt.div,{role:"menuitem","data-highlighted":v?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...o,ref:p,onPointerMove:ot(t.onPointerMove,Dd(N=>{r?l.onItemLeave(N):(l.onItemEnter(N),N.defaultPrevented||N.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ot(t.onPointerLeave,Dd(N=>l.onItemLeave(N))),onFocus:ot(t.onFocus,()=>y(!0)),onBlur:ot(t.onBlur,()=>y(!1))})})})}),qU="MenuCheckboxItem",_A=E.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...s}=t;return c.jsx(bA,{scope:t.__scopeMenu,checked:n,children:c.jsx(Vm,{role:"menuitemcheckbox","aria-checked":Qp(n)?"mixed":n,...s,ref:e,"data-state":sw(n),onSelect:ot(s.onSelect,()=>r==null?void 0:r(Qp(n)?!0:!n),{checkForDefaultPrevented:!1})})})});_A.displayName=qU;var EA="MenuRadioGroup",[KU,YU]=ll(EA,{value:void 0,onValueChange:()=>{}}),SA=E.forwardRef((t,e)=>{const{value:n,onValueChange:r,...s}=t,o=$i(r);return c.jsx(KU,{scope:t.__scopeMenu,value:n,onValueChange:o,children:c.jsx(nw,{...s,ref:e})})});SA.displayName=EA;var xA="MenuRadioItem",TA=E.forwardRef((t,e)=>{const{value:n,...r}=t,s=YU(xA,t.__scopeMenu),o=n===s.value;return c.jsx(bA,{scope:t.__scopeMenu,checked:o,children:c.jsx(Vm,{role:"menuitemradio","aria-checked":o,...r,ref:e,"data-state":sw(o),onSelect:ot(r.onSelect,()=>{var l;return(l=s.onValueChange)==null?void 0:l.call(s,n)},{checkForDefaultPrevented:!1})})})});TA.displayName=xA;var rw="MenuItemIndicator",[bA,ZU]=ll(rw,{checked:!1}),CA=E.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...s}=t,o=ZU(rw,n);return c.jsx(na,{present:r||Qp(o.checked)||o.checked===!0,children:c.jsx(zt.span,{...s,ref:e,"data-state":sw(o.checked)})})});CA.displayName=rw;var QU="MenuSeparator",IA=E.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return c.jsx(zt.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});IA.displayName=QU;var XU="MenuArrow",AA=E.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=Fm(n);return c.jsx(yU,{...s,...r,ref:e})});AA.displayName=XU;var JU="MenuSub",[bz,RA]=ll(JU),ed="MenuSubTrigger",PA=E.forwardRef((t,e)=>{const n=cl(ed,t.__scopeMenu),r=oh(ed,t.__scopeMenu),s=RA(ed,t.__scopeMenu),o=ew(ed,t.__scopeMenu),l=E.useRef(null),{pointerGraceTimerRef:u,onPointerGraceIntentChange:h}=o,p={__scopeMenu:t.__scopeMenu},v=E.useCallback(()=>{l.current&&window.clearTimeout(l.current),l.current=null},[]);return E.useEffect(()=>v,[v]),E.useEffect(()=>{const y=u.current;return()=>{window.clearTimeout(y),h(null)}},[u,h]),c.jsx(X1,{asChild:!0,...p,children:c.jsx(wA,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":DA(n.open),...t,ref:Rm(e,s.onTriggerChange),onClick:y=>{var T;(T=t.onClick)==null||T.call(t,y),!(t.disabled||y.defaultPrevented)&&(y.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:ot(t.onPointerMove,Dd(y=>{o.onItemEnter(y),!y.defaultPrevented&&!t.disabled&&!n.open&&!l.current&&(o.onPointerGraceIntentChange(null),l.current=window.setTimeout(()=>{n.onOpenChange(!0),v()},100))})),onPointerLeave:ot(t.onPointerLeave,Dd(y=>{var k,N;v();const T=(k=n.content)==null?void 0:k.getBoundingClientRect();if(T){const D=(N=n.content)==null?void 0:N.dataset.side,j=D==="right",L=j?-5:5,U=T[j?"left":"right"],B=T[j?"right":"left"];o.onPointerGraceIntentChange({area:[{x:y.clientX+L,y:y.clientY},{x:U,y:T.top},{x:B,y:T.top},{x:B,y:T.bottom},{x:U,y:T.bottom}],side:D}),window.clearTimeout(u.current),u.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(y),y.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:ot(t.onKeyDown,y=>{var k;const T=o.searchRef.current!=="";t.disabled||T&&y.key===" "||DU[r.dir].includes(y.key)&&(n.onOpenChange(!0),(k=n.content)==null||k.focus(),y.preventDefault())})})})});PA.displayName=ed;var NA="MenuSubContent",kA=E.forwardRef((t,e)=>{const n=mA(Yr,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,o=cl(Yr,t.__scopeMenu),l=oh(Yr,t.__scopeMenu),u=RA(NA,t.__scopeMenu),h=E.useRef(null),p=$t(e,h);return c.jsx(kd.Provider,{scope:t.__scopeMenu,children:c.jsx(na,{present:r||o.open,children:c.jsx(kd.Slot,{scope:t.__scopeMenu,children:c.jsx(tw,{id:u.contentId,"aria-labelledby":u.triggerId,...s,ref:p,align:"start",side:l.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:v=>{var y;l.isUsingKeyboardRef.current&&((y=h.current)==null||y.focus()),v.preventDefault()},onCloseAutoFocus:v=>v.preventDefault(),onFocusOutside:ot(t.onFocusOutside,v=>{v.target!==u.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:ot(t.onEscapeKeyDown,v=>{l.onClose(),v.preventDefault()}),onKeyDown:ot(t.onKeyDown,v=>{var k;const y=v.currentTarget.contains(v.target),T=jU[l.dir].includes(v.key);y&&T&&(o.onOpenChange(!1),(k=u.trigger)==null||k.focus(),v.preventDefault())})})})})})});kA.displayName=NA;function DA(t){return t?"open":"closed"}function Qp(t){return t==="indeterminate"}function sw(t){return Qp(t)?"indeterminate":t?"checked":"unchecked"}function eH(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function tH(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function nH(t,e,n){const s=e.length>1&&Array.from(e).every(p=>p===e[0])?e[0]:e,o=n?t.indexOf(n):-1;let l=tH(t,Math.max(o,0));s.length===1&&(l=l.filter(p=>p!==n));const h=l.find(p=>p.toLowerCase().startsWith(s.toLowerCase()));return h!==n?h:void 0}function rH(t,e){const{x:n,y:r}=t;let s=!1;for(let o=0,l=e.length-1;o<e.length;l=o++){const u=e[o],h=e[l],p=u.x,v=u.y,y=h.x,T=h.y;v>r!=T>r&&n<(y-p)*(r-v)/(T-v)+p&&(s=!s)}return s}function sH(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return rH(n,e)}function Dd(t){return e=>e.pointerType==="mouse"?t(e):void 0}var iH=pA,oH=X1,aH=gA,lH=vA,cH=nw,uH=yA,dH=Vm,hH=_A,fH=SA,pH=TA,mH=CA,gH=IA,vH=AA,yH=PA,wH=kA,Um="DropdownMenu",[_H,Cz]=ta(Um,[hA]),sr=hA(),[EH,jA]=_H(Um),MA=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:s,defaultOpen:o,onOpenChange:l,modal:u=!0}=t,h=sr(e),p=E.useRef(null),[v,y]=Pm({prop:s,defaultProp:o??!1,onChange:l,caller:Um});return c.jsx(EH,{scope:e,triggerId:gc(),triggerRef:p,contentId:gc(),open:v,onOpenChange:y,onOpenToggle:E.useCallback(()=>y(T=>!T),[y]),modal:u,children:c.jsx(iH,{...h,open:v,onOpenChange:y,dir:r,modal:u,children:n})})};MA.displayName=Um;var OA="DropdownMenuTrigger",LA=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=t,o=jA(OA,n),l=sr(n);return c.jsx(oH,{asChild:!0,...l,children:c.jsx(zt.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:Rm(e,o.triggerRef),onPointerDown:ot(t.onPointerDown,u=>{!r&&u.button===0&&u.ctrlKey===!1&&(o.onOpenToggle(),o.open||u.preventDefault())}),onKeyDown:ot(t.onKeyDown,u=>{r||(["Enter"," "].includes(u.key)&&o.onOpenToggle(),u.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(u.key)&&u.preventDefault())})})})});LA.displayName=OA;var SH="DropdownMenuPortal",FA=t=>{const{__scopeDropdownMenu:e,...n}=t,r=sr(e);return c.jsx(aH,{...r,...n})};FA.displayName=SH;var VA="DropdownMenuContent",UA=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=jA(VA,n),o=sr(n),l=E.useRef(!1);return c.jsx(lH,{id:s.contentId,"aria-labelledby":s.triggerId,...o,...r,ref:e,onCloseAutoFocus:ot(t.onCloseAutoFocus,u=>{var h;l.current||(h=s.triggerRef.current)==null||h.focus(),l.current=!1,u.preventDefault()}),onInteractOutside:ot(t.onInteractOutside,u=>{const h=u.detail.originalEvent,p=h.button===0&&h.ctrlKey===!0,v=h.button===2||p;(!s.modal||v)&&(l.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});UA.displayName=VA;var xH="DropdownMenuGroup",TH=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=sr(n);return c.jsx(cH,{...s,...r,ref:e})});TH.displayName=xH;var bH="DropdownMenuLabel",CH=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=sr(n);return c.jsx(uH,{...s,...r,ref:e})});CH.displayName=bH;var IH="DropdownMenuItem",HA=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=sr(n);return c.jsx(dH,{...s,...r,ref:e})});HA.displayName=IH;var AH="DropdownMenuCheckboxItem",RH=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=sr(n);return c.jsx(hH,{...s,...r,ref:e})});RH.displayName=AH;var PH="DropdownMenuRadioGroup",NH=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=sr(n);return c.jsx(fH,{...s,...r,ref:e})});NH.displayName=PH;var kH="DropdownMenuRadioItem",DH=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=sr(n);return c.jsx(pH,{...s,...r,ref:e})});DH.displayName=kH;var jH="DropdownMenuItemIndicator",MH=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=sr(n);return c.jsx(mH,{...s,...r,ref:e})});MH.displayName=jH;var OH="DropdownMenuSeparator",LH=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=sr(n);return c.jsx(gH,{...s,...r,ref:e})});LH.displayName=OH;var FH="DropdownMenuArrow",VH=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=sr(n);return c.jsx(vH,{...s,...r,ref:e})});VH.displayName=FH;var UH="DropdownMenuSubTrigger",HH=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=sr(n);return c.jsx(yH,{...s,...r,ref:e})});HH.displayName=UH;var BH="DropdownMenuSubContent",$H=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=sr(n);return c.jsx(wH,{...s,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});$H.displayName=BH;var zH=MA,WH=LA,GH=FA,qH=UA,KH=HA;function jd({...t}){return c.jsx(zH,{"data-slot":"dropdown-menu",...t})}function Md({...t}){return c.jsx(WH,{"data-slot":"dropdown-menu-trigger",...t})}function Od({className:t,sideOffset:e=4,...n}){return c.jsx(GH,{children:c.jsx(qH,{"data-slot":"dropdown-menu-content",sideOffset:e,className:It("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",t),...n})})}function ws({className:t,inset:e,variant:n="default",icon:r,children:s,...o}){const l=()=>r?typeof r=="string"?c.jsx("img",{src:r,alt:"",className:"dropdown-item-icon"}):E.createElement(r,{className:"dropdown-item-icon",size:16,"aria-hidden":!0}):null;return c.jsxs(KH,{"data-slot":"dropdown-menu-item","data-inset":e,"data-variant":n,className:It("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",r?"dropdown-menu-item-with-icon":"no-icon",t),...o,children:[l(),c.jsx("span",{className:"dropdown-item-text",children:s})]})}const wS={RENAME:(t={})=>Ft("pencil","mini",Ki,t.size),DELETE:(t={})=>Ft("delete","mini",Py,t.size)};function dy({chatEntry:t,currentChatId:e,onDelete:n,refreshHistory:r,returnCurrentChatId:s,creditCards:o,variant:l="full-page"}){const u=js(),h=Mr(),p=t.chatId===e,[v,y]=E.useState(!1),[T,k]=E.useState(!1),[N,D]=E.useState(t.chatDescription),[j,L]=E.useState(!1),[U,B]=E.useState(null),m=A=>{A.preventDefault(),A.target.closest(".actions-dropdown")||u(`/${t.chatId}`,{replace:!0})},S=A=>{A.stopPropagation(),y(!0)},x=A=>{A.stopPropagation(),D(t.chatDescription),B(null),k(!0)},_=async A=>{if(A.preventDefault(),!!N.trim()){B(null),L(!0);try{await Xr.updateChatDescription(t.chatId,N),k(!1),r&&r().catch(H=>{console.error("Failed to refresh history:",H)})}catch(H){console.error("Failed to rename chat:",H),B("Failed to rename chat. Please try again.")}finally{L(!1)}}},b=async()=>{try{await YF(t.chatId,e,{onDelete:n,returnCurrentChatId:s,navigate:u,currentPath:h.pathname}),y(!1)}catch(A){console.error("Error deleting chat:",A),B("Failed to delete chat. Please try again.")}},R=t.cardSelection&&t.cardSelection!==""?o==null?void 0:o.find(A=>A.id===t.cardSelection):null,P=R?{name:R.CardName,image:R.CardImage||UN}:null;return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:`history-entry hide-timestamp-on-mobile ${l==="sidebar"?"sidebar-variant":"full-page-variant"} ${p?"current":""} ${P?"has-selected-card":""}`,id:t.chatId,onClick:m,style:{cursor:"pointer"},title:t.chatDescription,children:[c.jsxs("div",{className:"entry-content",children:[c.jsxs("div",{className:"entry-info",children:[c.jsx("p",{className:"entry-title",children:t.chatDescription}),c.jsx("p",{className:"timestamp",children:KF(t.timestamp)})]}),P&&c.jsxs("p",{className:"selected-card-display",children:[c.jsx(Kr,{title:P.name,size:12,primary:R==null?void 0:R.CardPrimaryColor,secondary:R==null?void 0:R.CardSecondaryColor,className:"card-thumbnail"}),P.name]})]}),c.jsx("div",{className:"actions-dropdown",children:c.jsxs(jd,{children:[c.jsx(Md,{asChild:!0,children:c.jsx("button",{className:"action-icon-button icon-gray-hover-fill",children:c.jsx(De,{name:"ellipsis-horizontal",variant:"mini",size:20,color:Ki,className:"action-icon"})})}),c.jsxs(Od,{align:"end",children:[c.jsx(ws,{onClick:x,icon:wS.RENAME,children:"Rename"}),c.jsx(ws,{onClick:S,variant:"destructive",icon:wS.DELETE,className:"delete-action",children:"Delete"})]})]})})]}),c.jsx(j1,{open:v,onOpenChange:y,children:c.jsxs(jm,{children:[c.jsxs(M1,{children:[c.jsx(L1,{children:"Delete Chat History"}),c.jsx(F1,{children:"Are you sure you want to delete this chat? This action cannot be undone."})]}),c.jsx(O1,{children:c.jsxs("div",{className:"button-group",children:[c.jsx(V1,{destructive:!0,onClick:b,children:"Delete"}),c.jsx(U1,{children:"Cancel"})]})})]})}),c.jsx(As,{open:T,onOpenChange:k,children:c.jsxs(Jr,{children:[c.jsx(es,{children:c.jsx(Rs,{children:"Rename Chat"})}),c.jsx(zi,{children:c.jsxs("form",{onSubmit:_,children:[c.jsx("input",{type:"text",value:N,onChange:A=>D(A.target.value),placeholder:"Enter a new name for this chat",className:"rename-input default-input",maxLength:FE,minLength:1,required:!0,autoFocus:!0}),c.jsxs("div",{className:"character-count",children:[N.length,"/",FE]}),U&&c.jsx(xt,{type:"error",message:U})]})}),c.jsx(Rd,{children:c.jsxs("div",{className:"button-group",children:[c.jsxs("button",{type:"submit",className:`button ${j?"loading icon with-text":""}`,disabled:j||!N.trim(),onClick:_,children:[j&&c.jsx(Go,{size:qa}),j?"Saving...":"Save"]}),c.jsx("button",{type:"button",className:`button outline ${j?"disabled":""}`,onClick:()=>k(!1),disabled:j,children:"Cancel"})]})})]})})]})}function YH(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}const BA=xe.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldAnimate:{current:!0},shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),Qc=()=>{const t=xe.useContext(BA);if(!t)throw new Error("useDrawerContext must be used within a Drawer.Root");return t};YH(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--initial-transform,100%),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--initial-transform,100%),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-animate=false]{animation:none!important}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,var(--initial-transform,100%),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,var(--initial-transform,100%),0)}}@keyframes slideFromTop{from{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}}@keyframes slideFromLeft{from{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}}@keyframes slideFromRight{from{transform:translate3d(var(--initial-transform,100%),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(var(--initial-transform,100%),0,0)}}`);function ZH(){const t=navigator.userAgent;return typeof window<"u"&&(/Firefox/.test(t)&&/Mobile/.test(t)||/FxiOS/.test(t))}function QH(){return iw(/^Mac/)}function XH(){return iw(/^iPhone/)}function _S(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function JH(){return iw(/^iPad/)||QH()&&navigator.maxTouchPoints>1}function $A(){return XH()||JH()}function iw(t){return typeof window<"u"&&window.navigator!=null?t.test(window.navigator.platform):void 0}const eB=24,tB=typeof window<"u"?E.useLayoutEffect:E.useEffect;function ES(...t){return(...e)=>{for(let n of t)typeof n=="function"&&n(...e)}}const rv=typeof document<"u"&&window.visualViewport;function SS(t){let e=window.getComputedStyle(t);return/(auto|scroll)/.test(e.overflow+e.overflowX+e.overflowY)}function zA(t){for(SS(t)&&(t=t.parentElement);t&&!SS(t);)t=t.parentElement;return t||document.scrollingElement||document.documentElement}const nB=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let Bf=0,sv;function rB(t={}){let{isDisabled:e}=t;tB(()=>{if(!e)return Bf++,Bf===1&&$A()&&(sv=sB()),()=>{Bf--,Bf===0&&(sv==null||sv())}},[e])}function sB(){let t,e=0,n=y=>{t=zA(y.target),!(t===document.documentElement&&t===document.body)&&(e=y.changedTouches[0].pageY)},r=y=>{if(!t||t===document.documentElement||t===document.body){y.preventDefault();return}let T=y.changedTouches[0].pageY,k=t.scrollTop,N=t.scrollHeight-t.clientHeight;N!==0&&((k<=0&&T>e||k>=N&&T<e)&&y.preventDefault(),e=T)},s=y=>{let T=y.target;hy(T)&&T!==document.activeElement&&(y.preventDefault(),T.style.transform="translateY(-2000px)",T.focus(),requestAnimationFrame(()=>{T.style.transform=""}))},o=y=>{let T=y.target;hy(T)&&(T.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{T.style.transform="",rv&&(rv.height<window.innerHeight?requestAnimationFrame(()=>{xS(T)}):rv.addEventListener("resize",()=>xS(T),{once:!0}))}))},l=()=>{window.scrollTo(0,0)},u=window.pageXOffset,h=window.pageYOffset,p=ES(iB(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let v=ES(Ku(document,"touchstart",n,{passive:!1,capture:!0}),Ku(document,"touchmove",r,{passive:!1,capture:!0}),Ku(document,"touchend",s,{passive:!1,capture:!0}),Ku(document,"focus",o,!0),Ku(window,"scroll",l));return()=>{p(),v(),window.scrollTo(u,h)}}function iB(t,e,n){let r=t.style[e];return t.style[e]=n,()=>{t.style[e]=r}}function Ku(t,e,n,r){return t.addEventListener(e,n,r),()=>{t.removeEventListener(e,n,r)}}function xS(t){let e=document.scrollingElement||document.documentElement;for(;t&&t!==e;){let n=zA(t);if(n!==document.documentElement&&n!==document.body&&n!==t){let r=n.getBoundingClientRect().top,s=t.getBoundingClientRect().top,o=t.getBoundingClientRect().bottom;const l=n.getBoundingClientRect().bottom+eB;o>l&&(n.scrollTop+=s-r)}t=n.parentElement}}function hy(t){return t instanceof HTMLInputElement&&!nB.has(t.type)||t instanceof HTMLTextAreaElement||t instanceof HTMLElement&&t.isContentEditable}function oB(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function aB(...t){return e=>t.forEach(n=>oB(n,e))}function WA(...t){return E.useCallback(aB(...t),t)}const GA=new WeakMap;function _n(t,e,n=!1){if(!t||!(t instanceof HTMLElement))return;let r={};Object.entries(e).forEach(([s,o])=>{if(s.startsWith("--")){t.style.setProperty(s,o);return}r[s]=t.style[s],t.style[s]=o}),!n&&GA.set(t,r)}function lB(t,e){if(!t||!(t instanceof HTMLElement))return;let n=GA.get(t);n&&(t.style[e]=n[e])}const hn=t=>{switch(t){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return t}};function $f(t,e){if(!t)return null;const n=window.getComputedStyle(t),r=n.transform||n.webkitTransform||n.mozTransform;let s=r.match(/^matrix3d\((.+)\)$/);return s?parseFloat(s[1].split(", ")[hn(e)?13:12]):(s=r.match(/^matrix\((.+)\)$/),s?parseFloat(s[1].split(", ")[hn(e)?5:4]):null)}function cB(t){return 8*(Math.log(t+1)-2)}function iv(t,e){if(!t)return()=>{};const n=t.style.cssText;return Object.assign(t.style,e),()=>{t.style.cssText=n}}function uB(...t){return(...e)=>{for(const n of t)typeof n=="function"&&n(...e)}}const tn={DURATION:.5,EASE:[.32,.72,0,1]},qA=.4,dB=.25,hB=100,KA=8,Ca=16,fy=26,ov="vaul-dragging";function YA(t){const e=xe.useRef(t);return xe.useEffect(()=>{e.current=t}),xe.useMemo(()=>(...n)=>e.current==null?void 0:e.current.call(e,...n),[])}function fB({defaultProp:t,onChange:e}){const n=xe.useState(t),[r]=n,s=xe.useRef(r),o=YA(e);return xe.useEffect(()=>{s.current!==r&&(o(r),s.current=r)},[r,s,o]),n}function ZA({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=fB({defaultProp:e,onChange:n}),o=t!==void 0,l=o?t:r,u=YA(n),h=xe.useCallback(p=>{if(o){const y=typeof p=="function"?p(t):p;y!==t&&u(y)}else s(p)},[o,t,s,u]);return[l,h]}function pB({activeSnapPointProp:t,setActiveSnapPointProp:e,snapPoints:n,drawerRef:r,overlayRef:s,fadeFromIndex:o,onSnapPointChange:l,direction:u="bottom",container:h,snapToSequentialPoint:p}){const[v,y]=ZA({prop:t,defaultProp:n==null?void 0:n[0],onChange:e}),[T,k]=xe.useState(typeof window<"u"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);xe.useEffect(()=>{function _(){k({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",_),()=>window.removeEventListener("resize",_)},[]);const N=xe.useMemo(()=>v===(n==null?void 0:n[n.length-1])||null,[n,v]),D=xe.useMemo(()=>{var _;return(_=n==null?void 0:n.findIndex(b=>b===v))!=null?_:null},[n,v]),j=n&&n.length>0&&(o||o===0)&&!Number.isNaN(o)&&n[o]===v||!n,L=xe.useMemo(()=>{const _=h?{width:h.getBoundingClientRect().width,height:h.getBoundingClientRect().height}:typeof window<"u"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var b;return(b=n==null?void 0:n.map(R=>{const P=typeof R=="string";let A=0;if(P&&(A=parseInt(R,10)),hn(u)){const O=P?A:T?R*_.height:0;return T?u==="bottom"?_.height-O:-_.height+O:O}const H=P?A:T?R*_.width:0;return T?u==="right"?_.width-H:-_.width+H:H}))!=null?b:[]},[n,T,h]),U=xe.useMemo(()=>D!==null?L==null?void 0:L[D]:null,[L,D]),B=xe.useCallback(_=>{var b;const R=(b=L==null?void 0:L.findIndex(P=>P===_))!=null?b:null;l(R),_n(r.current,{transition:`transform ${tn.DURATION}s cubic-bezier(${tn.EASE.join(",")})`,transform:hn(u)?`translate3d(0, ${_}px, 0)`:`translate3d(${_}px, 0, 0)`}),L&&R!==L.length-1&&o!==void 0&&R!==o&&R<o?_n(s.current,{transition:`opacity ${tn.DURATION}s cubic-bezier(${tn.EASE.join(",")})`,opacity:"0"}):_n(s.current,{transition:`opacity ${tn.DURATION}s cubic-bezier(${tn.EASE.join(",")})`,opacity:"1"}),y(n==null?void 0:n[Math.max(R,0)])},[r.current,n,L,o,s,y]);xe.useEffect(()=>{if(v||t){var _;const b=(_=n==null?void 0:n.findIndex(R=>R===t||R===v))!=null?_:-1;L&&b!==-1&&typeof L[b]=="number"&&B(L[b])}},[v,t,n,L,B]);function m({draggedDistance:_,closeDrawer:b,velocity:R,dismissible:P}){if(o===void 0)return;const A=u==="bottom"||u==="right"?(U??0)-_:(U??0)+_,H=D===o-1,O=D===0,K=_>0;if(H&&_n(s.current,{transition:`opacity ${tn.DURATION}s cubic-bezier(${tn.EASE.join(",")})`}),!p&&R>2&&!K){P?b():B(L[0]);return}if(!p&&R>2&&K&&L&&n){B(L[n.length-1]);return}const Y=L==null?void 0:L.reduce((G,z)=>typeof G!="number"||typeof z!="number"?G:Math.abs(z-A)<Math.abs(G-A)?z:G),F=hn(u)?window.innerHeight:window.innerWidth;if(R>qA&&Math.abs(_)<F*.4){const G=K?1:-1;if(G>0&&N&&n){B(L[n.length-1]);return}if(O&&G<0&&P&&b(),D===null)return;B(L[D+G]);return}B(Y)}function S({draggedDistance:_}){if(U===null)return;const b=u==="bottom"||u==="right"?U-_:U+_;(u==="bottom"||u==="right")&&b<L[L.length-1]||(u==="top"||u==="left")&&b>L[L.length-1]||_n(r.current,{transform:hn(u)?`translate3d(0, ${b}px, 0)`:`translate3d(${b}px, 0, 0)`})}function x(_,b){if(!n||typeof D!="number"||!L||o===void 0)return null;const R=D===o-1;if(D>=o&&b)return 0;if(R&&!b)return 1;if(!j&&!R)return null;const A=R?D+1:D-1,H=R?L[A]-L[A-1]:L[A+1]-L[A],O=_/Math.abs(H);return R?1-O:O}return{isLastSnapPoint:N,activeSnapPoint:v,shouldFade:j,getPercentageDragged:x,setActiveSnapPoint:y,activeSnapPointIndex:D,onRelease:m,onDrag:S,snapPointsOffset:L}}const mB=()=>()=>{};function gB(){const{direction:t,isOpen:e,shouldScaleBackground:n,setBackgroundColorOnScale:r,noBodyStyles:s}=Qc(),o=xe.useRef(null),l=E.useMemo(()=>document.body.style.backgroundColor,[]);function u(){return(window.innerWidth-fy)/window.innerWidth}xe.useEffect(()=>{if(e&&n){o.current&&clearTimeout(o.current);const h=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!h)return;uB(r&&!s?iv(document.body,{background:"black"}):mB,iv(h,{transformOrigin:hn(t)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${tn.DURATION}s`,transitionTimingFunction:`cubic-bezier(${tn.EASE.join(",")})`}));const p=iv(h,{borderRadius:`${KA}px`,overflow:"hidden",...hn(t)?{transform:`scale(${u()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${u()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{p(),o.current=window.setTimeout(()=>{l?document.body.style.background=l:document.body.style.removeProperty("background")},tn.DURATION*1e3)}}},[e,n,l])}let Yu=null;function vB({isOpen:t,modal:e,nested:n,hasBeenOpened:r,preventScrollRestoration:s,noBodyStyles:o}){const[l,u]=xe.useState(()=>typeof window<"u"?window.location.href:""),h=xe.useRef(0),p=xe.useCallback(()=>{if(_S()&&Yu===null&&t&&!o){Yu={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:y,innerHeight:T}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-h.current}px`,left:`${-y}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const k=T-window.innerHeight;k&&h.current>=T&&(document.body.style.top=`${-(h.current+k)}px`)}),300)}},[t]),v=xe.useCallback(()=>{if(_S()&&Yu!==null&&!o){const y=-parseInt(document.body.style.top,10),T=-parseInt(document.body.style.left,10);Object.assign(document.body.style,Yu),window.requestAnimationFrame(()=>{if(s&&l!==window.location.href){u(window.location.href);return}window.scrollTo(T,y)}),Yu=null}},[l]);return xe.useEffect(()=>{function y(){h.current=window.scrollY}return y(),window.addEventListener("scroll",y),()=>{window.removeEventListener("scroll",y)}},[]),xe.useEffect(()=>{if(e)return()=>{typeof document>"u"||document.querySelector("[data-vaul-drawer]")||v()}},[e,v]),xe.useEffect(()=>{n||!r||(t?(!window.matchMedia("(display-mode: standalone)").matches&&p(),e||window.setTimeout(()=>{v()},500)):v())},[t,r,l,e,n,p,v]),{restorePositionSetting:v}}function QA({open:t,onOpenChange:e,children:n,onDrag:r,onRelease:s,snapPoints:o,shouldScaleBackground:l=!1,setBackgroundColorOnScale:u=!0,closeThreshold:h=dB,scrollLockTimeout:p=hB,dismissible:v=!0,handleOnly:y=!1,fadeFromIndex:T=o&&o.length-1,activeSnapPoint:k,setActiveSnapPoint:N,fixed:D,modal:j=!0,onClose:L,nested:U,noBodyStyles:B=!1,direction:m="bottom",defaultOpen:S=!1,disablePreventScroll:x=!0,snapToSequentialPoint:_=!1,preventScrollRestoration:b=!1,repositionInputs:R=!0,onAnimationEnd:P,container:A,autoFocus:H=!1}){var O,K;const[Y=!1,F]=ZA({defaultProp:S,prop:t,onChange:qe=>{e==null||e(qe),!qe&&!U&&Rt(),setTimeout(()=>{P==null||P(qe)},tn.DURATION*1e3),qe&&!j&&typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),qe||(document.body.style.pointerEvents="auto")}}),[G,z]=xe.useState(!1),[Z,ee]=xe.useState(!1),[W,J]=xe.useState(!1),ue=xe.useRef(null),_e=xe.useRef(null),Te=xe.useRef(null),ce=xe.useRef(null),pe=xe.useRef(null),Re=xe.useRef(!1),Ie=xe.useRef(null),je=xe.useRef(0),Ze=xe.useRef(!1),mt=xe.useRef(!S),vt=xe.useRef(0),Oe=xe.useRef(null),ke=xe.useRef(((O=Oe.current)==null?void 0:O.getBoundingClientRect().height)||0),ne=xe.useRef(((K=Oe.current)==null?void 0:K.getBoundingClientRect().width)||0),de=xe.useRef(0),we=xe.useCallback(qe=>{o&&qe===Wt.length-1&&(_e.current=new Date)},[]),{activeSnapPoint:me,activeSnapPointIndex:Pe,setActiveSnapPoint:tt,onRelease:Qe,snapPointsOffset:Wt,onDrag:mn,shouldFade:xn,getPercentageDragged:Dt}=pB({snapPoints:o,activeSnapPointProp:k,setActiveSnapPointProp:N,drawerRef:Oe,fadeFromIndex:T,overlayRef:ue,onSnapPointChange:we,direction:m,container:A,snapToSequentialPoint:_});rB({isDisabled:!Y||Z||!j||W||!G||!R||!x});const{restorePositionSetting:Rt}=vB({isOpen:Y,modal:j,nested:U??!1,hasBeenOpened:G,preventScrollRestoration:b,noBodyStyles:B});function Tn(){return(window.innerWidth-fy)/window.innerWidth}function fi(qe){var ft,lt;!v&&!o||Oe.current&&!Oe.current.contains(qe.target)||(ke.current=((ft=Oe.current)==null?void 0:ft.getBoundingClientRect().height)||0,ne.current=((lt=Oe.current)==null?void 0:lt.getBoundingClientRect().width)||0,ee(!0),Te.current=new Date,$A()&&window.addEventListener("touchend",()=>Re.current=!1,{once:!0}),qe.target.setPointerCapture(qe.pointerId),je.current=hn(m)?qe.pageY:qe.pageX)}function $n(qe,ft){var lt;let it=qe;const Ee=(lt=window.getSelection())==null?void 0:lt.toString(),Fe=Oe.current?$f(Oe.current,m):null,et=new Date;if(it.tagName==="SELECT"||it.hasAttribute("data-vaul-no-drag")||it.closest("[data-vaul-no-drag]"))return!1;if(m==="right"||m==="left")return!0;if(_e.current&&et.getTime()-_e.current.getTime()<500)return!1;if(Fe!==null&&(m==="bottom"?Fe>0:Fe<0))return!0;if(Ee&&Ee.length>0)return!1;if(pe.current&&et.getTime()-pe.current.getTime()<p&&Fe===0||ft)return pe.current=et,!1;for(;it;){if(it.scrollHeight>it.clientHeight){if(it.scrollTop!==0)return pe.current=new Date,!1;if(it.getAttribute("role")==="dialog")return!0}it=it.parentNode}return!0}function Or(qe){if(Oe.current&&Z){const ft=m==="bottom"||m==="right"?1:-1,lt=(je.current-(hn(m)?qe.pageY:qe.pageX))*ft,it=lt>0,Ee=o&&!v&&!it;if(Ee&&Pe===0)return;const Fe=Math.abs(lt),et=document.querySelector("[data-vaul-drawer-wrapper]"),Nt=m==="bottom"||m==="top"?ke.current:ne.current;let Zt=Fe/Nt;const Qt=Dt(Fe,it);if(Qt!==null&&(Zt=Qt),Ee&&Zt>=1||!Re.current&&!$n(qe.target,it))return;if(Oe.current.classList.add(ov),Re.current=!0,_n(Oe.current,{transition:"none"}),_n(ue.current,{transition:"none"}),o&&mn({draggedDistance:lt}),it&&!o){const Tt=cB(lt),_r=Math.min(Tt*-1,0)*ft;_n(Oe.current,{transform:hn(m)?`translate3d(0, ${_r}px, 0)`:`translate3d(${_r}px, 0, 0)`});return}const zn=1-Zt;if((xn||T&&Pe===T-1)&&(r==null||r(qe,Zt),_n(ue.current,{opacity:`${zn}`,transition:"none"},!0)),et&&ue.current&&l){const Tt=Math.min(Tn()+Zt*(1-Tn()),1),_r=8-Zt*8,Wn=Math.max(0,14-Zt*14);_n(et,{borderRadius:`${_r}px`,transform:hn(m)?`scale(${Tt}) translate3d(0, ${Wn}px, 0)`:`scale(${Tt}) translate3d(${Wn}px, 0, 0)`,transition:"none"},!0)}if(!o){const Tt=Fe*ft;_n(Oe.current,{transform:hn(m)?`translate3d(0, ${Tt}px, 0)`:`translate3d(${Tt}px, 0, 0)`})}}}xe.useEffect(()=>{window.requestAnimationFrame(()=>{mt.current=!0})},[]),xe.useEffect(()=>{var qe;function ft(){if(!Oe.current||!R)return;const lt=document.activeElement;if(hy(lt)||Ze.current){var it;const Ee=((it=window.visualViewport)==null?void 0:it.height)||0,Fe=window.innerHeight;let et=Fe-Ee;const Nt=Oe.current.getBoundingClientRect().height||0,Zt=Nt>Fe*.8;de.current||(de.current=Nt);const Qt=Oe.current.getBoundingClientRect().top;if(Math.abs(vt.current-et)>60&&(Ze.current=!Ze.current),o&&o.length>0&&Wt&&Pe){const zn=Wt[Pe]||0;et+=zn}if(vt.current=et,Nt>Ee||Ze.current){const zn=Oe.current.getBoundingClientRect().height;let Tt=zn;zn>Ee&&(Tt=Ee-(Zt?Qt:fy)),D?Oe.current.style.height=`${zn-Math.max(et,0)}px`:Oe.current.style.height=`${Math.max(Tt,Ee-Qt)}px`}else ZH()||(Oe.current.style.height=`${de.current}px`);o&&o.length>0&&!Ze.current?Oe.current.style.bottom="0px":Oe.current.style.bottom=`${Math.max(et,0)}px`}}return(qe=window.visualViewport)==null||qe.addEventListener("resize",ft),()=>{var lt;return(lt=window.visualViewport)==null?void 0:lt.removeEventListener("resize",ft)}},[Pe,o,Wt]);function bn(qe){Fs(),L==null||L(),qe||F(!1),setTimeout(()=>{o&&tt(o[0])},tn.DURATION*1e3)}function wr(){if(!Oe.current)return;const qe=document.querySelector("[data-vaul-drawer-wrapper]"),ft=$f(Oe.current,m);_n(Oe.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${tn.DURATION}s cubic-bezier(${tn.EASE.join(",")})`}),_n(ue.current,{transition:`opacity ${tn.DURATION}s cubic-bezier(${tn.EASE.join(",")})`,opacity:"1"}),l&&ft&&ft>0&&Y&&_n(qe,{borderRadius:`${KA}px`,overflow:"hidden",...hn(m)?{transform:`scale(${Tn()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${Tn()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${tn.DURATION}s`,transitionTimingFunction:`cubic-bezier(${tn.EASE.join(",")})`},!0)}function Fs(){!Z||!Oe.current||(Oe.current.classList.remove(ov),Re.current=!1,ee(!1),ce.current=new Date)}function Vs(qe){if(!Z||!Oe.current)return;Oe.current.classList.remove(ov),Re.current=!1,ee(!1),ce.current=new Date;const ft=$f(Oe.current,m);if(!qe||!$n(qe.target,!1)||!ft||Number.isNaN(ft)||Te.current===null)return;const lt=ce.current.getTime()-Te.current.getTime(),it=je.current-(hn(m)?qe.pageY:qe.pageX),Ee=Math.abs(it)/lt;if(Ee>.05&&(J(!0),setTimeout(()=>{J(!1)},200)),o){Qe({draggedDistance:it*(m==="bottom"||m==="right"?1:-1),closeDrawer:bn,velocity:Ee,dismissible:v}),s==null||s(qe,!0);return}if(m==="bottom"||m==="right"?it>0:it<0){wr(),s==null||s(qe,!0);return}if(Ee>qA){bn(),s==null||s(qe,!1);return}var Fe;const et=Math.min((Fe=Oe.current.getBoundingClientRect().height)!=null?Fe:0,window.innerHeight);var Nt;const Zt=Math.min((Nt=Oe.current.getBoundingClientRect().width)!=null?Nt:0,window.innerWidth),Qt=m==="left"||m==="right";if(Math.abs(ft)>=(Qt?Zt:et)*h){bn(),s==null||s(qe,!1);return}s==null||s(qe,!0),wr()}xe.useEffect(()=>(Y&&(_n(document.documentElement,{scrollBehavior:"auto"}),_e.current=new Date),()=>{lB(document.documentElement,"scrollBehavior")}),[Y]);function Us(qe){const ft=qe?(window.innerWidth-Ca)/window.innerWidth:1,lt=qe?-Ca:0;Ie.current&&window.clearTimeout(Ie.current),_n(Oe.current,{transition:`transform ${tn.DURATION}s cubic-bezier(${tn.EASE.join(",")})`,transform:hn(m)?`scale(${ft}) translate3d(0, ${lt}px, 0)`:`scale(${ft}) translate3d(${lt}px, 0, 0)`}),!qe&&Oe.current&&(Ie.current=setTimeout(()=>{const it=$f(Oe.current,m);_n(Oe.current,{transition:"none",transform:hn(m)?`translate3d(0, ${it}px, 0)`:`translate3d(${it}px, 0, 0)`})},500))}function Hs(qe,ft){if(ft<0)return;const lt=(window.innerWidth-Ca)/window.innerWidth,it=lt+ft*(1-lt),Ee=-Ca+ft*Ca;_n(Oe.current,{transform:hn(m)?`scale(${it}) translate3d(0, ${Ee}px, 0)`:`scale(${it}) translate3d(${Ee}px, 0, 0)`,transition:"none"})}function ts(qe,ft){const lt=hn(m)?window.innerHeight:window.innerWidth,it=ft?(lt-Ca)/lt:1,Ee=ft?-Ca:0;ft&&_n(Oe.current,{transition:`transform ${tn.DURATION}s cubic-bezier(${tn.EASE.join(",")})`,transform:hn(m)?`scale(${it}) translate3d(0, ${Ee}px, 0)`:`scale(${it}) translate3d(${Ee}px, 0, 0)`})}return xe.useEffect(()=>{j||window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"})},[j]),xe.createElement(A1,{defaultOpen:S,onOpenChange:qe=>{!v&&!qe||(qe?z(!0):bn(!0),F(qe))},open:Y},xe.createElement(BA.Provider,{value:{activeSnapPoint:me,snapPoints:o,setActiveSnapPoint:tt,drawerRef:Oe,overlayRef:ue,onOpenChange:e,onPress:fi,onRelease:Vs,onDrag:Or,dismissible:v,shouldAnimate:mt,handleOnly:y,isOpen:Y,isDragging:Z,shouldFade:xn,closeDrawer:bn,onNestedDrag:Hs,onNestedOpenChange:Us,onNestedRelease:ts,keyboardIsOpen:Ze,modal:j,snapPointsOffset:Wt,activeSnapPointIndex:Pe,direction:m,shouldScaleBackground:l,setBackgroundColorOnScale:u,noBodyStyles:B,container:A,autoFocus:H}},n))}const XA=xe.forwardRef(function({...t},e){const{overlayRef:n,snapPoints:r,onRelease:s,shouldFade:o,isOpen:l,modal:u,shouldAnimate:h}=Qc(),p=WA(e,n),v=r&&r.length>0;if(!u)return null;const y=xe.useCallback(T=>s(T),[s]);return xe.createElement(P1,{onMouseUp:y,ref:p,"data-vaul-overlay":"","data-vaul-snap-points":l&&v?"true":"false","data-vaul-snap-points-overlay":l&&o?"true":"false","data-vaul-animate":h!=null&&h.current?"true":"false",...t})});XA.displayName="Drawer.Overlay";const JA=xe.forwardRef(function({onPointerDownOutside:t,style:e,onOpenAutoFocus:n,...r},s){const{drawerRef:o,onPress:l,onRelease:u,onDrag:h,keyboardIsOpen:p,snapPointsOffset:v,activeSnapPointIndex:y,modal:T,isOpen:k,direction:N,snapPoints:D,container:j,handleOnly:L,shouldAnimate:U,autoFocus:B}=Qc(),[m,S]=xe.useState(!1),x=WA(s,o),_=xe.useRef(null),b=xe.useRef(null),R=xe.useRef(!1),P=D&&D.length>0;gB();const A=(O,K,Y=0)=>{if(R.current)return!0;const F=Math.abs(O.y),G=Math.abs(O.x),z=G>F,Z=["bottom","right"].includes(K)?1:-1;if(K==="left"||K==="right"){if(!(O.x*Z<0)&&G>=0&&G<=Y)return z}else if(!(O.y*Z<0)&&F>=0&&F<=Y)return!z;return R.current=!0,!0};xe.useEffect(()=>{P&&window.requestAnimationFrame(()=>{S(!0)})},[]);function H(O){_.current=null,R.current=!1,u(O)}return xe.createElement(N1,{"data-vaul-drawer-direction":N,"data-vaul-drawer":"","data-vaul-delayed-snap-points":m?"true":"false","data-vaul-snap-points":k&&P?"true":"false","data-vaul-custom-container":j?"true":"false","data-vaul-animate":U!=null&&U.current?"true":"false",...r,ref:x,style:v&&v.length>0?{"--snap-point-height":`${v[y??0]}px`,...e}:e,onPointerDown:O=>{L||(r.onPointerDown==null||r.onPointerDown.call(r,O),_.current={x:O.pageX,y:O.pageY},l(O))},onOpenAutoFocus:O=>{n==null||n(O),B||O.preventDefault()},onPointerDownOutside:O=>{if(t==null||t(O),!T||O.defaultPrevented){O.preventDefault();return}p.current&&(p.current=!1)},onFocusOutside:O=>{if(!T){O.preventDefault();return}},onPointerMove:O=>{if(b.current=O,L||(r.onPointerMove==null||r.onPointerMove.call(r,O),!_.current))return;const K=O.pageY-_.current.y,Y=O.pageX-_.current.x,F=O.pointerType==="touch"?10:2;A({x:Y,y:K},N,F)?h(O):(Math.abs(Y)>F||Math.abs(K)>F)&&(_.current=null)},onPointerUp:O=>{r.onPointerUp==null||r.onPointerUp.call(r,O),_.current=null,R.current=!1,u(O)},onPointerOut:O=>{r.onPointerOut==null||r.onPointerOut.call(r,O),H(b.current)},onContextMenu:O=>{r.onContextMenu==null||r.onContextMenu.call(r,O),b.current&&H(b.current)}})});JA.displayName="Drawer.Content";const yB=250,wB=120,_B=xe.forwardRef(function({preventCycle:t=!1,children:e,...n},r){const{closeDrawer:s,isDragging:o,snapPoints:l,activeSnapPoint:u,setActiveSnapPoint:h,dismissible:p,handleOnly:v,isOpen:y,onPress:T,onDrag:k}=Qc(),N=xe.useRef(null),D=xe.useRef(!1);function j(){if(D.current){B();return}window.setTimeout(()=>{L()},wB)}function L(){if(o||t||D.current){B();return}if(B(),!l||l.length===0){p||s();return}if(u===l[l.length-1]&&p){s();return}const S=l.findIndex(_=>_===u);if(S===-1)return;const x=l[S+1];h(x)}function U(){N.current=window.setTimeout(()=>{D.current=!0},yB)}function B(){N.current&&window.clearTimeout(N.current),D.current=!1}return xe.createElement("div",{onClick:j,onPointerCancel:B,onPointerDown:m=>{v&&T(m),U()},onPointerMove:m=>{v&&k(m)},ref:r,"data-vaul-drawer-visible":y?"true":"false","data-vaul-handle":"","aria-hidden":"true",...n},xe.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},e))});_B.displayName="Drawer.Handle";function EB({onDrag:t,onOpenChange:e,open:n,...r}){const{onNestedDrag:s,onNestedOpenChange:o,onNestedRelease:l}=Qc();if(!s)throw new Error("Drawer.NestedRoot must be placed in another drawer");return xe.createElement(QA,{nested:!0,open:n,onClose:()=>{o(!1)},onDrag:(u,h)=>{s(u,h),t==null||t(u,h)},onOpenChange:u=>{u&&o(u),e==null||e(u)},onRelease:l,...r})}function SB(t){const e=Qc(),{container:n=e.container,...r}=t;return xe.createElement(R1,{container:n,...r})}const en={Root:QA,NestedRoot:EB,Content:JA,Overlay:XA,Trigger:lI,Portal:SB,Close:Dm,Title:k1,Description:cI};function Jo({...t}){return c.jsx(en.Root,{"data-slot":"drawer",...t})}function xB({...t}){return c.jsx(en.NestedRoot,{"data-slot":"drawer-nested-root",...t})}function TB({...t}){return c.jsx(en.Trigger,{"data-slot":"drawer-trigger",...t})}function e3({...t}){return c.jsx(en.Portal,{"data-slot":"drawer-portal",...t})}const ow=E.forwardRef(({className:t,...e},n)=>c.jsx(en.Overlay,{ref:n,"data-slot":"drawer-overlay",className:It("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-[50000] bg-black/50",t),...e}));ow.displayName="DrawerOverlay";const ci=E.forwardRef(({className:t,children:e,fitContent:n,maxHeight:r="80vh",...s},o)=>c.jsxs(e3,{"data-slot":"drawer-portal",children:[c.jsx(ow,{}),c.jsxs(en.Content,{ref:o,"data-slot":"drawer-content","aria-describedby":void 0,className:It("group/drawer-content bg-background fixed z-[50001] flex flex-col overflow-hidden","data-[vaul-drawer-direction=top]:inset-x-0 data-[vaul-drawer-direction=top]:top-0 data-[vaul-drawer-direction=top]:h-[80vh] data-[vaul-drawer-direction=top]:rounded-b-lg data-[vaul-drawer-direction=top]:border-b","data-[vaul-drawer-direction=bottom]:inset-x-0 data-[vaul-drawer-direction=bottom]:bottom-0 data-[vaul-drawer-direction=bottom]:h-[80vh] data-[vaul-drawer-direction=bottom]:w-full data-[vaul-drawer-direction=bottom]:rounded-t-lg data-[vaul-drawer-direction=bottom]:border-t","sm:data-[vaul-drawer-direction=bottom]:max-w-[900px] sm:data-[vaul-drawer-direction=bottom]:inset-x-auto sm:data-[vaul-drawer-direction=bottom]:left-1/2 sm:data-[vaul-drawer-direction=bottom]:translate-x-[-50%]","data-[vaul-drawer-direction=right]:inset-y-0 data-[vaul-drawer-direction=right]:right-0 data-[vaul-drawer-direction=right]:w-3/4 data-[vaul-drawer-direction=right]:border-l data-[vaul-drawer-direction=right]:sm:max-w-sm","data-[vaul-drawer-direction=left]:inset-y-0 data-[vaul-drawer-direction=left]:left-0 data-[vaul-drawer-direction=left]:w-3/4 data-[vaul-drawer-direction=left]:border-r data-[vaul-drawer-direction=left]:sm:max-w-sm",n&&"data-[vaul-drawer-direction=bottom]:h-auto data-[vaul-drawer-direction=top]:h-auto",t),style:{...n&&{maxHeight:r},...s.style},...s,children:[c.jsx("div",{"data-slot":"drawer-handle","aria-hidden":"true"}),e]})]}));ci.displayName="DrawerContent";function bB({className:t,...e}){return c.jsx("div",{"data-slot":"drawer-header",className:It("flex flex-col gap-0.5 p-4 group-data-[vaul-drawer-direction=bottom]/drawer-content:text-center group-data-[vaul-drawer-direction=top]/drawer-content:text-center md:gap-1.5 md:text-left",t),...e})}function CB({className:t,...e}){return c.jsx("div",{"data-slot":"drawer-footer",className:It("mt-auto flex flex-col gap-2 p-4",t),...e})}function qi({className:t,...e}){return c.jsx(en.Title,{"data-slot":"drawer-title",className:It("text-foreground font-semibold",t),...e})}const IB=async t=>{try{const e={page:t.currentPage,page_size:t.pageSize};t.selectedMonth!==""&&(e.month=t.selectedMonth,e.year=t.selectedYear.toString());const n=await Xr.fetchPagedHistory(e);return{chatHistory:n.chatHistory||[],pagination:n.pagination}}catch(e){return console.error("Error fetching chat history:",e),{chatHistory:[],pagination:null,error:e instanceof Error?e:new Error("Unknown error occurred")}}},AB=async()=>{try{const t=await Xr.fetchFirstEntryDate();return t.firstEntryDate?new Date(t.firstEntryDate):null}catch(t){return console.error("Error fetching first entry date:",t),null}},RB=(t,e,n,r)=>{t===e&&n(null),r&&r(s=>s.filter(o=>o.chatId!==t))},PB=(t=Ts.FREE,e)=>{const n=new Date,r=new Date(n.getFullYear(),n.getMonth(),n.getDate()-90),s=[];if(t===Ts.PREMIUM&&e){const o=e.getFullYear(),l=n.getFullYear();for(let u=l;u>=o;u--)s.push(u)}else{const o=r.getFullYear(),l=n.getFullYear();for(let u=l;u>=o;u--)s.push(u)}return s},NB=(t=Ts.FREE,e,n)=>{const r=new Date,s=new Date(r.getFullYear(),r.getMonth(),r.getDate()-90);let o=[...mp];return t===Ts.PREMIUM&&e?n===e.getFullYear()&&(o=o.filter(l=>l.value>=e.getMonth()+1)):(n===s.getFullYear()&&(o=o.filter(l=>l.value>=s.getMonth()+1)),n===r.getFullYear()&&(o=o.filter(l=>l.value<=r.getMonth()+1))),o},kB=t=>{const e=new Date,n=new Date(e.getFullYear(),e.getMonth(),e.getDate()),r=l=>`${XN[l.getMonth()]} ${l.getFullYear()}`,s=l=>l.getFullYear()*12+l.getMonth(),o=t.reduce((l,u)=>{const h=new Date(u.timestamp),p=Math.floor((n.getTime()-h.getTime())/(1e3*60*60*24));let v,y;return p<1?(v="today",y="Today"):p<2?(v="yesterday",y="Yesterday"):p<7?(v="lastweek",y="Last Week"):p<14?(v="2weeks",y="2 Weeks Ago"):p<21?(v="3weeks",y="3 Weeks Ago"):(v=s(h),y=r(h)),l[v]||(l[v]={title:y,entries:[],key:v}),l[v].entries.push(u),l},{});return Object.values(o).sort((l,u)=>{const h=["today","yesterday","lastweek","2weeks","3weeks"],p=h.indexOf(l.key),v=h.indexOf(u.key);return p!==-1&&v!==-1?p-v:p!==-1?-1:v!==-1?1:u.key-l.key}).map(l=>({title:l.title,entries:l.entries.sort((u,h)=>new Date(h.timestamp).getTime()-new Date(u.timestamp).getTime())}))},DB=(t,e,n,r,s,o)=>{if(!e||n===Ts.PREMIUM||e.current_page!==e.total_pages)return!1;const l=new Date,u=new Date(l.getFullYear(),l.getMonth(),l.getDate()-90);return r!==""?new Date(s,parseInt(r)-1,1)<u:o?o<u:!1},jB=(t,e)=>{var l;if(!t)return`Unlock your complete ${Xn.nounSingular} history with Premium`;const n=new Date,r=new Date(n.getFullYear(),n.getMonth(),n.getDate()-90),s=new Date(e,parseInt(t)-1,1);return(r.getFullYear()-s.getFullYear())*12+(r.getMonth()-s.getMonth())<=1&&s<r?`Any ${Xn.nounPlural} older than 90 days may be hidden from this statement. Unlock all ${Xn.nounSingular} history with Premium`:`Access your complete ${(l=mp.find(u=>u.value===parseInt(t)))==null?void 0:l.label} ${e} ${Xn.nounSingular} history with Premium`},TS=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,bS=_1,MB=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return bS(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:o}=e,l=Object.keys(s).map(p=>{const v=n==null?void 0:n[p],y=o==null?void 0:o[p];if(v===null)return null;const T=TS(v)||TS(y);return s[p][T]}),u=n&&Object.entries(n).reduce((p,v)=>{let[y,T]=v;return T===void 0||(p[y]=T),p},{}),h=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((p,v)=>{let{class:y,className:T,...k}=v;return Object.entries(k).every(N=>{let[D,j]=N;return Array.isArray(j)?j.includes({...o,...u}[D]):{...o,...u}[D]===j})?[...p,y,T]:p},[]);return bS(t,l,h,n==null?void 0:n.class,n==null?void 0:n.className)},OB=MB("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function LB({className:t,...e}){return c.jsx("nav",{role:"navigation","aria-label":"pagination","data-slot":"pagination",className:It("mx-auto flex w-full justify-center",t),...e})}function FB({className:t,...e}){return c.jsx("ul",{"data-slot":"pagination-content",className:It("flex flex-row items-center gap-1",t),...e})}function Ia({...t}){return c.jsx("li",{"data-slot":"pagination-item",...t})}function pd({className:t,isActive:e,size:n="icon",...r}){return c.jsx("a",{"aria-current":e?"page":void 0,"data-slot":"pagination-link","data-active":e,className:It(OB({variant:e?"outline":"ghost",size:n}),t),...r})}function VB({className:t,...e}){return c.jsxs(pd,{"aria-label":"Go to previous page",size:"default",className:It("gap-1 px-2.5 sm:pl-2.5",t),...e,children:[c.jsx(MF,{}),c.jsx("span",{className:"hidden sm:block",children:"Previous"})]})}function UB({className:t,...e}){return c.jsxs(pd,{"aria-label":"Go to next page",size:"default",className:It("gap-1 px-2.5 sm:pr-2.5",t),...e,children:[c.jsx("span",{className:"hidden sm:block",children:"Next"}),c.jsx(LF,{})]})}function CS({className:t,...e}){return c.jsxs("span",{"aria-hidden":!0,"data-slot":"pagination-ellipsis",className:It("flex size-9 items-center justify-center",t),...e,children:[c.jsx(VF,{className:"size-4"}),c.jsx("span",{className:"sr-only",children:"More pages"})]})}function t3({children:t,className:e}){return c.jsx("div",{className:It("header-controls-container",e),children:t})}function HB({children:t,className:e}){return c.jsx("div",{className:It("footer-controls-container",e),children:t})}const BB=BN;function $B({currentChatId:t,returnCurrentChatId:e,onHistoryUpdate:n,subscriptionPlan:r=Ts.FREE,creditCards:s,historyRefreshTrigger:o,showCompletedOnlyPreference:l,filtersDrawerOpen:u,onFiltersDrawerOpenChange:h}){const{user:p}=di();eh(!0);const[v,y]=E.useState(1),[T,k]=E.useState(null),[N,D]=E.useState(!1),[j,L]=E.useState([]),[U,B]=E.useState(""),[m,S]=E.useState(new Date().getFullYear()),[x,_]=E.useState(null),[b,R]=E.useState(null),[P,A]=E.useState(!1),H=typeof u=="boolean"?u:P,O=ce=>{h?h(ce):A(ce)},K=b!==null?b:l;if(E.useEffect(()=>{D(!0)},[]),E.useEffect(()=>{p&&G()},[v,o]),E.useEffect(()=>{p&&(y(1),G())},[p,U,m,b,l]),E.useEffect(()=>{p&&z()},[p]),!p)return null;const Y=()=>{B(""),y(1)},F=()=>{const ce=new Date().getFullYear();B(""),S(ce),R(null),y(1)},G=async()=>{if(p){D(!0);try{const ce=await IB({currentPage:v,pageSize:BB,selectedMonth:U,selectedYear:m,showCompletedOnly:K});ce.chatHistory&&(L(ce.chatHistory),k(ce.pagination))}finally{D(!1)}}},z=async()=>{const ce=await AB();_(ce)},Z=async ce=>{RB(ce,t,e,n)},ee=async()=>{try{return n(ce=>[...ce]),!0}catch(ce){return console.error("Failed to refresh history:",ce),!1}},W=async ce=>{R(ce)},J=()=>{if(!T)return null;const ce=T.total_pages,pe=T.current_page;let Re=[];if(ce<=5)Re=Array.from({length:ce},(je,Ze)=>Ze+1);else{let je=Math.max(pe-2,1),Ze=Math.min(je+4,ce);Ze===ce&&(je=Math.max(Ze-4,1)),je===1&&(Ze=Math.min(5,ce)),Re=Array.from({length:Ze-je+1},(mt,vt)=>je+vt)}const Ie=(je,Ze,mt)=>{je.preventDefault(),!mt&&Ze()};return c.jsx(LB,{className:"history-pagination",children:c.jsxs(FB,{children:[c.jsx(Ia,{children:c.jsx(pd,{href:"#","aria-label":"Go to first page",onClick:je=>Ie(je,()=>y(1),pe===1),"aria-disabled":pe===1,className:pe===1?"pointer-events-none opacity-50":"",children:""})}),c.jsx(Ia,{children:c.jsx(VB,{href:"#",onClick:je=>Ie(je,()=>y(Ze=>Math.max(1,Ze-1)),!T.has_previous),"aria-disabled":!T.has_previous,className:T.has_previous?"":"pointer-events-none opacity-50"})}),ce>5&&Re[0]>1&&c.jsx(Ia,{children:c.jsx(CS,{})}),Re.map(je=>c.jsx(Ia,{children:c.jsx(pd,{href:"#",isActive:je===pe,onClick:Ze=>Ie(Ze,()=>y(je)),children:je})},je)),ce>5&&Re[Re.length-1]<ce&&c.jsx(Ia,{children:c.jsx(CS,{})}),c.jsx(Ia,{children:c.jsx(UB,{href:"#",onClick:je=>Ie(je,()=>y(Ze=>Math.min(ce,Ze+1)),!T.has_next),"aria-disabled":!T.has_next,className:T.has_next?"":"pointer-events-none opacity-50"})}),c.jsx(Ia,{children:c.jsx(pd,{href:"#","aria-label":"Go to last page",onClick:je=>Ie(je,()=>y(ce),pe===ce),"aria-disabled":pe===ce,className:pe===ce?"pointer-events-none opacity-50":"",children:""})})]})})},ue=()=>DB(!0,T,r,U,m,x)?c.jsx(xt,{type:"info",message:jB(U,m),showTitle:!1,transparent:!1}):null,_e=()=>c.jsxs("div",{className:"date-filter statement-filter",children:[c.jsx("label",{className:"filter-label",children:"View Monthly Statement"}),c.jsxs("div",{className:`filter-wrapper ${U&&m?"active":""}`,children:[c.jsxs("select",{value:m,onChange:ce=>{const pe=ce.target.value?parseInt(ce.target.value):m;S(pe),B(""),y(1)},className:"year-select default-select",children:[c.jsx("option",{value:"",children:"Select Year"}),PB(r,x).map(ce=>c.jsx("option",{value:ce,children:ce},ce))]}),c.jsxs("select",{value:U,onChange:ce=>{B(ce.target.value),y(1)},className:"month-select default-select",disabled:!m,children:[c.jsx("option",{value:"",children:"Select Month"}),m&&NB(r,x,m).map(ce=>c.jsx("option",{value:ce.value,children:ce.label},ce.value))]}),U&&c.jsx("button",{className:"clear-filter",onClick:Y,"aria-label":"Clear filter",children:""})]})]}),Te=()=>c.jsx(Q4,{id:"completedToggle",label:`Only show completed ${Xn.nounPlural}`,checked:K,onChange:W});return c.jsxs("div",{className:"history-panel full-history",children:[c.jsxs(t3,{className:"history-panel-header",children:[c.jsxs("div",{className:"header-controls desktop-only",children:[_e(),Te()]}),c.jsxs("div",{className:"header-actions",children:[c.jsx("button",{className:"button outline small desktop-only",onClick:F,"aria-label":"Reset filters to defaults",children:"Reset Filters"}),c.jsxs("button",{className:"button small mobile-only icon with-text",onClick:()=>O(!0),"aria-label":"Open filters drawer",children:[c.jsx(De,{name:"filter",variant:"mini",size:16}),"Filters"]})]})]}),c.jsx("div",{className:"history-panel-content",children:N&&j.length===0?c.jsx("div",{className:"loading-history",children:c.jsx(xt,{type:"loading",message:Xn.loadingHistory,showTitle:!1,transparent:!0,centered:!0})}):j.length===0?c.jsx(xt,{type:"default",message:Xn.emptyHistoryForPeriod,showTitle:!1,transparent:!0,showIcon:!1,centered:!0}):c.jsxs(c.Fragment,{children:[U!==""?c.jsx("div",{className:"section-entries",children:j.map(ce=>c.jsx(dy,{chatEntry:ce,currentChatId:t,onDelete:Z,refreshHistory:ee,returnCurrentChatId:e,creditCards:s,variant:"full-page"},ce.chatId))}):kB(j).map(ce=>c.jsxs("div",{className:"history-section",children:[c.jsx("div",{className:"section-header",children:c.jsx("p",{className:"section-title",children:ce.title})}),c.jsx("div",{className:"section-entries",children:ce.entries.map(pe=>c.jsx(dy,{chatEntry:pe,currentChatId:t,onDelete:Z,refreshHistory:ee,returnCurrentChatId:e,creditCards:s,variant:"full-page"},pe.chatId))})]},ce.title)),ue()]})}),c.jsx(Jo,{open:H,onOpenChange:O,children:c.jsxs(ci,{className:"mobile-history-filters-drawer",fitContent:!0,maxHeight:"80vh",children:[c.jsx(qi,{className:"sr-only",children:"Filters"}),c.jsxs("div",{className:"dialog-header drawer-sticky-header history-filters-header",children:[c.jsx("h2",{children:"Filters"}),c.jsx("div",{className:"header-actions",children:c.jsx("span",{className:"reset-link",onClick:F,role:"button",tabIndex:0,"aria-label":"Reset filters to defaults",children:"Reset"})})]}),c.jsxs("div",{className:"dialog-body",children:[_e(),Te()]}),c.jsx("div",{className:"dialog-footer",children:c.jsx("div",{className:"button-group",children:c.jsx("button",{className:"button",onClick:()=>O(!1),children:"Apply Filters"})})})]})}),T&&c.jsx(HB,{className:"history-panel-footer",children:J()})]})}const n3=E.createContext(null),Hm=(t=!0)=>{const e=E.useContext(n3);E.useEffect(()=>{if(e)return e.setFullHeight(t),()=>{e.setFullHeight(!1)}},[e,t])},r3=()=>c.jsxs("div",{className:"help-modal-content",children:[c.jsxs("section",{children:[c.jsx("h3",{children:"View Monthly Statement"}),c.jsx("p",{children:"Use the year and month filters to view transactions from specific time periods. This is helpful for reviewing your spending patterns or finding specific transactions."}),c.jsxs("ul",{children:[c.jsx("li",{children:"Select a year from the dropdown"}),c.jsx("li",{children:"Choose a month to filter transactions"}),c.jsx("li",{children:'Click the "" button to clear filters and return to the full view'})]})]}),c.jsxs("section",{children:[c.jsx("h3",{children:"Show Completed Only"}),c.jsx("p",{children:"Toggle this option to filter your view to show only completed transactions. This helps focus on finalized purchases and exclude pending or cancelled transactions."})]}),c.jsxs("section",{children:[c.jsx("h3",{children:"Navigation"}),c.jsxs("p",{children:["Navigate through your ",rt.TRANSACTION_HISTORY.toLowerCase()," using the pagination controls at the bottom:"]}),c.jsxs("ul",{children:[c.jsxs("li",{children:[c.jsx("strong",{children:" / "})," - Jump to first/last page"]}),c.jsxs("li",{children:[c.jsx("strong",{children:" / "})," - Go to previous/next page"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Numbers"})," - Jump to specific pages"]})]})]}),c.jsxs("section",{children:[c.jsx("h3",{children:"Details"}),c.jsx("p",{children:"Each transaction entry shows key information about your chat conversations, including timestamps, recommendations made, and any credit cards discussed. Click on entries to view full conversation details."})]}),c.jsxs("section",{children:[c.jsx("h3",{children:"Subscription Limits"}),c.jsxs("p",{children:["Free accounts can view a limited recent window. Upgrade to access your complete ",rt.TRANSACTION_HISTORY.toLowerCase()," and advanced filtering options."]})]})]});function zB({existingHistoryList:t,currentChatId:e,returnCurrentChatId:n,onHistoryUpdate:r,subscriptionPlan:s,creditCards:o,historyRefreshTrigger:l,showCompletedOnlyPreference:u,filtersDrawerOpen:h,onFiltersDrawerOpenChange:p}){Hm(!0);const[v,y]=E.useState(!1),T=()=>{if(s==="free")return`Last ${WN} Days`};return c.jsxs("div",{className:"standard-page-layout",children:[c.jsx(Xi,{title:rt.TRANSACTION_HISTORY,icon:an.TRANSACTION_HISTORY.MINI,subtitle:T(),showHelpButton:!0,onHelpClick:()=>y(!0)}),c.jsx("div",{className:"standard-page-content--no-padding",children:c.jsx($B,{currentChatId:e,returnCurrentChatId:n,onHistoryUpdate:r,subscriptionPlan:s,creditCards:o,historyRefreshTrigger:l,showCompletedOnlyPreference:u,filtersDrawerOpen:h,onFiltersDrawerOpenChange:p})}),c.jsx(As,{open:v,onOpenChange:y,children:c.jsxs(Jr,{children:[c.jsx(es,{children:c.jsxs(Rs,{children:[rt.TRANSACTION_HISTORY," Help"]})}),c.jsx(zi,{children:c.jsx(r3,{})})]})})]})}const Ld=t=>[...t].sort((e,n)=>e.isDefaultCard!==n.isDefaultCard?e.isDefaultCard?-1:1:e.selected!==n.selected?e.selected?-1:1:e.CardName.localeCompare(n.CardName)),s3=(t,e)=>t.filter(n=>n.CardName.toLowerCase().includes(e.toLowerCase())||n.CardIssuer.toLowerCase().includes(e.toLowerCase())),WB=t=>t.filter(e=>e.selected).map(e=>({cardId:e.id,isDefaultCard:e.isDefaultCard||!1})),i3=async(t,e=!0)=>{try{const n=await Vo.fetchCreditCards(e);return Ld(n)}catch(n){return console.error("Error fetching cards:",n),Ld(t)}},GB=(t,e)=>t.map(n=>{if(n.id===e){const r=!n.selected;return{...n,selected:r,...r?{}:{isDefaultCard:!1}}}return n}),qB=(t,e)=>t.map(n=>({...n,isDefaultCard:n.id===e})),KB=async t=>{try{const e=WB(t);await qr.updateUserCards(e);const n=await Vo.fetchCreditCards(!0);return{success:!0,message:"Cards saved successfully!",updatedCards:Ld(n)}}catch(e){return console.error("Error saving cards:",e),{success:!1,message:"Error saving cards. Please try again."}}},Uo=({creditCards:t,onSelectCard:e,selectedCardId:n,showOnlyUnselectedCards:r=!1,disabled:s=!1,externalSearchTerm:o,onExternalSearchTermChange:l,hideInternalSearch:u=!1,onlyShowUserCards:h=!1})=>{const[p,v]=E.useState(Ld(t||[])),[y,T]=E.useState(""),[k,N]=E.useState(p.length===0),[D,j]=E.useState(""),[L,U]=E.useState(!1);E.useEffect(()=>{(async()=>{try{const A=await i3(p),H=h?A.filter(O=>O.selected):A;v(H),N(!1),U(!1)}catch(A){console.error("Error loading cards:",A),j("Unable to load credit cards. Please try again later."),U(!0),N(!1)}})()},[t,n,h]);const B=P=>{s||e(P)},m=typeof o=="string"?o:y,S=s3(p,m),x=S.filter(P=>P.selected);let _=h?[]:S.filter(P=>!P.selected);const b=x.length>0?"Other Cards":"All Cards";n&&(_=_.sort((P,A)=>P.id===n?-1:A.id===n?1:0));const R=P=>c.jsx("div",{className:`card selectable-card ${P.id===n?"selected-card":""} ${s?"disabled":""}`,onClick:()=>B(P),children:c.jsxs("div",{className:"card-content",children:[c.jsx(Kr,{title:`${P.CardName} card`,size:32,primary:P.CardPrimaryColor,secondary:P.CardSecondaryColor}),c.jsxs("div",{className:"card-desc",children:[c.jsxs("p",{className:"card-name",children:[P.CardName,P.isDefaultCard&&c.jsx("span",{className:"default-tag",children:"Preferred Card"})]}),c.jsx("p",{className:"card-type",children:P.CardIssuer})]})]})},P.id);return c.jsxs("div",{className:`credit-card-selector single-card-selector ${s?"disabled":""}`,children:[L&&c.jsx("div",{className:"error-container",children:c.jsx(xt,{type:"error",message:D})}),!u&&!h&&c.jsx("div",{className:"search-container",children:c.jsx(th,{type:"text",placeholder:"Search cards...",value:m,onChange:P=>{l?l(P.target.value):T(P.target.value)},disabled:s})}),k&&c.jsx("div",{className:"loading",children:c.jsx(xt,{type:"loading",message:"Loading cards...",showTitle:!1,transparent:!0,centered:!0})}),c.jsxs("div",{className:"cards-container",style:{minHeight:0},children:[r?c.jsxs("div",{className:"section-cards",children:[_.map(R),_.length===0&&!k&&c.jsx("div",{className:"no-results",children:c.jsx(xt,{type:"default",message:"No cards available to add",showTitle:!1,transparent:!0,showIcon:!1,centered:!0})})]}):c.jsxs(c.Fragment,{children:[x.length>0&&c.jsxs("div",{className:"card-section",children:[!h&&c.jsx("h4",{className:"section-header",children:"My Cards"}),c.jsx("div",{className:"section-cards",children:x.map(R)})]}),!h&&_.length>0&&c.jsxs("div",{className:"card-section",children:[c.jsx("h4",{className:"section-header",children:b}),c.jsx("div",{className:"section-cards",children:_.map(R)})]})]}),S.length===0&&!k&&!r&&c.jsx("div",{className:"no-results",children:c.jsx(xt,{type:"default",message:"No cards match your search",showTitle:!1,transparent:!0,showIcon:!1,centered:!0})})]})]})},o3=({cardDetails:t,isLoading:e,onSetPreferred:n,onRemoveCard:r,noCards:s=!1,showTrackingPreferences:o=!1,onPreferencesUpdate:l})=>{const[u,h]=E.useState(null),[p,v]=E.useState(!1);E.useEffect(()=>{(async()=>{if(!(!t||!o)){v(!0);try{const N=await Pn.fetchCreditTrackingPreferences();h(N)}catch(N){console.error("Failed to fetch credit tracking preferences:",N),h({Cards:[]})}finally{v(!1)}}})()},[t==null?void 0:t.id,o]);const y=k=>{if(!u||!t)return Fu.DO_NOT_HIDE;const N=u.Cards.find(j=>j.CardId===t.id);if(!N)return Fu.DO_NOT_HIDE;const D=N.Credits.find(j=>j.CreditId===k);return(D==null?void 0:D.HidePreference)||Fu.DO_NOT_HIDE},T=async(k,N)=>{if(t)try{const D=await Pn.updateCreditHidePreference({cardId:t.id,creditId:k,hidePreference:N});h(D),l&&await l()}catch(D){console.error("Failed to update credit hide preference:",D)}};return e?c.jsx("div",{className:"card-details-loading",children:c.jsx(xt,{type:"loading",message:"Loading card details...",showTitle:!1,transparent:!0})}):t?c.jsxs("div",{className:"card-details",children:[c.jsxs("div",{className:"card-header",children:[c.jsx(Kr,{title:`${t.CardName} card`,size:36,primary:t.CardPrimaryColor,secondary:t.CardSecondaryColor,className:"card-image"}),c.jsxs("div",{className:"card-header-info",children:[c.jsx("h2",{children:t.CardName}),c.jsxs("div",{className:"header-meta",children:[c.jsxs("div",{className:"meta-item",children:[c.jsx(De,{name:"bank",variant:"micro",color:"#C9CED3",className:"meta-icon","aria-hidden":"true"}),c.jsx("span",{className:"meta-label",children:"Issuer:"}),c.jsx("span",{className:"meta-value",children:t.CardIssuer})]}),c.jsxs("div",{className:"meta-item",children:[c.jsx(De,{name:"card",variant:"micro",color:"#C9CED3",className:"meta-icon","aria-hidden":"true"}),c.jsx("span",{className:"meta-label",children:"Network:"}),c.jsx("span",{className:"meta-value",children:t.CardNetwork})]})]}),c.jsx("div",{className:"card-actions",children:c.jsxs("div",{className:"card-action-buttons",children:[n&&c.jsxs("button",{className:`preferred-button ${t.isDefaultCard?"is-preferred":""}`,onClick:n,type:"button",children:[c.jsx(De,{name:"star",variant:t.isDefaultCard?"solid":"outline",size:16,className:"preferred-icon"}),t.isDefaultCard?"Preferred Card":"Set as Preferred Card"]}),r&&c.jsx("button",{className:"button ghost destructive icon small square",onClick:r,"aria-label":"Remove Card",title:"Remove Card",type:"button",children:c.jsx(De,{name:"delete",variant:"mini",size:20,color:Py,className:"delete-icon","aria-hidden":"true"})})]})})]})]}),c.jsxs("div",{className:"card-info-section",children:[c.jsx("h3",{children:"Card Details"}),t.CardDetails&&t.CardDetails.trim()!==""&&c.jsx("p",{className:"card-description",children:t.CardDetails}),c.jsxs("div",{className:"card-basic-info",children:[c.jsxs("div",{className:"info-item",children:[c.jsx("span",{className:"label",children:"Annual Fee"}),c.jsx("span",{className:"value",children:t.AnnualFee!==null?`$${t.AnnualFee}`:"None"})]}),c.jsxs("div",{className:"info-item",children:[c.jsx("span",{className:"label",children:"Foreign Transaction Fee"}),c.jsx("span",{className:"value",children:t.ForeignExchangeFee})]}),c.jsxs("div",{className:"info-item",children:[c.jsx("span",{className:"label",children:"Rewards Currency"}),c.jsx("span",{className:"value",children:t.RewardsCurrency})]}),c.jsxs("div",{className:"info-item",children:[c.jsx("span",{className:"label",children:"Points Per Dollar"}),c.jsx("span",{className:"value",children:t.PointsPerDollar!==null?t.PointsPerDollar:"N/A"})]})]})]}),t.Multipliers&&t.Multipliers.length>0&&c.jsxs("div",{className:"card-section",children:[c.jsx("h3",{children:"Reward Multipliers"}),c.jsx("div",{className:"multipliers-table",children:Array.from((t.Multipliers||[]).reduce((k,N)=>{const D=N.Category&&N.Category.trim()!==""?N.Category:"Other";return k.has(D)||k.set(D,[]),k.get(D).push(N),k},new Map)).map(([k,N])=>{const D=N.filter(L=>!L.SubCategory||L.SubCategory.trim()===""),j=N.filter(L=>L.SubCategory&&L.SubCategory.trim()!=="");return c.jsxs("div",{className:"category-group",children:[c.jsx("div",{className:"category-title",children:k}),c.jsxs("div",{className:"table",children:[D.map((L,U)=>c.jsxs("div",{className:"table-row main-row",children:[c.jsx("div",{className:"cell subcategory",children:L.Name}),c.jsx("div",{className:"cell rate",children:L.Multiplier!==null?`${L.Multiplier}x`:""}),c.jsxs("div",{className:"cell description",children:[c.jsx("div",{className:"multiplier-desc",children:L.Description}),L.Details&&c.jsx("div",{className:"multiplier-details",children:L.Details})]})]},L.id??`main-${U}`)),j.map((L,U)=>c.jsxs("div",{className:"table-row sub-row",children:[c.jsx("div",{className:"cell subcategory",children:L.Name}),c.jsx("div",{className:"cell rate",children:L.Multiplier!==null?`${L.Multiplier}x`:""}),c.jsxs("div",{className:"cell description",children:[c.jsx("div",{className:"multiplier-desc",children:L.Description}),L.Details&&c.jsx("div",{className:"multiplier-details",children:L.Details})]})]},L.id??`sub-${U}-${L.SubCategory}`))]})]},k)})})]}),t.Credits&&t.Credits.length>0&&c.jsxs("div",{className:"card-section",children:[c.jsx("h3",{children:"Card Credits"}),c.jsx("div",{className:"credits-list",children:t.Credits.map((k,N)=>c.jsxs("div",{className:"credit-item",children:[c.jsxs("div",{className:"credit-header",children:[c.jsx("span",{className:"credit-title",children:k.Title}),c.jsx("span",{className:"credit-value",children:`$${k.Value}`})]}),c.jsx("div",{className:"credit-period",children:k.TimePeriod}),c.jsx("div",{className:"credit-description",children:k.Description}),k.Details&&c.jsx("div",{className:"credit-details",children:k.Details}),(k.Category||k.SubCategory)&&c.jsxs("div",{className:"credit-category",children:[k.Category,k.SubCategory?`  ${k.SubCategory}`:""]}),o&&c.jsxs("div",{className:"credit-tracking-preference",children:[c.jsx("label",{htmlFor:`credit-tracking-${k.id}`,className:"preference-label",children:"Do you want to track this credit?"}),c.jsxs("select",{id:`credit-tracking-${k.id}`,className:"default-select",value:y(k.id),onChange:D=>T(k.id,D.target.value),disabled:p,children:[c.jsx("option",{value:Fu.DO_NOT_HIDE,children:"Yes, track this credit"}),c.jsx("option",{value:Fu.HIDE_ALL,children:"No, do not track"})]})]})]},N))})]}),t.Perks&&t.Perks.length>0&&c.jsxs("div",{className:"card-section",children:[c.jsx("h3",{children:"Card Perks"}),c.jsx("div",{className:"perks-list",children:t.Perks.map((k,N)=>c.jsxs("div",{className:"perk-item",children:[c.jsx("div",{className:"perk-title",children:k.Title}),c.jsx("div",{className:"perk-description",children:k.Description}),k.Details&&c.jsx("div",{className:"perk-details",children:k.Details}),(k.Category||k.SubCategory)&&c.jsxs("div",{className:"perk-category",children:[k.Category,k.SubCategory?`  ${k.SubCategory}`:""]})]},N))})]})]}):c.jsx("div",{className:"no-card-details",children:s?"Add your Credit Cards to get started":"Select a card to view details"})},YB=({card:t,isSelected:e=!1,onCardSelect:n,variant:r})=>{const s=()=>{n&&n(t)},o=()=>r==="sidebar"?"sidebar-variant":r==="my-cards"?"my-cards-variant":r==="mobile-sidebar"?"mobile-sidebar-variant":"";return c.jsx("div",{className:`credit-card-preview ${e?"selected":""} ${o()}`,onClick:s,children:c.jsxs("div",{className:"card-content",children:[c.jsx(Kr,{title:`${t.CardName} card`,size:36,primary:t.CardPrimaryColor,secondary:t.CardSecondaryColor,className:"card-thumbnail"}),c.jsxs("div",{className:"card-info",children:[c.jsxs("div",{className:"card-name",children:[t.isDefaultCard&&c.jsx(De,{name:"star",variant:"mini",size:16,color:Qn,className:"preferred-star-icon"}),t.CardName]}),r!=="mobile-sidebar"&&c.jsx("div",{className:"card-network",children:t.CardNetwork})]})]})})},ZB=t=>[...t].sort((e,n)=>e.isDefaultCard!==n.isDefaultCard?e.isDefaultCard?-1:1:e.CardName.localeCompare(n.CardName)),aw=({cards:t,selectedCardId:e,onCardSelect:n,loading:r=!1,showOnlySelected:s=!1,variant:o})=>{const l=s?t.filter(h=>h.selected):t,u=ZB(l);return c.jsx("div",{className:"cards-list",children:r?c.jsx("div",{className:"loading-cards",children:c.jsx(xt,{type:"loading",message:"Loading cards...",showTitle:!1,transparent:!0})}):u.length===0?c.jsx("div",{className:"no-cards",children:c.jsx(xt,{type:"default",message:"You haven't added any cards yet.",showTitle:!1,transparent:!0,showIcon:!1,centered:!0})}):u.map(h=>c.jsx(YB,{card:h,isSelected:e===h.id,onCardSelect:n,variant:o},h.id))})},QB=({onCardsUpdate:t,onOpenCardSelector:e,reloadTrigger:n,onPreferencesUpdate:r})=>{const[s,o]=E.useState([]),[l,u]=E.useState(null),[h,p]=E.useState(null),[v,y]=E.useState(!0),[T,k]=E.useState([]),[N,D]=E.useState(null),[j,L]=E.useState(!1),[U,B]=E.useState("add"),[m,S]=E.useState(!1),[x,_]=E.useState(""),[b,R]=E.useState(()=>typeof window>"u"?!1:window.matchMedia(`(max-width: ${Zr}px)`).matches),P=!1,A=!0,[H,O]=E.useState(!1),[K,Y]=E.useState(null),[F,G]=E.useState(!1),z=E.useRef(null),[Z,ee]=E.useState(""),[W,J]=E.useState(!1),ue=E.useCallback(ke=>{t==null||t(ke)},[t]);E.useEffect(()=>{(async()=>{try{y(!0);const[ne,de]=await Promise.all([Vo.fetchCreditCards(!0),qr.fetchUserCardsDetailedInfo()]);o(ne),k(de),ue(ne);const we=ne.find(me=>me.isDefaultCard&&me.selected);if(we){const me=de.find(Pe=>Pe.id===we.id);u(we),p(me||null)}else if(ne.length>0&&ne.some(me=>me.selected)){const me=ne.find(Pe=>Pe.selected);if(me){const Pe=de.find(tt=>tt.id===me.id);u(me),p(Pe||null)}}}catch(ne){console.error("Error loading cards:",ne),ee("Unable to load your credit cards. Please try again later."),J(!0)}finally{y(!1)}})()},[n]),E.useEffect(()=>{if(typeof window>"u")return;const ke=window.matchMedia(`(max-width: ${Zr}px)`),ne=de=>{const we=("matches"in de,de.matches);R(we)};ne(ke);try{ke.addEventListener("change",ne)}catch{ke.addListener(ne)}return()=>{try{ke.removeEventListener("change",ne)}catch{ke.removeListener(ne)}}},[]);const _e=async ke=>{try{!T.find(me=>me.id===ke)&&!h&&y(!0);const de=await qr.fetchUserCardsDetailedInfo();k(de);const we=de.find(me=>me.id===ke);l&&l.id===ke&&p(we||null)}catch(ne){console.error("Error loading card details:",ne),ee("Unable to load card details. Please try again."),J(!0),l&&l.id===ke&&p(null)}finally{y(!1)}},Te=async ke=>{J(!1),u(ke);const ne=T.find(de=>de.id===ke.id);ne?p(ne):y(!0),await _e(ke.id)},ce=async ke=>{try{J(!1);const ne=!ke.isDefaultCard,we=s.map(tt=>({...tt,isDefaultCard:ne&&tt.id===ke.id})).filter(tt=>tt.selected).map(tt=>({cardId:tt.id,isDefaultCard:tt.isDefaultCard||!1}));await qr.updateUserCards(we);const me=await Vo.fetchCreditCards(!0);o(me),ue(me),l&&l.id===ke.id&&(u({...l,isDefaultCard:ne}),h&&p({...h,isDefaultCard:ne}));const Pe=await qr.fetchUserCardsDetailedInfo();if(k(Pe),l){const tt=Pe.find(Qe=>Qe.id===l.id);tt&&p(tt)}}catch(ne){console.error("Error setting preferred card:",ne),ee("Unable to set this card as preferred. Please try again."),J(!0)}},pe=async ke=>{J(!1),D(ke),S(!0)},Re=async()=>{if(N)try{const ne=s.map(me=>({...me,selected:me.id===N.id?!1:me.selected,isDefaultCard:me.id===N.id?!1:me.isDefaultCard})).filter(me=>me.selected).map(me=>({cardId:me.id,isDefaultCard:me.isDefaultCard||!1}));await qr.updateUserCards(ne);const de=await Vo.fetchCreditCards(!0);o(de),ue(de),l&&l.id===N.id&&(u(null),p(null));const we=await qr.fetchUserCardsDetailedInfo();k(we),S(!1)}catch(ke){console.error("Error removing card:",ke),ee("Unable to remove this card. Please try again."),J(!0),S(!1)}},Ie=()=>{if(e){e();return}B("add"),L(!0),b&&G(!0)},je=()=>{B("view"),L(!0)},Ze=ke=>{ke||(O(!1),Y(null),_("")),L(ke)},mt=async ke=>{if(O(!0),Y(ke),G(!1),L(!1),!s.some(de=>de.id===ke.id&&de.selected))try{const de=s.map(Qe=>({...Qe,selected:Qe.id===ke.id?!0:Qe.selected})),we=de.some(Qe=>Qe.selected&&Qe.id!==ke.id);we||(de.find(Qe=>Qe.id===ke.id).isDefaultCard=!0);const me=de.filter(Qe=>Qe.selected||Qe.id===ke.id).map(Qe=>({cardId:Qe.id,isDefaultCard:Qe.id===ke.id&&!we?!0:Qe.isDefaultCard||!1}));await qr.updateUserCards(me);const Pe=await Vo.fetchCreditCards(!0);o(Pe),ue(Pe);const tt=Pe.find(Qe=>Qe.id===ke.id);if(tt){u(tt);const Qe=await qr.fetchUserCardsDetailedInfo();k(Qe);const Wt=Qe.find(mn=>mn.id===ke.id);Wt?p(Wt):await _e(ke.id)}}catch(de){console.error("Error adding card:",de)}O(!1),Y(null)},vt=async ke=>{u(ke);const ne=T.find(de=>de.id===ke.id);ne?p(ne):(y(!0),await _e(ke.id)),L(!1)},Oe=s.filter(ke=>ke.selected).sort((ke,ne)=>ke.isDefaultCard!==ne.isDefaultCard?ke.isDefaultCard?-1:1:ke.CardName.localeCompare(ne.CardName));return c.jsxs("div",{className:"credit-card-manager",children:[c.jsxs("div",{className:"card-sidebar",children:[W&&c.jsx("div",{className:"error-container",children:c.jsx(xt,{type:"error",message:Z})}),c.jsx(aw,{cards:Oe,selectedCardId:l==null?void 0:l.id,onCardSelect:Te,loading:v,variant:"my-cards"}),c.jsx("div",{className:"sidebar-action",children:c.jsxs("button",{className:"icon with-text",onClick:Ie,children:[c.jsx(De,{name:"card",variant:"solid"}),"Add Cards"]})})]}),c.jsx("div",{className:"card-details-panel",children:c.jsx(o3,{cardDetails:h,isLoading:v,noCards:Oe.length===0,onSetPreferred:l?()=>ce(l):void 0,onRemoveCard:l?()=>pe(l):void 0,showTrackingPreferences:!0,onPreferencesUpdate:r})}),b&&c.jsx("div",{className:"mobile-sticky-footer",role:"region","aria-label":"Card actions",children:!v&&Oe.length===0?c.jsxs(c.Fragment,{children:[c.jsx("p",{className:"caps-label",children:"Add your credit cards"}),c.jsxs("button",{className:"button icon with-text add-card-button",onClick:Ie,"aria-haspopup":"dialog",children:[c.jsx(De,{name:"card",variant:"solid"}),"Add Cards"]})]}):c.jsxs(c.Fragment,{children:[c.jsx("p",{className:"caps-label",children:"View or Manage Cards"}),c.jsx("button",{className:"view-card-select",onClick:je,"aria-haspopup":"dialog",children:l?c.jsxs(c.Fragment,{children:[c.jsx(Kr,{title:`${l.CardName} card`,size:24,primary:l.CardPrimaryColor,secondary:l.CardSecondaryColor,className:"select-card-icon"}),c.jsx("span",{className:"label-text",children:l.CardName})]}):c.jsxs(c.Fragment,{children:[c.jsx(De,{name:"card",variant:"mini",color:"#C9CED3"}),c.jsx("span",{className:"label-text",children:"Select a card to view"})]})})]})}),(b?A:P)?c.jsx(Jo,{open:j,onOpenChange:Ze,direction:"bottom",children:c.jsxs(ci,{fitContent:!0,maxHeight:"80vh",children:[c.jsx(qi,{className:"sr-only",children:"My Cards"}),c.jsx("div",{className:"dialog-header drawer-sticky-header",ref:z,tabIndex:-1,children:c.jsx("h2",{children:"My Cards"})}),c.jsx("div",{className:"dialog-body",style:{overflowY:"auto"},children:c.jsx(Uo,{creditCards:s.filter(ne=>ne.selected),onSelectCard:vt,selectedCardId:l==null?void 0:l.id,showOnlyUnselectedCards:!1,disabled:!1,hideInternalSearch:!0,onlyShowUserCards:!0})}),c.jsx("div",{className:"dialog-footer",children:c.jsxs(xB,{open:F,onOpenChange:ne=>{G(ne),ne||setTimeout(()=>{var de;return(de=z.current)==null?void 0:de.focus()},0)},children:[c.jsx(TB,{asChild:!0,children:c.jsxs("button",{className:"button icon with-text add-card-button",children:[c.jsx(De,{name:"card",variant:"solid"}),"Add Card"]})}),c.jsxs(e3,{children:[c.jsx(ow,{}),c.jsxs(ci,{fitContent:!0,maxHeight:"80vh",children:[c.jsx(qi,{className:"sr-only",children:"Add Card"}),c.jsxs("div",{className:"dialog-header drawer-sticky-header",children:[c.jsx("h2",{children:"Add Card"}),c.jsx("div",{className:"search-container",style:{marginTop:6},children:c.jsx(th,{type:"text",placeholder:"Search cards...",value:x,onChange:ne=>_(ne.target.value),disabled:H})})]}),c.jsx("div",{className:"dialog-body",style:{overflowY:"auto"},children:c.jsx(Uo,{creditCards:s.filter(ne=>!ne.selected),onSelectCard:ne=>{mt(ne),G(!1)},selectedCardId:void 0,showOnlyUnselectedCards:!0,disabled:H,hideInternalSearch:!0,externalSearchTerm:x,onExternalSearchTermChange:_})}),H&&K&&c.jsx("div",{className:"dialog-footer",children:c.jsx(xt,{type:"loading",message:`Adding ${K.CardName}...`,showTitle:!1})})]})]})]})})]})}):c.jsx(As,{open:j,onOpenChange:Ze,children:c.jsxs(Jr,{children:[c.jsx(es,{children:c.jsx(Rs,{children:U==="add"?"Add Card":"My Cards"})}),c.jsx(zi,{children:U==="view"?c.jsx(Uo,{creditCards:s.filter(ne=>ne.selected),onSelectCard:vt,selectedCardId:l==null?void 0:l.id,showOnlyUnselectedCards:!1,disabled:!1,hideInternalSearch:!0,onlyShowUserCards:!0}):c.jsx(Uo,{creditCards:s.filter(ne=>!ne.selected),onSelectCard:mt,selectedCardId:void 0,showOnlyUnselectedCards:!0,disabled:H})}),U==="view"&&c.jsx(Rd,{children:c.jsxs("button",{className:"button icon with-text add-card-button",onClick:Ie,children:[c.jsx(De,{name:"card",variant:"solid"}),"Add Card"]})}),U==="add"&&H&&K&&c.jsx(Rd,{children:c.jsx(xt,{type:"loading",message:`Adding ${K.CardName}...`,showTitle:!1})})]})}),c.jsx(j1,{open:m,onOpenChange:S,children:c.jsxs(jm,{children:[c.jsxs(M1,{children:[c.jsx(L1,{children:"Remove Credit Card"}),c.jsxs(F1,{children:["Are you sure you want to remove ",c.jsx("strong",{children:N==null?void 0:N.CardName})," from your cards? You can add it back later if needed."]})]}),c.jsx(O1,{children:c.jsxs("div",{className:"button-group",children:[c.jsx(V1,{destructive:!0,onClick:Re,children:"Remove"}),c.jsx(U1,{children:"Cancel"})]})})]})})]})},a3=()=>c.jsxs("div",{className:"help-modal-content",children:[c.jsxs("section",{children:[c.jsx("h3",{children:"Adding Credit Cards"}),c.jsx("p",{children:"Add your credit cards to get personalized recommendations based on your existing cards' benefits and reward structures. Your card information helps the AI suggest optimal spending strategies and identify opportunities for better rewards."})]}),c.jsxs("section",{children:[c.jsx("h3",{children:"Card Information"}),c.jsx("p",{children:"For each card, you can provide:"}),c.jsxs("ul",{children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Card Name:"})," A custom name to identify your card"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Bank/Issuer:"})," The financial institution that issued the card"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Card Type:"})," Visa, Mastercard, American Express, etc."]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Reward Categories:"})," Special bonus categories for this card"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Annual Fee:"})," Any yearly costs associated with the card"]})]})]}),c.jsxs("section",{children:[c.jsx("h3",{children:"Managing Your Cards"}),c.jsx("p",{children:"Use the card management interface to:"}),c.jsxs("ul",{children:[c.jsx("li",{children:"Edit existing card details"}),c.jsx("li",{children:"Remove cards you no longer use"}),c.jsx("li",{children:"Set primary cards for different spending categories"}),c.jsx("li",{children:"Update reward program information"})]})]}),c.jsxs("section",{children:[c.jsx("h3",{children:"Privacy & Security"}),c.jsx("p",{children:"Your card information is used only to provide personalized recommendations. We don't store sensitive information like card numbers or security codes. Only the details you provide about rewards and benefits are saved."})]}),c.jsxs("section",{children:[c.jsx("h3",{children:"Recommendations"}),c.jsx("p",{children:"Once you've added your cards, the AI will use this information to:"}),c.jsxs("ul",{children:[c.jsx("li",{children:"Suggest which card to use for specific purchases"}),c.jsx("li",{children:"Identify gaps in your rewards portfolio"}),c.jsx("li",{children:"Recommend new cards that complement your existing setup"}),c.jsx("li",{children:"Calculate potential rewards for different spending scenarios"})]})]})]}),XB=({onCardsUpdate:t,onOpenCardSelector:e,reloadTrigger:n,onPreferencesUpdate:r})=>{Hm(!0);const[s,o]=E.useState(!1),l=E.useCallback(u=>{t==null||t(u)},[t]);return c.jsxs("div",{className:"standard-page-layout",children:[c.jsx(Xi,{title:rt.MY_CARDS,icon:an.MY_CARDS.MINI,showHelpButton:!0,onHelpClick:()=>o(!0)}),c.jsx("div",{className:"standard-page-content--no-padding",children:c.jsx("div",{className:"credit-card-manager-container",children:c.jsx(QB,{onCardsUpdate:l,onOpenCardSelector:e,reloadTrigger:n,onPreferencesUpdate:r})})}),c.jsx(As,{open:s,onOpenChange:o,children:c.jsxs(Jr,{children:[c.jsx(es,{children:c.jsx(Rs,{children:"My Cards Help"})}),c.jsx(zi,{children:c.jsx(a3,{})})]})})]})},l3=()=>c.jsx("div",{className:"help-modal-content",children:c.jsxs("section",{children:[c.jsx("h3",{children:"My Credits"}),c.jsx("p",{children:"Help details coming soon."})]})}),JB=()=>c.jsxs("div",{className:"standard-page-layout",children:[c.jsx(Xi,{title:rt.MY_CREDITS,icon:an.MY_CREDITS.MINI}),c.jsx("div",{className:"standard-page-content--padded",style:{paddingTop:12},children:c.jsx(Ht,{to:`${fe.MY_CREDITS.PATH}/history`,className:"button icon with-text",children:"See Credits History"})})]});function c3(t){return(typeof t=="number"&&isFinite(t)&&t>0?Math.floor(t):void 0)??100}function IS(t,e){return isFinite(t)?Math.max(0,Math.min(e,Math.round(t))):0}function u3(t,e){switch(t){case Ne.USED:return e;case Ne.PARTIALLY_USED:return Math.ceil(e/2);case Ne.NOT_USED:case Ne.INACTIVE:return 0;default:return 0}}function AS(t,e){return t<=0?Ne.NOT_USED:t>=e?Ne.USED:Ne.PARTIALLY_USED}const RS=({userCredit:t,now:e,card:n,cardCredit:r,creditMaxValue:s,onUpdateHistoryEntry:o,hideControls:l=!1,selectedPeriodNumber:u,onPeriodSelect:h})=>{const p=E.useMemo(()=>{const B=Object.keys(At).find(_=>At[_]===t.AssociatedPeriod);if(!B)return 1;const m=Ay[B]??1;if(m<=1)return 1;const S=e.getMonth(),x=12/m;return Math.min(Math.max(Math.floor(S/x)+1,1),m)},[e,t.AssociatedPeriod]),[v,y]=E.useState(p),T=u??v;E.useEffect(()=>{u===void 0&&y(p)},[p,u]);const k=T,N=E.useMemo(()=>t.History.find(B=>B.PeriodNumber===k)??t.History[0],[t,k]),[D,j]=E.useState((N==null?void 0:N.ValueUsed)??0),[L,U]=E.useState((N==null?void 0:N.CreditUsage)??Ne.INACTIVE);return E.useEffect(()=>{N&&(U(N.CreditUsage??Ne.INACTIVE),j(N.ValueUsed??0))},[N]),c.jsxs("div",{className:"credit-detail-content",children:[(r==null?void 0:r.Description)&&c.jsxs("div",{className:"credit-detail-item",children:[c.jsx("span",{className:"credit-detail-label",children:"Description"}),c.jsx("div",{className:"credit-detail-value",children:r.Description})]}),(r==null?void 0:r.Details)&&c.jsxs("div",{className:"credit-detail-item",children:[c.jsx("span",{className:"credit-detail-label",children:"Details"}),c.jsx("div",{className:"credit-detail-value",children:r.Details})]}),((r==null?void 0:r.TimePeriod)||(r==null?void 0:r.Category)||(r==null?void 0:r.SubCategory))&&c.jsxs("div",{className:"credit-details-section",children:[c.jsx("div",{className:"credit-detail-group",children:(r==null?void 0:r.TimePeriod)&&c.jsxs("div",{className:"credit-detail-item",children:[c.jsx("span",{className:"credit-detail-label",children:"Time Period"}),c.jsx("div",{className:"credit-detail-value",children:r.TimePeriod})]})}),c.jsx("div",{className:"credit-detail-group",children:((r==null?void 0:r.Category)||(r==null?void 0:r.SubCategory))&&c.jsxs("div",{className:"credit-detail-item",children:[c.jsx("span",{className:"credit-detail-label",children:"Category"}),c.jsxs("div",{className:"credit-detail-value",children:[r.Category,r.SubCategory?`  ${r.SubCategory}`:""]})]})})]}),c.jsx("div",{className:"usage-stats-section",children:c.jsxs("div",{className:"credit-detail-item",children:[c.jsx("span",{className:"credit-detail-label",children:"Usage This Year"}),c.jsxs("div",{className:"credit-detail-value",children:["$",t.History.reduce((B,m)=>B+(m.ValueUsed||0),0)," / $",(Number(r==null?void 0:r.Value)||0)*t.History.length," used"]})]})})]})};function d3(t,[e,n]){return Math.min(n,Math.max(e,t))}function e$(t){const e=E.useRef({value:t,previous:t});return E.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var h3=["PageUp","PageDown"],f3=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],p3={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Xc="Slider",[py,t$,n$]=H1(Xc),[m3,Iz]=ta(Xc,[n$]),[r$,Bm]=m3(Xc),g3=E.forwardRef((t,e)=>{const{name:n,min:r=0,max:s=100,step:o=1,orientation:l="horizontal",disabled:u=!1,minStepsBetweenThumbs:h=0,defaultValue:p=[r],value:v,onValueChange:y=()=>{},onValueCommit:T=()=>{},inverted:k=!1,form:N,...D}=t,j=E.useRef(new Set),L=E.useRef(0),B=l==="horizontal"?s$:i$,[m=[],S]=Pm({prop:v,defaultProp:p,onChange:A=>{var O;(O=[...j.current][L.current])==null||O.focus(),y(A)}}),x=E.useRef(m);function _(A){const H=u$(m,A);P(A,H)}function b(A){P(A,L.current)}function R(){const A=x.current[L.current];m[L.current]!==A&&T(m)}function P(A,H,{commit:O}={commit:!1}){const K=p$(o),Y=m$(Math.round((A-r)/o)*o+r,K),F=d3(Y,[r,s]);S((G=[])=>{const z=l$(G,F,H);if(f$(z,h*o)){L.current=z.indexOf(F);const Z=String(z)!==String(G);return Z&&O&&T(z),Z?z:G}else return G})}return c.jsx(r$,{scope:t.__scopeSlider,name:n,disabled:u,min:r,max:s,valueIndexToChangeRef:L,thumbs:j.current,values:m,orientation:l,form:N,children:c.jsx(py.Provider,{scope:t.__scopeSlider,children:c.jsx(py.Slot,{scope:t.__scopeSlider,children:c.jsx(B,{"aria-disabled":u,"data-disabled":u?"":void 0,...D,ref:e,onPointerDown:ot(D.onPointerDown,()=>{u||(x.current=m)}),min:r,max:s,inverted:k,onSlideStart:u?void 0:_,onSlideMove:u?void 0:b,onSlideEnd:u?void 0:R,onHomeKeyDown:()=>!u&&P(r,0,{commit:!0}),onEndKeyDown:()=>!u&&P(s,m.length-1,{commit:!0}),onStepKeyDown:({event:A,direction:H})=>{if(!u){const Y=h3.includes(A.key)||A.shiftKey&&f3.includes(A.key)?10:1,F=L.current,G=m[F],z=o*Y*H;P(G+z,F,{commit:!0})}}})})})})});g3.displayName=Xc;var[v3,y3]=m3(Xc,{startEdge:"left",endEdge:"right",size:"width",direction:1}),s$=E.forwardRef((t,e)=>{const{min:n,max:r,dir:s,inverted:o,onSlideStart:l,onSlideMove:u,onSlideEnd:h,onStepKeyDown:p,...v}=t,[y,T]=E.useState(null),k=$t(e,B=>T(B)),N=E.useRef(void 0),D=B1(s),j=D==="ltr",L=j&&!o||!j&&o;function U(B){const m=N.current||y.getBoundingClientRect(),S=[0,m.width],_=lw(S,L?[n,r]:[r,n]);return N.current=m,_(B-m.left)}return c.jsx(v3,{scope:t.__scopeSlider,startEdge:L?"left":"right",endEdge:L?"right":"left",direction:L?1:-1,size:"width",children:c.jsx(w3,{dir:D,"data-orientation":"horizontal",...v,ref:k,style:{...v.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:B=>{const m=U(B.clientX);l==null||l(m)},onSlideMove:B=>{const m=U(B.clientX);u==null||u(m)},onSlideEnd:()=>{N.current=void 0,h==null||h()},onStepKeyDown:B=>{const S=p3[L?"from-left":"from-right"].includes(B.key);p==null||p({event:B,direction:S?-1:1})}})})}),i$=E.forwardRef((t,e)=>{const{min:n,max:r,inverted:s,onSlideStart:o,onSlideMove:l,onSlideEnd:u,onStepKeyDown:h,...p}=t,v=E.useRef(null),y=$t(e,v),T=E.useRef(void 0),k=!s;function N(D){const j=T.current||v.current.getBoundingClientRect(),L=[0,j.height],B=lw(L,k?[r,n]:[n,r]);return T.current=j,B(D-j.top)}return c.jsx(v3,{scope:t.__scopeSlider,startEdge:k?"bottom":"top",endEdge:k?"top":"bottom",size:"height",direction:k?1:-1,children:c.jsx(w3,{"data-orientation":"vertical",...p,ref:y,style:{...p.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:D=>{const j=N(D.clientY);o==null||o(j)},onSlideMove:D=>{const j=N(D.clientY);l==null||l(j)},onSlideEnd:()=>{T.current=void 0,u==null||u()},onStepKeyDown:D=>{const L=p3[k?"from-bottom":"from-top"].includes(D.key);h==null||h({event:D,direction:L?-1:1})}})})}),w3=E.forwardRef((t,e)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:s,onSlideEnd:o,onHomeKeyDown:l,onEndKeyDown:u,onStepKeyDown:h,...p}=t,v=Bm(Xc,n);return c.jsx(zt.span,{...p,ref:e,onKeyDown:ot(t.onKeyDown,y=>{y.key==="Home"?(l(y),y.preventDefault()):y.key==="End"?(u(y),y.preventDefault()):h3.concat(f3).includes(y.key)&&(h(y),y.preventDefault())}),onPointerDown:ot(t.onPointerDown,y=>{const T=y.target;T.setPointerCapture(y.pointerId),y.preventDefault(),v.thumbs.has(T)?T.focus():r(y)}),onPointerMove:ot(t.onPointerMove,y=>{y.target.hasPointerCapture(y.pointerId)&&s(y)}),onPointerUp:ot(t.onPointerUp,y=>{const T=y.target;T.hasPointerCapture(y.pointerId)&&(T.releasePointerCapture(y.pointerId),o(y))})})}),_3="SliderTrack",E3=E.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,s=Bm(_3,n);return c.jsx(zt.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...r,ref:e})});E3.displayName=_3;var my="SliderRange",S3=E.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,s=Bm(my,n),o=y3(my,n),l=E.useRef(null),u=$t(e,l),h=s.values.length,p=s.values.map(T=>b3(T,s.min,s.max)),v=h>1?Math.min(...p):0,y=100-Math.max(...p);return c.jsx(zt.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...r,ref:u,style:{...t.style,[o.startEdge]:v+"%",[o.endEdge]:y+"%"}})});S3.displayName=my;var gy="SliderThumb",x3=E.forwardRef((t,e)=>{const n=t$(t.__scopeSlider),[r,s]=E.useState(null),o=$t(e,u=>s(u)),l=E.useMemo(()=>r?n().findIndex(u=>u.ref.current===r):-1,[n,r]);return c.jsx(o$,{...t,ref:o,index:l})}),o$=E.forwardRef((t,e)=>{const{__scopeSlider:n,index:r,name:s,...o}=t,l=Bm(gy,n),u=y3(gy,n),[h,p]=E.useState(null),v=$t(e,U=>p(U)),y=h?l.form||!!h.closest("form"):!0,T=KI(h),k=l.values[r],N=k===void 0?0:b3(k,l.min,l.max),D=c$(r,l.values.length),j=T==null?void 0:T[u.size],L=j?d$(j,N,u.direction):0;return E.useEffect(()=>{if(h)return l.thumbs.add(h),()=>{l.thumbs.delete(h)}},[h,l.thumbs]),c.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[u.startEdge]:`calc(${N}% + ${L}px)`},children:[c.jsx(py.ItemSlot,{scope:t.__scopeSlider,children:c.jsx(zt.span,{role:"slider","aria-label":t["aria-label"]||D,"aria-valuemin":l.min,"aria-valuenow":k,"aria-valuemax":l.max,"aria-orientation":l.orientation,"data-orientation":l.orientation,"data-disabled":l.disabled?"":void 0,tabIndex:l.disabled?void 0:0,...o,ref:v,style:k===void 0?{display:"none"}:t.style,onFocus:ot(t.onFocus,()=>{l.valueIndexToChangeRef.current=r})})}),y&&c.jsx(T3,{name:s??(l.name?l.name+(l.values.length>1?"[]":""):void 0),form:l.form,value:k},r)]})});x3.displayName=gy;var a$="RadioBubbleInput",T3=E.forwardRef(({__scopeSlider:t,value:e,...n},r)=>{const s=E.useRef(null),o=$t(s,r),l=e$(e);return E.useEffect(()=>{const u=s.current;if(!u)return;const h=window.HTMLInputElement.prototype,v=Object.getOwnPropertyDescriptor(h,"value").set;if(l!==e&&v){const y=new Event("input",{bubbles:!0});v.call(u,e),u.dispatchEvent(y)}},[l,e]),c.jsx(zt.input,{style:{display:"none"},...n,ref:o,defaultValue:e})});T3.displayName=a$;function l$(t=[],e,n){const r=[...t];return r[n]=e,r.sort((s,o)=>s-o)}function b3(t,e,n){const o=100/(n-e)*(t-e);return d3(o,[0,100])}function c$(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function u$(t,e){if(t.length===1)return 0;const n=t.map(s=>Math.abs(s-e)),r=Math.min(...n);return n.indexOf(r)}function d$(t,e,n){const r=t/2,o=lw([0,50],[0,r]);return(r-o(e)*n)*n}function h$(t){return t.slice(0,-1).map((e,n)=>t[n+1]-e)}function f$(t,e){if(e>0){const n=h$(t);return Math.min(...n)>=e}return!0}function lw(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function p$(t){return(String(t).split(".")[1]||"").length}function m$(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}var g$=g3,v$=E3,y$=S3,w$=x3;function _$({className:t,defaultValue:e,value:n,min:r=0,max:s=100,...o}){const l=E.useMemo(()=>Array.isArray(n)?n:Array.isArray(e)?e:[r,s],[n,e,r,s]);return c.jsxs(g$,{"data-slot":"slider",defaultValue:e,value:n,min:r,max:s,className:It("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",t),...o,children:[c.jsx(v$,{"data-slot":"slider-track",className:It("bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-1.5 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"),children:c.jsx(y$,{"data-slot":"slider-range",className:It("absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full"),style:{backgroundColor:"var(--slider-range-color, hsl(var(--primary)))"}})}),Array.from({length:l.length},(u,h)=>c.jsx(w$,{"data-slot":"slider-thumb",className:"border-primary bg-background ring-ring/50 block size-4 shrink-0 rounded-full border shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},h))]})}const E$={[Ne.USED]:"used-icon",[Ne.PARTIALLY_USED]:"partially-used-icon",[Ne.NOT_USED]:"not-used-icon",[Ne.INACTIVE]:"inactive"},PS={[Ne.USED]:Hn.USED,[Ne.PARTIALLY_USED]:Hn.PARTIALLY_USED,[Ne.NOT_USED]:Hn.NOT_USED,[Ne.INACTIVE]:Hn.INACTIVE},C3=({usage:t,usageColor:e,onUsageSelect:n,trigger:r,align:s="end"})=>c.jsxs(jd,{children:[c.jsx(Md,{asChild:!0,children:r}),c.jsx(Od,{align:s,className:"usage-dropdown-content",sideOffset:4,alignOffset:0,children:Object.entries(kn).map(([o,l])=>{const u=Ne[o],h=t===u;return c.jsxs(ws,{onClick:p=>{p.stopPropagation(),n(u)},className:`usage-dropdown-item ${h?"selected":""}`,children:[c.jsx(De,{name:E$[u],variant:"micro",size:14,className:"usage-dropdown-icon",style:{color:PS[u]}}),c.jsx("span",{className:"usage-dropdown-text",style:{color:PS[u]},children:l})]},o)})})]}),NS=({userCredit:t,cardCredit:e,creditMaxValue:n,now:r,onUpdateHistoryEntry:s,selectedPeriodNumber:o,onPeriodSelect:l})=>{const u=(()=>{const F=r.getMonth()+1;return t.AssociatedPeriod===At.Monthly?F:t.AssociatedPeriod===At.Quarterly?Math.ceil(F/3):t.AssociatedPeriod===At.Semiannually?Math.ceil(F/6):(t.AssociatedPeriod===At.Annually,1)})(),[h,p]=E.useState(u),v=o??h,y=E.useMemo(()=>t.History.find(F=>F.PeriodNumber===v)||t.History[0],[t.History,v]),[T,k]=E.useState(Ne.INACTIVE),[N,D]=E.useState(0);E.useEffect(()=>{y&&(k(y.CreditUsage),D(y.ValueUsed??0))},[y,t.CardId,t.CreditId,v]);const j=c3(n),L=T===Ne.INACTIVE,[U,B]=E.useState(!1);E.useEffect(()=>{const F=()=>{B(window.innerWidth<=Zr)};return F(),window.addEventListener("resize",F),()=>window.removeEventListener("resize",F)},[]);const S={[Ne.USED]:Hn.USED,[Ne.PARTIALLY_USED]:Hn.PARTIALLY_USED,[Ne.NOT_USED]:Hn.NOT_USED,[Ne.INACTIVE]:Hn.INACTIVE}[T],x={[Ne.USED]:"used-icon",[Ne.PARTIALLY_USED]:"partially-used-icon",[Ne.NOT_USED]:"not-used-icon",[Ne.INACTIVE]:"inactive"},_=F=>{const G=F.replace("#",""),z=G.length===3?G.split("").map(J=>J+J).join(""):G,Z=parseInt(z.substring(0,2),16),ee=parseInt(z.substring(2,4),16),W=parseInt(z.substring(4,6),16);return{r:Z,g:ee,b:W}},b=(F,G)=>{const{r:z,g:Z,b:ee}=_(F),W=Te=>Math.round(Te+(255-Te)*G),J=W(z),ue=W(Z),_e=W(ee);return`#${J.toString(16).padStart(2,"0")}${ue.toString(16).padStart(2,"0")}${_e.toString(16).padStart(2,"0")}`};b(S,.95);const R=b(S,.85),P=b(S,.9),A=async(F,G)=>{if(s)try{s({cardId:t.CardId,creditId:t.CreditId,periodNumber:v,creditUsage:F,valueUsed:G})}catch(z){console.error("Failed to update credit history entry",z)}},H=async F=>{k(F);try{if(F===Ne.INACTIVE){await A(F,N);return}if(F===Ne.NOT_USED){D(0),await A(F,0);return}if(F===Ne.PARTIALLY_USED){const G=u3(Ne.PARTIALLY_USED,j);D(G),await A(F,G);return}if(F===Ne.USED){const G=j;D(G),await A(F,G);return}}catch(G){console.error("Failed to update credit via usage select:",G)}},O=F=>{if(L)return;const G=IS(F[0]??0,j);D(G);const z=AS(G,j);k(z)},K=async F=>{if(L)return;const G=IS(F[0]??0,j),z=N,Z=T;if(Math.abs(z-G)>.01){const ee=AS(G,j);D(G),k(ee);try{await A(ee,G)}catch(W){console.error("Failed to update credit via slider:",W)}}else try{await A(Z,z)}catch(ee){console.error("Failed to update credit via slider:",ee)}},Y=()=>{const F=r.getFullYear();if(t.AssociatedPeriod===At.Monthly)return["January","February","March","April","May","June","July","August","September","October","November","December"][v-1]||`Month ${v}`;if(t.AssociatedPeriod===At.Quarterly){const z=(v-1)*3,Z=z+3-1;return`Q${v} (${Ni[z]}-${Ni[Z]})`}else{if(t.AssociatedPeriod===At.Semiannually)return v===1?`H1 (${Ni[0]}-${Ni[5]})`:`H2 (${Ni[6]}-${Ni[11]})`;if(t.AssociatedPeriod===At.Annually)return`${F} (${Ni[0]}-${Ni[11]})`}return"Unknown Period"};return c.jsxs("div",{className:"credit-modal-controls",style:{"--usage-tint-hover":R},children:[c.jsxs("div",{className:"credit-period-row",children:[c.jsx("div",{className:"period-name",children:Y()}),c.jsx("div",{className:"amount-display",children:c.jsxs("span",{className:"amount-text",children:["$",N," / $",j]})})]}),c.jsx("div",{className:"credit-modal-slider",children:c.jsx(_$,{min:0,max:j,value:[N],onValueChange:O,onValueCommit:K,disabled:L,className:"w-full",style:{"--slider-range-color":S,width:"100%"}})}),c.jsx("div",{className:"credit-modal-bottom-row",children:c.jsx(C3,{usage:T,usageColor:S,onUsageSelect:H,align:"start",trigger:c.jsxs("button",{className:"button outline small",style:{color:S,borderColor:S,backgroundColor:P,display:"flex",alignItems:"center",gap:"8px","--button-hover-bg":R,...U&&{width:"100%",minHeight:"48px",fontSize:"16px",padding:"12px 16px",justifyContent:"space-between"}},children:[c.jsx(De,{name:x[T],variant:"micro",size:14}),kn[T.toUpperCase()],c.jsx(De,{name:"chevron-down",variant:"micro",size:12})]})})})]})},kS=({userCredit:t,currentYear:e,currentUsage:n,currentValueUsed:r,selectedPeriodNumber:s,onPeriodSelect:o})=>{const l=E.useRef(null),u=E.useRef(new Map),h=E.useMemo(()=>{const N=new Date,D=N.getMonth()+1,j=e===N.getFullYear(),L=Object.keys(At).find(S=>At[S]===t.AssociatedPeriod);if(!L)return[];const U=Ay[L]??1,B=[],m=vx.map(S=>S.label);for(let S=1;S<=U;S++){const x=t.History.find(H=>H.PeriodNumber===S),_=s===S,b=_&&n!==void 0?n:(x==null?void 0:x.CreditUsage)??Ne.INACTIVE,R=_&&r!==void 0?r:(x==null?void 0:x.ValueUsed)??0;let P=!1;if(j)if(t.AssociatedPeriod===At.Monthly)P=S>D;else if(t.AssociatedPeriod===At.Quarterly){const H=Math.ceil(D/3);P=S>H}else if(t.AssociatedPeriod===At.Semiannually){const H=Math.ceil(D/6);P=S>H}else t.AssociatedPeriod===At.Annually&&(P=!1);else e>N.getFullYear()&&(P=!0);let A="";t.AssociatedPeriod===At.Monthly?A=m[S-1]||`${S}`:t.AssociatedPeriod===At.Quarterly?A=`Q${S}`:t.AssociatedPeriod===At.Semiannually?A=`H${S}`:t.AssociatedPeriod===At.Annually&&(A=`${N.getFullYear()}`),B.push({periodNumber:S,name:A.toUpperCase(),usage:b,valueUsed:R,isFuture:P,isActive:!P&&b!==Ne.INACTIVE})}return B},[t,e,n,r,s]);E.useEffect(()=>{if(s&&l.current){const N=u.current.get(s);if(N&&l.current){const D=l.current,j=N,L=D.getBoundingClientRect(),U=j.getBoundingClientRect(),B=U.left+U.width/2,m=L.left+L.width/2,S=B-m;D.scrollBy({left:S,behavior:"smooth"})}}},[s]);const p=N=>{switch(N){case Ne.USED:return"used-icon";case Ne.PARTIALLY_USED:return"partially-used-icon";case Ne.NOT_USED:return"not-used-icon";case Ne.INACTIVE:default:return"inactive"}},v=(N,D)=>{if(D)return Hn.INACTIVE;switch(N){case Ne.USED:return Hn.USED;case Ne.PARTIALLY_USED:return Hn.PARTIALLY_USED;case Ne.NOT_USED:return Hn.NOT_USED;case Ne.INACTIVE:default:return Hn.INACTIVE}},y=N=>{const D=N.replace("#",""),j=D.length===3?D.split("").map(m=>m+m).join(""):D,L=parseInt(j.substring(0,2),16),U=parseInt(j.substring(2,4),16),B=parseInt(j.substring(4,6),16);return{r:L,g:U,b:B}},T=(N,D)=>{const{r:j,g:L,b:U}=y(N),B=_=>Math.round(_+(255-_)*D),m=B(j),S=B(L),x=B(U);return`#${m.toString(16).padStart(2,"0")}${S.toString(16).padStart(2,"0")}${x.toString(16).padStart(2,"0")}`},k=N=>{switch(N){case Ne.USED:return"Used";case Ne.PARTIALLY_USED:return"Partial";case Ne.NOT_USED:return"Not Used";case Ne.INACTIVE:default:return"Untracked"}};return c.jsx("div",{className:"credit-usage-tracker",children:c.jsx("div",{ref:l,className:`tracker-periods ${t.AssociatedPeriod}`,children:h.map(N=>{const D=v(N.usage,N.isFuture),j=T(D,.95),L=s===N.periodNumber;return c.jsx("div",{ref:U=>{U?u.current.set(N.periodNumber,U):u.current.delete(N.periodNumber)},className:`tracker-period ${N.isFuture?"future":""} ${o?"clickable":""} ${L?"selected":""}`,style:{backgroundColor:j,color:D,borderColor:D},title:`${N.name}: ${N.isFuture?"Future period":k(N.usage)}${!N.isFuture&&N.valueUsed>0?` ($${N.valueUsed})`:""}${o?" (Click to edit)":""}${L?" [EDITING]":""}`,onClick:()=>{o&&!N.isFuture&&o(N.periodNumber)},children:c.jsxs("div",{className:"period-content",children:[c.jsx("span",{className:"period-name",children:N.name}),c.jsx(De,{name:p(N.usage),variant:"micro",size:12})]})},N.periodNumber)})})})},S$=()=>{const[t,e]=E.useState(!1);return E.useEffect(()=>{const n=()=>{e(window.innerWidth<=Zr)};return n(),window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[]),t},x$=({userCredit:t,now:e,card:n,cardCredit:r,creditMaxValue:s,hideSlider:o=!0,disableDropdown:l=!1,onUpdateHistoryEntry:u})=>{const h=S$(),[p,v]=E.useState(!1),[y,T]=E.useState(null),[k,N]=E.useState(Ne.INACTIVE),[D,j]=E.useState(0),L={[Ne.USED]:"used-icon",[Ne.PARTIALLY_USED]:"partially-used-icon",[Ne.NOT_USED]:"not-used-icon",[Ne.INACTIVE]:"inactive"},U=E.useMemo(()=>{const Y=Object.keys(At).find(Z=>At[Z]===t.AssociatedPeriod);if(!Y)return 1;const F=Ay[Y]??1;if(F<=1)return 1;const G=e.getMonth(),z=12/F;return Math.min(Math.max(Math.floor(G/z)+1,1),F)},[e,t.AssociatedPeriod]),[B,m]=E.useState(U);E.useEffect(()=>{m(U)},[U]),E.useEffect(()=>{if(p)m(U);else{const Y=setTimeout(()=>{T(null)},300);return()=>clearTimeout(Y)}},[p,U]),E.useEffect(()=>{p&&!y&&T(t)},[p,t,y]);const S=E.useMemo(()=>t.History.find(Y=>Y.PeriodNumber===U)??t.History[0],[t,U]);E.useEffect(()=>{S&&(N(S.CreditUsage??Ne.INACTIVE),j(S.ValueUsed??0))},[S,t.CardId,t.CreditId]);const x=D,_=k,b=c3(s),P={[Ne.USED]:Hn.USED,[Ne.PARTIALLY_USED]:Hn.PARTIALLY_USED,[Ne.NOT_USED]:Hn.NOT_USED,[Ne.INACTIVE]:Hn.INACTIVE}[_],A=Y=>{const F=Y.replace("#",""),G=F.length===3?F.split("").map(W=>W+W).join(""):F,z=parseInt(G.substring(0,2),16),Z=parseInt(G.substring(2,4),16),ee=parseInt(G.substring(4,6),16);return{r:z,g:Z,b:ee}},H=(Y,F)=>{const{r:G,g:z,b:Z}=A(Y),ee=_e=>Math.round(_e+(255-_e)*F),W=ee(G),J=ee(z),ue=ee(Z);return`#${W.toString(16).padStart(2,"0")}${J.toString(16).padStart(2,"0")}${ue.toString(16).padStart(2,"0")}`};H(P,.9),H(P,.85);const O=async Y=>{y&&y.CardId===Y.cardId&&y.CreditId===Y.creditId&&T(F=>{if(!F)return F;const G={...F};return G.History=G.History.map(z=>z.PeriodNumber===Y.periodNumber?{...z,CreditUsage:Y.creditUsage,ValueUsed:Y.valueUsed}:z),G}),u&&await u(Y)},K=async Y=>{N(Y);let F=D;Y===Ne.USED?(F=b,j(F)):Y===Ne.PARTIALLY_USED?(F=u3(Y,b),j(F)):(Y===Ne.NOT_USED||Y===Ne.INACTIVE)&&(F=0,j(F)),u&&await u({cardId:t.CardId,creditId:t.CreditId,periodNumber:U,creditUsage:Y,valueUsed:F})};return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"credit-entry-row","data-period":t.AssociatedPeriod,onClick:()=>v(!0),style:{cursor:"pointer"},children:[c.jsxs("div",{className:"credit-info",children:[c.jsx("div",{className:"credit-name",children:(r==null?void 0:r.Title)??t.CreditId}),n&&c.jsxs("div",{className:"card-info",children:[c.jsx(Kr,{title:n.CardName,size:12,primary:n.CardPrimaryColor,secondary:n.CardSecondaryColor,className:"card-thumbnail"}),c.jsx("span",{className:"card-name",children:n.CardName})]})]}),c.jsx("div",{className:"credit-controls",children:c.jsx("div",{className:"credit-usage",children:l?c.jsxs("div",{className:"credit-usage-button static",style:{color:P},children:[c.jsxs("div",{className:"credit-amount-large",children:["$",x," / $",b]}),c.jsxs("div",{className:"credit-usage-label",children:[c.jsx(De,{name:L[_],variant:"micro",size:12}),c.jsxs("span",{children:[_===Ne.USED&&kn.USED,_===Ne.PARTIALLY_USED&&kn.PARTIALLY_USED,_===Ne.NOT_USED&&kn.NOT_USED,_===Ne.INACTIVE&&kn.INACTIVE]})]})]}):c.jsx(C3,{usage:_,usageColor:P,onUsageSelect:K,trigger:c.jsxs("button",{className:"credit-usage-button",style:{color:P},onClick:Y=>Y.stopPropagation(),children:[c.jsxs("div",{className:"credit-amount-large",children:["$",x," / $",b]}),c.jsxs("div",{className:"credit-usage-label",children:[c.jsx(De,{name:L[_],variant:"micro",size:12}),c.jsxs("span",{children:[_===Ne.USED&&kn.USED,_===Ne.PARTIALLY_USED&&kn.PARTIALLY_USED,_===Ne.NOT_USED&&kn.NOT_USED,_===Ne.INACTIVE&&kn.INACTIVE]}),c.jsx(De,{name:"chevron-down",variant:"micro",size:12})]})]})})})})]}),h?c.jsx(Jo,{open:p,onOpenChange:v,children:c.jsxs(ci,{fitContent:!0,maxHeight:"80vh",className:"mobile-credit-details-drawer",children:[c.jsx(qi,{className:"sr-only",children:y?(r==null?void 0:r.Title)??y.CreditId:"Credit Details"}),c.jsxs("div",{className:"dialog-header drawer-sticky-header",children:[c.jsx("h2",{children:y?(r==null?void 0:r.Title)??y.CreditId:"Credit Details"}),y&&n&&c.jsxs("p",{className:"card-bubble-display header-card-display",children:[c.jsx(Kr,{title:n.CardName,size:12,primary:n.CardPrimaryColor,secondary:n.CardSecondaryColor,className:"card-thumbnail"}),n.CardName]})]}),c.jsx("div",{className:"drawer-content-scroll",style:{padding:"0 16px 16px",overflow:"auto"},children:y&&c.jsx(RS,{userCredit:y,now:e,card:n,cardCredit:r,creditMaxValue:s,currentYear:e.getFullYear(),onUpdateHistoryEntry:O,hideControls:!1,selectedPeriodNumber:B,onPeriodSelect:m})}),c.jsx(CB,{children:y&&c.jsxs(c.Fragment,{children:[c.jsx(kS,{userCredit:y,currentYear:e.getFullYear(),selectedPeriodNumber:B,onPeriodSelect:m}),c.jsx(NS,{userCredit:y,cardCredit:r,creditMaxValue:s,now:e,onUpdateHistoryEntry:O,selectedPeriodNumber:B,onPeriodSelect:m})]})})]})}):c.jsx(As,{open:p,onOpenChange:v,children:c.jsxs(Jr,{width:"600px",children:[c.jsxs(es,{children:[c.jsx(Rs,{children:y?(r==null?void 0:r.Title)??y.CreditId:"Credit Details"}),y&&n&&c.jsxs("p",{className:"card-bubble-display header-card-display",children:[c.jsx(Kr,{title:n.CardName,size:12,primary:n.CardPrimaryColor,secondary:n.CardSecondaryColor,className:"card-thumbnail"}),n.CardName]})]}),c.jsx("div",{className:"dialog-content-scroll",style:{padding:"0 24px 24px",overflow:"auto",maxHeight:"70vh"},children:y&&c.jsxs(c.Fragment,{children:[c.jsx(RS,{userCredit:y,now:e,card:n,cardCredit:r,creditMaxValue:s,currentYear:e.getFullYear(),onUpdateHistoryEntry:O,hideControls:!1,selectedPeriodNumber:B,onPeriodSelect:m}),c.jsx(kS,{userCredit:y,currentYear:e.getFullYear(),selectedPeriodNumber:B,onPeriodSelect:m})]})}),c.jsx(Rd,{children:y&&c.jsx(NS,{userCredit:y,cardCredit:r,creditMaxValue:s,now:e,onUpdateHistoryEntry:O,selectedPeriodNumber:B,onPeriodSelect:m})})]})})]})},T$=()=>{const[t,e]=E.useState(!1);return E.useEffect(()=>{const n=()=>{e(window.innerWidth<=Zr)};return n(),window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[]),t},b$=({credits:t,now:e,cardById:n,creditByPair:r,onUpdateHistoryEntry:s})=>{const o=T$();return!t||t.length===0?null:c.jsx("div",{className:"credit-list",children:t.map(l=>{const u=n.get(l.CardId)||null,h=r.get(`${l.CardId}:${l.CreditId}`)||null,p=h==null?void 0:h.Value;return c.jsx(x$,{userCredit:l,now:e,card:u,cardCredit:h,creditMaxValue:typeof p=="string"?Number(p.replace(/[^0-9.]/g,"")):p,disableDropdown:o,onUpdateHistoryEntry:s},`${l.CardId}:${l.CreditId}`)})})},C$=({period:t,calendar:e,now:n,cardById:r,creditByPair:s,onJumpMonths:o,canJumpMonths:l,showUsed:u=!0,showNotUsed:h=!0,showPartiallyUsed:p=!0,showInactive:v=!0,showAllPeriods:y=!1,onUpdateHistoryEntry:T})=>{const k=t.charAt(0).toUpperCase()+t.slice(1),N=vx.map(x=>x.label),D=E.useMemo(()=>{if(t===At.Monthly)return N.map((x,_)=>({label:x,startMonthIndex:_,endMonthIndex:_}));if(t===At.Quarterly){const _=[];for(let b=0;b<12;b+=3){const R=b,P=b+3-1;_.push({label:`${N[R]} - ${N[P]}`,startMonthIndex:R,endMonthIndex:P})}return _}return t===At.Semiannually?[{label:`${N[0]} - ${N[5]}`,startMonthIndex:0,endMonthIndex:5},{label:`${N[6]} - ${N[11]}`,startMonthIndex:6,endMonthIndex:11}]:t===At.Annually?[{label:`${N[0]} - ${N[11]}`,startMonthIndex:0,endMonthIndex:11}]:[]},[t]),j=E.useMemo(()=>(e.Credits||[]).filter(x=>x.AssociatedPeriod===t).filter(x=>{const _=n.getMonth(),b=t===At.Monthly?12:t===At.Quarterly?4:t===At.Semiannually?2:1,R=12/b,P=Math.min(Math.max(Math.floor(_/R)+1,1),b),A=x.History.find(O=>O.PeriodNumber===P)||x.History[0];if(!A)return!0;const H=A.CreditUsage;return!(!u&&H===Ne.USED||!h&&H===Ne.NOT_USED||!p&&H===Ne.PARTIALLY_USED||!v&&H===Ne.INACTIVE)}),[e,t,n,u,h,p,v]),L=n.getMonth(),U=n.getFullYear(),B=e.Year,m=new Date;m.getMonth(),m.getFullYear();const S=E.useMemo(()=>{const x=D.findIndex(_=>B===U&&L>=_.startMonthIndex&&L<=_.endMonthIndex);return x>=0?D[x].label:""},[D,B,U,L]);return j.length===0?null:c.jsxs("section",{className:"credit-period-group","aria-labelledby":`period-${t}`,children:[c.jsxs("div",{className:"period-header",children:[c.jsx("h3",{id:`period-${t}`,className:"period-title",children:k}),S&&c.jsxs("div",{className:"mobile-period-label desktop-visible",children:[c.jsx(De,{name:"calendar",variant:"micro",size:12}),c.jsx("span",{className:"period-label",children:S})]})]}),!1,c.jsx(b$,{credits:j,now:n,cardById:r,creditByPair:s,onUpdateHistoryEntry:T})]})},I$=({calendar:t,isLoading:e=!1,now:n,userCards:r=[],onJumpMonths:s,canJumpMonths:o,showUsed:l=!0,showNotUsed:u=!0,showPartiallyUsed:h=!0,showInactive:p=!0,showAllPeriods:v=!0,onUpdateHistoryEntry:y})=>{const T=E.useMemo(()=>n??new Date,[n]),k=E.useMemo(()=>Object.values(At),[]),N=E.useMemo(()=>{const j=new Map;for(const L of r||[])j.set(L.id,L);return j},[r]),D=E.useMemo(()=>{const j=new Map;for(const L of r||[])for(const U of L.Credits||[])j.set(`${L.id}:${U.id}`,U);return j},[r]);return e?c.jsx("div",{className:"credits-display loading",children:"Loading credits"}):t?c.jsx("div",{className:"credits-display",children:k.map(j=>c.jsx(C$,{period:j,calendar:t,now:T,cardById:N,creditByPair:D,onJumpMonths:s,canJumpMonths:o,showUsed:l,showNotUsed:u,showPartiallyUsed:h,showInactive:p,showAllPeriods:v,onUpdateHistoryEntry:y},j))}):c.jsx("div",{className:"credits-display empty",children:"No credit history found for the current year."})},DS=({className:t="",children:e,...n})=>c.jsx("div",{className:`toggle-bar ${t}`.trim(),...n,children:e}),Po=({pressed:t,onPressedChange:e,size:n="small",variant:r="outline",className:s="",children:o,onClick:l,...u})=>{const h=T=>{l==null||l(T),e==null||e(!t)},p=n==="mini"?"mini":n==="small"?"small":"",v=r==="outline"?"outline":r==="ghost"?"ghost":"",y=t?"active":"";return c.jsx("button",{type:"button","aria-pressed":!!t,"data-pressed":t?"true":"false",className:`toggle-bar-button ${p} ${v} ${y} ${s}`.trim(),onClick:h,...u,children:o})},A$="#C9CED3",vy=({selectedCardId:t,creditCards:e,isUpdating:n=!1,onSelectCardClick:r,onDeselectCard:s,selectLabel:o="Select a different card:",selectedLabel:l="Selected card:",unselectedIcon:u,className:h=""})=>{const p=e==null?void 0:e.find(y=>y.id===t),v=t&&p;return c.jsx("div",{className:`select-different-card ${h}`.trim(),children:v?c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"selection-label",children:l}),c.jsxs("div",{className:"selected-card-container",children:[c.jsxs("button",{className:`selected-card-button ${n?"loading icon with-text":""}`,onClick:r,disabled:n,children:[n?c.jsx(Go,{size:qa}):c.jsx(Kr,{title:p.CardName,size:24,primary:p.CardPrimaryColor,secondary:p.CardSecondaryColor,className:"selected-card-image"}),c.jsx("span",{className:"selected-card-name",children:n?"Updating...":p.CardName})]}),c.jsx("button",{className:"deselect-button",onClick:s,disabled:n,"aria-label":"Deselect card",children:""})]})]}):c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"selection-label",children:o}),c.jsxs("button",{className:`select-card-button ${n?"loading":""}`,onClick:r,disabled:n,children:[n?c.jsx(Go,{size:qa}):u||c.jsx(De,{name:"card",variant:"micro",color:A$,size:14}),c.jsx("span",{className:"label-text",children:n?"Loading...":"Select Card"})]})]})})};function av(t,e){let n=e+1,r=t;return n>12&&(n=1,r=t+1),{y:r,m:n}}function zf(t,e){let n=e-1,r=t;return n<1&&(n=12,r=t-1),{y:r,m:n}}function R$(t,e,n,r=new Date){const s=r.getFullYear(),o=r.getMonth()+1,l=(n??r).getFullYear(),u=(n??r).getMonth()+1;return!(t>s||t===s&&e>o||t<l||t===l&&e<u)}function P$(t,e=new Date){const n=e.getFullYear(),r=t?t.getFullYear():n,s=[];for(let o=n;o>=r;o-=1)s.push(o);return s}function lv(t,e,n,r=new Date){const s=r.getFullYear(),o=r.getMonth()+1,l=(n??r).getFullYear(),u=(n??r).getMonth()+1;let h=e;return t===s&&h>o&&(h=o),t===l&&h<u&&(h=u),h}const N$=({userCardDetails:t,reloadTrigger:e})=>{Hm(!0);const[n,r]=E.useState(!1),[s,o]=E.useState(!0),[l,u]=E.useState(!1),[h,p]=E.useState(null),[v,y]=E.useState(0),[T,k]=E.useState(new Date().getFullYear()),[N,D]=E.useState(new Date().getMonth()+1),[j,L]=E.useState(null),[U,B]=E.useState(null),[m,S]=E.useState(null),x=ne=>{p(ne)};E.useEffect(()=>()=>{},[]);const[_,b]=E.useState(()=>typeof window>"u"?!1:window.matchMedia(`(max-width: ${Zr}px)`).matches);E.useEffect(()=>{if(typeof window>"u")return;const ne=window.matchMedia(`(max-width: ${Zr}px)`),de=we=>{const me=("matches"in we,we.matches);b(me)};de(ne);try{ne.addEventListener("change",de)}catch{ne.addListener(de)}return()=>{try{ne.removeEventListener("change",de)}catch{ne.removeListener(de)}}},[]),E.useEffect(()=>{console.log("[CreditsHistory] Main data loading useEffect triggered:",{reloadTrigger:e,selectedYear:T,selectedMonth:N,selectedFilterCardId:U,timestamp:Date.now()});let ne=!0;return(async()=>{o(!0),u(!0);try{const de={excludeHidden:!0};U&&(de.cardIds=[U]);const we=await Pn.fetchCreditHistoryForYear(T,de);if(!ne)return;x(we),o(!1),u(!1)}catch{try{await Pn.generateCreditHistory();const we={excludeHidden:!0};U&&(we.cardIds=[U]);const me=await Pn.fetchCreditHistoryForYear(T,we);ne&&(x(me),o(!1),u(!1))}catch(we){console.error("Failed to initialize credit history:",we),ne&&(x(null),o(!1),u(!1))}}})(),()=>{ne=!1}},[e,T,N,U]),E.useEffect(()=>{(async()=>{try{const de=await Pn.fetchCreditTrackingPreferences();S(de)}catch(de){console.error("Error fetching credit tracking preferences:",de),S(null)}})()},[]);const R=h,P=E.useMemo(()=>!R||!R.Credits||!t?!1:R.Credits.every(ne=>{var me;const de=t.find(Pe=>Pe.id===ne.CardId);return de?((me=de.Credits)==null?void 0:me.find(Pe=>Pe.id===ne.CreditId))!=null:!1}),[R,t]),[A,H]=E.useState([]);E.useEffect(()=>{let ne=!0;return(async()=>{const de=await IC.fetchAccountCreationDate();ne&&L(de),ne&&H(P$(de));const we=new Date,me=we.getFullYear(),Pe=(de??we).getFullYear();ne&&(T<Pe||T>me)&&(k(me),D(lv(me,N,de)))})(),()=>{ne=!1}},[]);const O=(ne,de)=>R$(ne,de,j),K=async()=>{const{y:ne,m:de}=av(T,N);if(O(ne,de)){u(!0);try{const we={excludeHidden:!0};U&&(we.cardIds=[U]);const me=await Pn.fetchCreditHistoryForYear(ne,we);x(me),k(ne),D(de)}catch(we){console.error("Failed to load next month:",we)}finally{u(!1)}}},Y=async()=>{const{y:ne,m:de}=zf(T,N);if(O(ne,de)){u(!0);try{const we={excludeHidden:!0};U&&(we.cardIds=[U]);const me=await Pn.fetchCreditHistoryForYear(ne,we);x(me),k(ne),D(de)}catch(we){console.error("Failed to load previous month:",we)}finally{u(!1)}}},F=(ne,de,we)=>{const me=de-1,Pe=ne*12+me+we,tt=Math.floor(Pe/12),Qe=Pe%12,Wt=Qe<0?Qe+12:Qe;return{y:Qe<0?tt-1:tt,m:Wt+1}},G=ne=>{const{y:de,m:we}=F(T,N,ne);return O(de,we)},z=async ne=>{const{y:de,m:we}=F(T,N,ne);if(O(de,we)){u(!0);try{const me={excludeHidden:!0};U&&(me.cardIds=[U]);const Pe=await Pn.fetchCreditHistoryForYear(de,me);x(Pe),k(de),D(we)}catch(me){console.error("Failed to jump to month:",me)}finally{u(!1)}}},Z=E.useMemo(()=>{const ne=new Date;return T===ne.getFullYear()&&N===ne.getMonth()+1},[T,N]),ee=async()=>{const ne=new Date;let de=ne.getFullYear(),we=ne.getMonth()+1;if(!O(de,we)){let me=de,Pe=we;for(let tt=0;tt<36;tt++){const Qe=zf(me,Pe);if(O(Qe.y,Qe.m)){de=Qe.y,we=Qe.m;break}me=Qe.y,Pe=Qe.m}}u(!0);try{const me={excludeHidden:!0};U&&(me.cardIds=[U]);const Pe=await Pn.fetchCreditHistoryForYear(de,me);x(Pe),k(de),D(we)}catch(me){console.error("Failed to go to current period:",me)}finally{u(!1)}},[W,J]=E.useState(!0),[ue,_e]=E.useState(!0),[Te,ce]=E.useState(!0),[pe,Re]=E.useState(!0),[Ie,je]=E.useState(!1),[Ze,mt]=E.useState(!1),vt=()=>je(!0),Oe=ne=>{B((ne==null?void 0:ne.id)||null),je(!1)},ke=()=>{J(!0),_e(!0),ce(!0),Re(!0),B(null)};return c.jsxs("div",{className:"standard-page-layout",children:[c.jsx(Xi,{title:rt.MY_CREDITS,icon:an.MY_CREDITS.MINI,subtitle:"Full History",showHelpButton:!0,onHelpClick:()=>r(!0)}),_?c.jsx(Jo,{open:Ie,onOpenChange:je,direction:"bottom",children:c.jsxs(ci,{fitContent:!0,maxHeight:"80vh",children:[c.jsx(qi,{className:"sr-only",children:"Select Card"}),c.jsx("div",{className:"dialog-header drawer-sticky-header",children:c.jsx("h2",{children:"Select Card"})}),c.jsx("div",{className:"dialog-body",style:{overflowY:"auto"},children:c.jsx(Uo,{creditCards:[],onSelectCard:Oe,selectedCardId:U||void 0,hideInternalSearch:!1,onlyShowUserCards:!1})})]})}):c.jsx(As,{open:Ie,onOpenChange:je,children:c.jsxs(Jr,{children:[c.jsx(es,{children:c.jsx(Rs,{children:"Select Card"})}),c.jsx(zi,{children:c.jsx(Uo,{creditCards:[],onSelectCard:Oe,selectedCardId:U||void 0,hideInternalSearch:!1,onlyShowUserCards:!1})})]})}),c.jsx("div",{className:"standard-page-content--no-padding",children:c.jsxs("div",{className:"credits-history-panel",children:[c.jsxs(t3,{children:[!_&&c.jsxs("div",{className:"header-controls",children:[c.jsxs("div",{className:"date-picker",children:[c.jsx("label",{className:"filter-label",children:"Year"}),c.jsx("select",{className:"year-select default-select",value:T,onChange:async ne=>{const de=parseInt(ne.target.value),we=lv(de,N,j);u(!0);try{const me={excludeHidden:!0};U&&(me.cardIds=[U]);const Pe=await Pn.fetchCreditHistoryForYear(de,me);x(Pe),k(de),D(we)}catch(me){console.error("Failed to load new year:",me)}finally{u(!1)}},children:A.map(ne=>c.jsx("option",{value:ne,children:ne},ne))})]}),c.jsxs("div",{className:"date-picker",children:[c.jsx("label",{className:"filter-label",children:"Month"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{type:"button","aria-label":"Previous month",className:"button outline small px-2",onClick:Y,disabled:l||!O(zf(T,N).y,zf(T,N).m),children:c.jsx(De,{name:"chevron-down",variant:"mini",size:16,className:"rotate-90"})}),c.jsx("select",{className:"month-select default-select",value:N,onChange:async ne=>{const de=parseInt(ne.target.value);if(O(T,de)){u(!0);try{const we={excludeHidden:!0};U&&(we.cardIds=[U]);const me=await Pn.fetchCreditHistoryForYear(T,we);x(me),D(de)}catch(we){console.error("Failed to load new month:",we)}finally{u(!1)}}},children:mp.map(ne=>c.jsx("option",{value:ne.value,children:ne.label},ne.value))}),!Z&&c.jsx("button",{type:"button","aria-label":"Go to current period",className:"button outline small px-2",onClick:ee,children:c.jsx(De,{name:"map-pin",variant:"micro",size:16})}),c.jsx("button",{type:"button","aria-label":"Next month",className:"button outline small px-2",onClick:K,disabled:l||!O(av(T,N).y,av(T,N).m),children:c.jsx(De,{name:"chevron-down",variant:"mini",size:16,className:"-rotate-90"})})]})]}),c.jsxs(DS,{className:"connected items-center gap-2",children:[c.jsx("span",{className:"caps-label",children:"Credits to Show"}),c.jsxs(Po,{pressed:W,onPressedChange:J,className:"small icon with-text",children:[c.jsx(De,{name:"used-icon",variant:"micro",size:14}),c.jsx("span",{children:kn.USED})]}),c.jsxs(Po,{pressed:ue,onPressedChange:_e,className:"small icon with-text",children:[c.jsx(De,{name:"not-used-icon",variant:"micro",size:14}),c.jsx("span",{children:kn.NOT_USED})]}),c.jsxs(Po,{pressed:Te,onPressedChange:ce,className:"small icon with-text",children:[c.jsx(De,{name:"partially-used-icon",variant:"micro",size:14}),c.jsx("span",{children:kn.PARTIALLY_USED})]}),c.jsxs(Po,{pressed:pe,onPressedChange:Re,className:"small icon with-text",children:[c.jsx(De,{name:"inactive",variant:"micro",size:14}),c.jsx("span",{children:kn.INACTIVE})]})]}),c.jsxs("div",{className:"filter-section",children:[c.jsx("label",{className:"caps-label",children:"Filter by Card"}),c.jsx(vy,{selectedCardId:U||void 0,creditCards:t.map(ne=>({id:ne.id,CardName:ne.CardName,CardPrimaryColor:ne.CardPrimaryColor,CardSecondaryColor:ne.CardSecondaryColor,CardIssuer:ne.CardIssuer||"",CardNetwork:ne.CardNetwork||"",CardDetails:ne.CardDetails||"",effectiveFrom:ne.effectiveFrom,effectiveTo:ne.effectiveTo,lastUpdated:ne.lastUpdated})),isUpdating:!1,onSelectCardClick:vt,onDeselectCard:()=>B(null),selectLabel:"",selectedLabel:"",unselectedIcon:c.jsx(De,{name:"card",variant:"micro",color:"#C9CED3",size:14}),className:"standalone"})]})]}),_&&c.jsxs("div",{className:"header-controls",children:[c.jsx("div",{className:"date-picker",children:c.jsx("select",{className:"year-select default-select",value:T,onChange:async ne=>{const de=parseInt(ne.target.value),we=lv(de,N,j);u(!0);try{const me={excludeHidden:!0};U&&(me.cardIds=[U]);const Pe=await Pn.fetchCreditHistoryForYear(de,me);x(Pe),k(de),D(we)}catch(me){console.error("Failed to load new year:",me)}finally{u(!1)}},children:A.map(ne=>c.jsx("option",{value:ne,children:ne},ne))})}),c.jsx("div",{className:"date-picker",children:c.jsx("select",{className:"month-select default-select",value:N,onChange:async ne=>{const de=parseInt(ne.target.value);if(O(T,de)){u(!0);try{const we={excludeHidden:!0};U&&(we.cardIds=[U]);const me=await Pn.fetchCreditHistoryForYear(T,we);x(me),D(de)}catch(we){console.error("Failed to load new month:",we)}finally{u(!1)}}},children:mp.filter(ne=>O(T,ne.value)).map(ne=>c.jsx("option",{value:ne.value,children:ne.label},ne.value))})})]}),c.jsxs("div",{className:"header-actions",children:[!_&&c.jsx("button",{className:"button outline small",onClick:ke,"aria-label":"Reset filters to defaults",children:"Reset Filters"}),_&&c.jsxs("button",{className:"button small icon with-text",onClick:()=>mt(!0),"aria-label":"Open filters drawer",children:[c.jsx(De,{name:"filter",variant:"mini",size:16}),"Filters"]})]})]}),c.jsx("div",{className:"credits-history-content",children:s||!P?c.jsx(xt,{type:"loading",message:"Loading credits...",showTitle:!1,transparent:!0,centered:!0}):c.jsx(I$,{calendar:R,isLoading:!1,userCards:t,now:new Date(T,N-1,15),onJumpMonths:z,canJumpMonths:G,showUsed:W,showNotUsed:ue,showPartiallyUsed:Te,showInactive:pe,showAllPeriods:!_,onUpdateHistoryEntry:async({cardId:ne,creditId:de,periodNumber:we,creditUsage:me,valueUsed:Pe})=>{try{await Pn.updateCreditHistoryEntry({cardId:ne,creditId:de,periodNumber:we,creditUsage:me,valueUsed:Pe});const tt={excludeHidden:!0};U&&(tt.cardIds=[U]);const Qe=await Pn.fetchCreditHistoryForYear(T,tt);x(Qe)}catch(tt){console.error("Failed to update credit history entry:",tt)}}})})]})}),c.jsx(Jo,{open:Ze,onOpenChange:mt,children:c.jsxs(ci,{className:"mobile-credits-filters-drawer",fitContent:!0,maxHeight:"80vh",children:[c.jsx(qi,{className:"sr-only",children:"Filters"}),c.jsxs("div",{className:"dialog-header drawer-sticky-header history-filters-header",children:[c.jsx("h2",{children:"Filters"}),c.jsx("div",{className:"header-actions",children:c.jsx("span",{className:"reset-link",onClick:ke,role:"button",tabIndex:0,"aria-label":"Reset filters to defaults",children:"Reset"})})]}),c.jsxs("div",{className:"dialog-body",children:[c.jsxs(DS,{className:"connected items-center gap-2",children:[c.jsx("span",{className:"caps-label",children:"Credits to Show"}),c.jsxs(Po,{pressed:W,onPressedChange:J,className:"small icon with-text",children:[c.jsx(De,{name:"used-icon",variant:"micro",size:14}),c.jsx("span",{children:kn.USED})]}),c.jsxs(Po,{pressed:ue,onPressedChange:_e,className:"small icon with-text",children:[c.jsx(De,{name:"not-used-icon",variant:"micro",size:14}),c.jsx("span",{children:kn.NOT_USED})]}),c.jsxs(Po,{pressed:Te,onPressedChange:ce,className:"small icon with-text",children:[c.jsx(De,{name:"partially-used-icon",variant:"micro",size:14}),c.jsx("span",{children:kn.PARTIALLY_USED})]}),c.jsxs(Po,{pressed:pe,onPressedChange:Re,className:"small icon with-text",children:[c.jsx(De,{name:"inactive",variant:"micro",size:14}),c.jsx("span",{children:kn.INACTIVE})]})]}),c.jsxs("div",{className:"filter-section",children:[c.jsx("label",{className:"caps-label",children:"Filter by Card"}),c.jsx(vy,{selectedCardId:U||void 0,creditCards:t.map(ne=>({id:ne.id,CardName:ne.CardName,CardPrimaryColor:ne.CardPrimaryColor,CardSecondaryColor:ne.CardSecondaryColor,CardIssuer:ne.CardIssuer||"",CardNetwork:ne.CardNetwork||"",CardDetails:ne.CardDetails||"",effectiveFrom:ne.effectiveFrom,effectiveTo:ne.effectiveTo,lastUpdated:ne.lastUpdated})),isUpdating:!1,onSelectCardClick:vt,onDeselectCard:()=>B(null),selectLabel:"",selectedLabel:"",unselectedIcon:c.jsx(De,{name:"card",variant:"micro",color:"#C9CED3",size:14}),className:"standalone"})]})]}),c.jsx("div",{className:"dialog-footer",children:c.jsx("div",{className:"button-group",children:c.jsx("button",{className:"button",onClick:()=>mt(!1),children:"Apply Filters"})})})]})}),_&&!1,c.jsx(As,{open:n,onOpenChange:r,children:c.jsxs(Jr,{children:[c.jsx(es,{children:c.jsx(Rs,{children:"My Credits Help"})}),c.jsx(zi,{children:c.jsx(l3,{})})]})})]})};function I3({existingHistoryList:t,listSize:e,currentChatId:n,returnCurrentChatId:r,onHistoryUpdate:s,creditCards:o,historyRefreshTrigger:l,loading:u=!1}){E.useEffect(()=>{},[l]);const h=async()=>{try{return s(y=>[...y]),!0}catch(y){return console.error("Failed to refresh history:",y),!1}},p=async y=>{s(T=>T.filter(k=>k.chatId!==y)),y===n&&r(null)},v=t.sort((y,T)=>new Date(T.timestamp).getTime()-new Date(y.timestamp).getTime()).slice(0,e);return c.jsx("div",{className:"history-panel",children:u&&v.length===0?c.jsx("div",{className:"loading-history",children:c.jsx(xt,{type:"loading",message:Xn.loadingHistory,showTitle:!1,transparent:!0})}):v.length===0?c.jsx(xt,{type:"default",message:Xn.emptyHistory,showTitle:!1,transparent:!0,showIcon:!1,centered:!0}):v.map(y=>c.jsx(dy,{chatEntry:y,currentChatId:n,onDelete:p,refreshHistory:h,returnCurrentChatId:r,creditCards:o,variant:"sidebar"},y.chatId))})}const jS=({icon:t,name:e,isDropdown:n=!1,children:r,className:s="",storageKey:o,isCollapsed:l=!1,onShowTooltip:u,onHideTooltip:h})=>{const p=o||`sidebar-item-${e.toLowerCase().replace(/\s+/g,"-")}`,v=()=>{if(!n)return!1;try{const B=localStorage.getItem(p);return B!==null?JSON.parse(B):!0}catch(B){return console.warn("Error reading sidebar item state from localStorage:",B),!0}},[y,T]=E.useState(v),k=E.useRef(null),N=E.useRef(null),D=E.useRef(!1);E.useEffect(()=>{if(n)try{localStorage.setItem(p,JSON.stringify(y))}catch(B){console.warn("Error saving sidebar item state to localStorage:",B)}},[y,n,p]),E.useEffect(()=>()=>{N.current&&clearTimeout(N.current)},[]),E.useEffect(()=>{if(!l)return;const B=m=>{if(!k.current||!D.current)return;const S=k.current.getBoundingClientRect();m.clientX>=S.left&&m.clientX<=S.right&&m.clientY>=S.top&&m.clientY<=S.bottom||(D.current=!1,N.current&&clearTimeout(N.current),N.current=setTimeout(()=>{h&&h()},100))};return document.addEventListener("mousemove",B),()=>{document.removeEventListener("mousemove",B)}},[l,h]);const j=()=>{n&&T(!y)},L=B=>{n&&(B.preventDefault(),B.stopPropagation(),j())},U=()=>{if(D.current=!0,N.current&&(clearTimeout(N.current),N.current=null),l&&k.current){const B=k.current.getBoundingClientRect(),S={top:B.top+B.height/2};u&&u(e,S)}};return c.jsx("div",{className:"sidebar-item",children:c.jsxs("div",{className:`sidebar-item-content ${s} ${l?"collapsed":""}`,onPointerEnter:l?U:void 0,style:l?{cursor:"pointer",userSelect:"none"}:void 0,children:[c.jsxs("div",{ref:k,className:"sidebar-item-main",onClick:L,style:{cursor:n?"pointer":"default"},children:[t&&c.jsx(Ry,{icon:t,alt:`${e} icon`,className:"sidebar-item-icon",size:20}),!l&&c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"sidebar-item-name caps-label",children:e}),n&&c.jsx(De,{name:y?"chevron-up":"chevron-down",variant:"solid",size:16,color:ZN,className:"sidebar-item-arrow"})]})]}),n&&y&&r&&!l&&c.jsx("div",{className:"sidebar-item-dropdown",children:r})]})})},k$=({isOpen:t,onToggle:e,chatHistory:n,currentChatId:r,onCurrentChatIdChange:s,onHistoryUpdate:o,subscriptionPlan:l,creditCards:u,historyRefreshTrigger:h,isLoadingCreditCards:p,isLoadingHistory:v,onCardSelect:y,quickHistorySize:T,user:k,onLogout:N,onNewChat:D})=>{const j=Mr(),L=js(),U=K=>!!(K===fe.HOME.PATH||r&&K===`${fe.HOME.PATH}${r}`),B=K=>K===fe.HOME.PATH?U(j.pathname):j.pathname===K,m=(K,Y)=>K?B(Y)?K.ACTIVE:K.INACTIVE:()=>null,[S,x]=xe.useState(null),_=(K,Y)=>{x({name:K,position:Y})},b=()=>{x(null)},R=[{to:fe.HOME.PATH,name:rt.HOME,icon:()=>m(an.HOME,fe.HOME.PATH)({size:20})},{to:fe.HISTORY.PATH,name:rt.TRANSACTION_HISTORY,icon:()=>m(an.TRANSACTION_HISTORY,fe.HISTORY.PATH)({size:20})},{to:fe.MY_CARDS.PATH,name:rt.MY_CARDS,icon:()=>m(an.MY_CARDS,fe.MY_CARDS.PATH)({size:20})},{to:fe.MY_CREDITS.PATH,name:rt.MY_CREDITS,icon:()=>m(an.MY_CREDITS,fe.MY_CREDITS.PATH)({size:20})}],P=(K,Y)=>{const F=K.currentTarget.getBoundingClientRect();_(Y,{top:F.top+F.height/2})},A=K=>{const Y=K.currentTarget.getBoundingClientRect();_(rt.NEW_TRANSACTION_CHAT,{top:Y.top+Y.height/2})},H=()=>{U(j.pathname)?D():(s(null),L(fe.HOME.PATH))},O=()=>!S||t?null:lx.createPortal(c.jsx("div",{className:"global-tooltip",style:{top:`${S.position.top}px`},children:S.name}),document.body);return c.jsxs("div",{className:`app-sidebar ${t?"open":"collapsed"}`,children:[c.jsxs("div",{className:"sidebar-top",children:[t&&c.jsx("h1",{className:"app-name",children:c.jsxs(Ht,{to:fe.HOME.PATH,children:[c.jsx("img",{src:an.LOGO,alt:"Logo"}),Bn]})}),!t&&c.jsx("div",{className:"sidebar-logo",children:c.jsx(Ht,{to:fe.HOME.PATH,className:"logo-icon",style:{textDecoration:"none",color:"inherit"},children:c.jsx("img",{src:an.LOGO,alt:"Logo"})})}),c.jsx("div",{className:"sidebar-toggle",children:c.jsx("button",{className:"button no-outline small icon-gray-hover",onClick:e,"aria-label":t?"Close sidebar":"Open sidebar",children:c.jsx(De,{name:"sidebar",variant:t?"close":"open",color:td,size:20})})})]}),c.jsx("div",{className:"sidebar-middle",children:t?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"mini-nav-column",children:[c.jsx("button",{className:"button no-outline new-chat-button",onClick:H,onMouseEnter:A,onMouseLeave:()=>b(),"aria-label":rt.NEW_TRANSACTION_CHAT,children:c.jsx(De,{name:"plus-circle",variant:"solid",color:"#22CC9D",size:24})}),R.map((K,Y)=>{const F=B(K.to);return c.jsx(Ht,{to:K.to,className:`mini-nav-icon ${F?"active":""}`,onMouseEnter:G=>P(G,K.name),onMouseLeave:()=>b(),style:{textDecoration:"none",color:"inherit"},children:K.icon()},Y)})]}),c.jsxs("div",{className:"expanded-content-column",children:[c.jsx(jS,{icon:an.TRANSACTION_HISTORY.INACTIVE,name:Xn.recentSectionTitle,isDropdown:!0,children:c.jsx(I3,{existingHistoryList:n,listSize:T,currentChatId:r,returnCurrentChatId:s,onHistoryUpdate:o,creditCards:u,historyRefreshTrigger:h,loading:v})}),c.jsx(jS,{icon:an.MY_CARDS.INACTIVE,name:rt.MY_CARDS,isDropdown:!0,children:c.jsx(aw,{cards:u,loading:p,showOnlySelected:!0,onCardSelect:y,variant:"sidebar"})})]})]}):c.jsx(c.Fragment,{children:c.jsxs("div",{className:"mini-nav-icons",children:[c.jsx("button",{className:"button no-outline new-chat-button",onClick:H,onMouseEnter:A,onMouseLeave:()=>b(),"aria-label":rt.NEW_TRANSACTION_CHAT,children:c.jsx(De,{name:"plus-circle",variant:"solid",color:"#22CC9D",size:24})}),R.map((K,Y)=>{const F=B(K.to);return c.jsx(Ht,{to:K.to,className:`mini-nav-icon ${F?"active":""}`,onMouseEnter:G=>P(G,K.name),onMouseLeave:()=>b(),style:{textDecoration:"none",color:"inherit"},children:K.icon()},Y)})]})})}),k&&c.jsx("div",{className:"sidebar-bottom",children:t?c.jsx("div",{className:"user-profile-section",children:c.jsxs(jd,{children:[c.jsx(Md,{asChild:!0,children:c.jsx("button",{className:"profile-trigger-button",children:c.jsxs("div",{className:"profile-trigger",children:[k.photoURL&&c.jsx("img",{src:k.photoURL,alt:"Profile",crossOrigin:"anonymous",referrerPolicy:"no-referrer",className:"profile-image"}),c.jsxs("div",{className:"profile-info",children:[c.jsx("span",{className:"profile-name",children:k.displayName||k.email}),c.jsx("span",{className:"profile-plan",children:l==="free"?vp.FREE:vp.PREMIUM})]}),c.jsx(De,{name:"ellipsis-vertical",variant:"mini",size:20,color:Ki,className:"profile-options-icon"})]})})}),c.jsxs(Od,{align:"end",side:"right",sideOffset:20,className:"sidebar-profile-dropdown",children:[c.jsx(Ht,{to:fe.PREFERENCES.PATH,children:c.jsx(ws,{icon:Do.PREFERENCES.NORMAL,children:rt.PREFERENCES})}),c.jsx(Ht,{to:fe.ACCOUNT.PATH,children:c.jsx(ws,{icon:Do.MY_ACCOUNT.NORMAL,children:rt.MY_ACCOUNT})}),c.jsx(ws,{onClick:N,className:"signout-action",icon:Do.SIGN_OUT.RED,children:rt.SIGN_OUT})]})]})}):c.jsx("div",{className:"mini-nav-profile",children:k.photoURL&&c.jsxs(c.Fragment,{children:[c.jsx(Ht,{to:fe.PREFERENCES.PATH,className:`mini-nav-icon ${j.pathname===fe.PREFERENCES.PATH?"active":""}`,onMouseEnter:K=>P(K,rt.PREFERENCES),onMouseLeave:()=>b(),style:{textDecoration:"none",color:"inherit"},children:m(an.PREFERENCES,fe.PREFERENCES.PATH)({size:20})}),c.jsxs(jd,{children:[c.jsx(Md,{asChild:!0,children:c.jsx("button",{className:"mini-nav-icon mini-profile-trigger",title:k.displayName||k.email||"Profile",children:c.jsx("img",{src:k.photoURL,alt:"Profile",crossOrigin:"anonymous",referrerPolicy:"no-referrer",className:"mini-profile-image"})})}),c.jsxs(Od,{align:"end",side:"right",sideOffset:16,className:"mini-profile-dropdown",children:[c.jsx(Ht,{to:fe.ACCOUNT.PATH,children:c.jsx(ws,{icon:Do.MY_ACCOUNT.NORMAL,children:rt.MY_ACCOUNT})}),c.jsx(ws,{onClick:N,className:"signout-action",icon:Do.SIGN_OUT.RED,children:rt.SIGN_OUT})]})]})]})})}),c.jsx(O,{})]})};var fp={exports:{}},D$=fp.exports,MS;function j$(){return MS||(MS=1,(function(t){(function(){function e(m){var S={omitExtraWLInCodeBlocks:{defaultValue:!1,describe:"Omit the default extra whiteline added to code blocks",type:"boolean"},noHeaderId:{defaultValue:!1,describe:"Turn on/off generated header id",type:"boolean"},prefixHeaderId:{defaultValue:!1,describe:"Add a prefix to the generated header ids. Passing a string will prefix that string to the header id. Setting to true will add a generic 'section-' prefix",type:"string"},rawPrefixHeaderId:{defaultValue:!1,describe:'Setting this option to true will prevent showdown from modifying the prefix. This might result in malformed IDs (if, for instance, the " char is used in the prefix)',type:"boolean"},ghCompatibleHeaderId:{defaultValue:!1,describe:"Generate header ids compatible with github style (spaces are replaced with dashes, a bunch of non alphanumeric chars are removed)",type:"boolean"},rawHeaderId:{defaultValue:!1,describe:`Remove only spaces, ' and " from generated header ids (including prefixes), replacing them with dashes (-). WARNING: This might result in malformed ids`,type:"boolean"},headerLevelStart:{defaultValue:!1,describe:"The header blocks level start",type:"integer"},parseImgDimensions:{defaultValue:!1,describe:"Turn on/off image dimension parsing",type:"boolean"},simplifiedAutoLink:{defaultValue:!1,describe:"Turn on/off GFM autolink style",type:"boolean"},excludeTrailingPunctuationFromURLs:{defaultValue:!1,describe:"Excludes trailing punctuation from links generated with autoLinking",type:"boolean"},literalMidWordUnderscores:{defaultValue:!1,describe:"Parse midword underscores as literal underscores",type:"boolean"},literalMidWordAsterisks:{defaultValue:!1,describe:"Parse midword asterisks as literal asterisks",type:"boolean"},strikethrough:{defaultValue:!1,describe:"Turn on/off strikethrough support",type:"boolean"},tables:{defaultValue:!1,describe:"Turn on/off tables support",type:"boolean"},tablesHeaderId:{defaultValue:!1,describe:"Add an id to table headers",type:"boolean"},ghCodeBlocks:{defaultValue:!0,describe:"Turn on/off GFM fenced code blocks support",type:"boolean"},tasklists:{defaultValue:!1,describe:"Turn on/off GFM tasklist support",type:"boolean"},smoothLivePreview:{defaultValue:!1,describe:"Prevents weird effects in live previews due to incomplete input",type:"boolean"},smartIndentationFix:{defaultValue:!1,describe:"Tries to smartly fix indentation in es6 strings",type:"boolean"},disableForced4SpacesIndentedSublists:{defaultValue:!1,describe:"Disables the requirement of indenting nested sublists by 4 spaces",type:"boolean"},simpleLineBreaks:{defaultValue:!1,describe:"Parses simple line breaks as <br> (GFM Style)",type:"boolean"},requireSpaceBeforeHeadingText:{defaultValue:!1,describe:"Makes adding a space between `#` and the header text mandatory (GFM Style)",type:"boolean"},ghMentions:{defaultValue:!1,describe:"Enables github @mentions",type:"boolean"},ghMentionsLink:{defaultValue:"https://github.com/{u}",describe:"Changes the link generated by @mentions. Only applies if ghMentions option is enabled.",type:"string"},encodeEmails:{defaultValue:!0,describe:"Encode e-mail addresses through the use of Character Entities, transforming ASCII e-mail addresses into its equivalent decimal entities",type:"boolean"},openLinksInNewWindow:{defaultValue:!1,describe:"Open all links in new windows",type:"boolean"},backslashEscapesHTMLTags:{defaultValue:!1,describe:"Support for HTML Tag escaping. ex: <div>foo</div>",type:"boolean"},emoji:{defaultValue:!1,describe:"Enable emoji support. Ex: `this is a :smile: emoji`",type:"boolean"},underline:{defaultValue:!1,describe:"Enable support for underline. Syntax is double or triple underscores: `__underline word__`. With this option enabled, underscores no longer parses into `<em>` and `<strong>`",type:"boolean"},ellipsis:{defaultValue:!0,describe:"Replaces three dots with the ellipsis unicode character",type:"boolean"},completeHTMLDocument:{defaultValue:!1,describe:"Outputs a complete html document, including `<html>`, `<head>` and `<body>` tags",type:"boolean"},metadata:{defaultValue:!1,describe:"Enable support for document metadata (defined at the top of the document between `` and `` or between `---` and `---`).",type:"boolean"},splitAdjacentBlockquotes:{defaultValue:!1,describe:"Split adjacent blockquote blocks",type:"boolean"}};if(m===!1)return JSON.parse(JSON.stringify(S));var x={};for(var _ in S)S.hasOwnProperty(_)&&(x[_]=S[_].defaultValue);return x}function n(){var m=e(!0),S={};for(var x in m)m.hasOwnProperty(x)&&(S[x]=!0);return S}var r={},s={},o={},l=e(!0),u="vanilla",h={github:{omitExtraWLInCodeBlocks:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,disableForced4SpacesIndentedSublists:!0,simpleLineBreaks:!0,requireSpaceBeforeHeadingText:!0,ghCompatibleHeaderId:!0,ghMentions:!0,backslashEscapesHTMLTags:!0,emoji:!0,splitAdjacentBlockquotes:!0},original:{noHeaderId:!0,ghCodeBlocks:!1},ghost:{omitExtraWLInCodeBlocks:!0,parseImgDimensions:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,smoothLivePreview:!0,simpleLineBreaks:!0,requireSpaceBeforeHeadingText:!0,ghMentions:!1,encodeEmails:!0},vanilla:e(!0),allOn:n()};r.helper={},r.extensions={},r.setOption=function(m,S){return l[m]=S,this},r.getOption=function(m){return l[m]},r.getOptions=function(){return l},r.resetOptions=function(){l=e(!0)},r.setFlavor=function(m){if(!h.hasOwnProperty(m))throw Error(m+" flavor was not found");r.resetOptions();var S=h[m];u=m;for(var x in S)S.hasOwnProperty(x)&&(l[x]=S[x])},r.getFlavor=function(){return u},r.getFlavorOptions=function(m){if(h.hasOwnProperty(m))return h[m]},r.getDefaultOptions=function(m){return e(m)},r.subParser=function(m,S){if(r.helper.isString(m))if(typeof S<"u")s[m]=S;else{if(s.hasOwnProperty(m))return s[m];throw Error("SubParser named "+m+" not registered!")}},r.extension=function(m,S){if(!r.helper.isString(m))throw Error("Extension 'name' must be a string");if(m=r.helper.stdExtName(m),r.helper.isUndefined(S)){if(!o.hasOwnProperty(m))throw Error("Extension named "+m+" is not registered!");return o[m]}else{typeof S=="function"&&(S=S()),r.helper.isArray(S)||(S=[S]);var x=p(S,m);if(x.valid)o[m]=S;else throw Error(x.error)}},r.getAllExtensions=function(){return o},r.removeExtension=function(m){delete o[m]},r.resetExtensions=function(){o={}};function p(m,S){var x=S?"Error in "+S+" extension->":"Error in unnamed extension",_={valid:!0,error:""};r.helper.isArray(m)||(m=[m]);for(var b=0;b<m.length;++b){var R=x+" sub-extension "+b+": ",P=m[b];if(typeof P!="object")return _.valid=!1,_.error=R+"must be an object, but "+typeof P+" given",_;if(!r.helper.isString(P.type))return _.valid=!1,_.error=R+'property "type" must be a string, but '+typeof P.type+" given",_;var A=P.type=P.type.toLowerCase();if(A==="language"&&(A=P.type="lang"),A==="html"&&(A=P.type="output"),A!=="lang"&&A!=="output"&&A!=="listener")return _.valid=!1,_.error=R+"type "+A+' is not recognized. Valid values: "lang/language", "output/html" or "listener"',_;if(A==="listener"){if(r.helper.isUndefined(P.listeners))return _.valid=!1,_.error=R+'. Extensions of type "listener" must have a property called "listeners"',_}else if(r.helper.isUndefined(P.filter)&&r.helper.isUndefined(P.regex))return _.valid=!1,_.error=R+A+' extensions must define either a "regex" property or a "filter" method',_;if(P.listeners){if(typeof P.listeners!="object")return _.valid=!1,_.error=R+'"listeners" property must be an object but '+typeof P.listeners+" given",_;for(var H in P.listeners)if(P.listeners.hasOwnProperty(H)&&typeof P.listeners[H]!="function")return _.valid=!1,_.error=R+'"listeners" property must be an hash of [event name]: [callback]. listeners.'+H+" must be a function but "+typeof P.listeners[H]+" given",_}if(P.filter){if(typeof P.filter!="function")return _.valid=!1,_.error=R+'"filter" must be a function, but '+typeof P.filter+" given",_}else if(P.regex){if(r.helper.isString(P.regex)&&(P.regex=new RegExp(P.regex,"g")),!(P.regex instanceof RegExp))return _.valid=!1,_.error=R+'"regex" property must either be a string or a RegExp object, but '+typeof P.regex+" given",_;if(r.helper.isUndefined(P.replace))return _.valid=!1,_.error=R+'"regex" extensions must implement a replace string or function',_}}return _}r.validateExtension=function(m){var S=p(m,null);return S.valid?!0:(console.warn(S.error),!1)},r.hasOwnProperty("helper")||(r.helper={}),r.helper.isString=function(m){return typeof m=="string"||m instanceof String},r.helper.isFunction=function(m){var S={};return m&&S.toString.call(m)==="[object Function]"},r.helper.isArray=function(m){return Array.isArray(m)},r.helper.isUndefined=function(m){return typeof m>"u"},r.helper.forEach=function(m,S){if(r.helper.isUndefined(m))throw new Error("obj param is required");if(r.helper.isUndefined(S))throw new Error("callback param is required");if(!r.helper.isFunction(S))throw new Error("callback param must be a function/closure");if(typeof m.forEach=="function")m.forEach(S);else if(r.helper.isArray(m))for(var x=0;x<m.length;x++)S(m[x],x,m);else if(typeof m=="object")for(var _ in m)m.hasOwnProperty(_)&&S(m[_],_,m);else throw new Error("obj does not seem to be an array or an iterable object")},r.helper.stdExtName=function(m){return m.replace(/[_?*+\/\\.^-]/g,"").replace(/\s/g,"").toLowerCase()};function v(m,S){var x=S.charCodeAt(0);return"E"+x+"E"}r.helper.escapeCharactersCallback=v,r.helper.escapeCharacters=function(m,S,x){var _="(["+S.replace(/([\[\]\\])/g,"\\$1")+"])";x&&(_="\\\\"+_);var b=new RegExp(_,"g");return m=m.replace(b,v),m},r.helper.unescapeHTMLEntities=function(m){return m.replace(/&quot;/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")};var y=function(m,S,x,_){var b=_||"",R=b.indexOf("g")>-1,P=new RegExp(S+"|"+x,"g"+b.replace(/g/g,"")),A=new RegExp(S,b.replace(/g/g,"")),H=[],O,K,Y,F,G;do for(O=0;Y=P.exec(m);)if(A.test(Y[0]))O++||(K=P.lastIndex,F=K-Y[0].length);else if(O&&!--O){G=Y.index+Y[0].length;var z={left:{start:F,end:K},match:{start:K,end:Y.index},right:{start:Y.index,end:G},wholeMatch:{start:F,end:G}};if(H.push(z),!R)return H}while(O&&(P.lastIndex=K));return H};r.helper.matchRecursiveRegExp=function(m,S,x,_){for(var b=y(m,S,x,_),R=[],P=0;P<b.length;++P)R.push([m.slice(b[P].wholeMatch.start,b[P].wholeMatch.end),m.slice(b[P].match.start,b[P].match.end),m.slice(b[P].left.start,b[P].left.end),m.slice(b[P].right.start,b[P].right.end)]);return R},r.helper.replaceRecursiveRegExp=function(m,S,x,_,b){if(!r.helper.isFunction(S)){var R=S;S=function(){return R}}var P=y(m,x,_,b),A=m,H=P.length;if(H>0){var O=[];P[0].wholeMatch.start!==0&&O.push(m.slice(0,P[0].wholeMatch.start));for(var K=0;K<H;++K)O.push(S(m.slice(P[K].wholeMatch.start,P[K].wholeMatch.end),m.slice(P[K].match.start,P[K].match.end),m.slice(P[K].left.start,P[K].left.end),m.slice(P[K].right.start,P[K].right.end))),K<H-1&&O.push(m.slice(P[K].wholeMatch.end,P[K+1].wholeMatch.start));P[H-1].wholeMatch.end<m.length&&O.push(m.slice(P[H-1].wholeMatch.end)),A=O.join("")}return A},r.helper.regexIndexOf=function(m,S,x){if(!r.helper.isString(m))throw"InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string";if(!(S instanceof RegExp))throw"InvalidArgumentError: second parameter of showdown.helper.regexIndexOf function must be an instance of RegExp";var _=m.substring(x||0).search(S);return _>=0?_+(x||0):_},r.helper.splitAtIndex=function(m,S){if(!r.helper.isString(m))throw"InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string";return[m.substring(0,S),m.substring(S)]},r.helper.encodeEmailAddress=function(m){var S=[function(x){return"&#"+x.charCodeAt(0)+";"},function(x){return"&#x"+x.charCodeAt(0).toString(16)+";"},function(x){return x}];return m=m.replace(/./g,function(x){if(x==="@")x=S[Math.floor(Math.random()*2)](x);else{var _=Math.random();x=_>.9?S[2](x):_>.45?S[1](x):S[0](x)}return x}),m},r.helper.padEnd=function(S,x,_){return x=x>>0,_=String(_||" "),S.length>x?String(S):(x=x-S.length,x>_.length&&(_+=_.repeat(x/_.length)),String(S)+_.slice(0,x))},typeof console>"u"&&(console={warn:function(m){alert(m)},log:function(m){alert(m)},error:function(m){throw m}}),r.helper.regexes={asteriskDashAndColon:/([*_:~])/g},r.helper.emojis={"+1":"","-1":"",100:"",1234:"","1st_place_medal":"","2nd_place_medal":"","3rd_place_medal":"","8ball":"",a:"",ab:"",abc:"",abcd:"",accept:"",aerial_tramway:"",airplane:"",alarm_clock:"",alembic:"",alien:"",ambulance:"",amphora:"",anchor:"",angel:"",anger:"",angry:"",anguished:"",ant:"",apple:"",aquarius:"",aries:"",arrow_backward:"",arrow_double_down:"",arrow_double_up:"",arrow_down:"",arrow_down_small:"",arrow_forward:"",arrow_heading_down:"",arrow_heading_up:"",arrow_left:"",arrow_lower_left:"",arrow_lower_right:"",arrow_right:"",arrow_right_hook:"",arrow_up:"",arrow_up_down:"",arrow_up_small:"",arrow_upper_left:"",arrow_upper_right:"",arrows_clockwise:"",arrows_counterclockwise:"",art:"",articulated_lorry:"",artificial_satellite:"",astonished:"",athletic_shoe:"",atm:"",atom_symbol:"",avocado:"",b:"",baby:"",baby_bottle:"",baby_chick:"",baby_symbol:"",back:"",bacon:"",badminton:"",baggage_claim:"",baguette_bread:"",balance_scale:"",balloon:"",ballot_box:"",ballot_box_with_check:"",bamboo:"",banana:"",bangbang:"",bank:"",bar_chart:"",barber:"",baseball:"",basketball:"",basketball_man:"",basketball_woman:"&zwj;",bat:"",bath:"",bathtub:"",battery:"",beach_umbrella:"",bear:"",bed:"",bee:"",beer:"",beers:"",beetle:"",beginner:"",bell:"",bellhop_bell:"",bento:"",biking_man:"",bike:"",biking_woman:"&zwj;",bikini:"",biohazard:"",bird:"",birthday:"",black_circle:"",black_flag:"",black_heart:"",black_joker:"",black_large_square:"",black_medium_small_square:"",black_medium_square:"",black_nib:"",black_small_square:"",black_square_button:"",blonde_man:"",blonde_woman:"&zwj;",blossom:"",blowfish:"",blue_book:"",blue_car:"",blue_heart:"",blush:"",boar:"",boat:"",bomb:"",book:"",bookmark:"",bookmark_tabs:"",books:"",boom:"",boot:"",bouquet:"",bowing_man:"",bow_and_arrow:"",bowing_woman:"&zwj;",bowling:"",boxing_glove:"",boy:"",bread:"",bride_with_veil:"",bridge_at_night:"",briefcase:"",broken_heart:"",bug:"",building_construction:"",bulb:"",bullettrain_front:"",bullettrain_side:"",burrito:"",bus:"",business_suit_levitating:"",busstop:"",bust_in_silhouette:"",busts_in_silhouette:"",butterfly:"",cactus:"",cake:"",calendar:"",call_me_hand:"",calling:"",camel:"",camera:"",camera_flash:"",camping:"",cancer:"",candle:"",candy:"",canoe:"",capital_abcd:"",capricorn:"",car:"",card_file_box:"",card_index:"",card_index_dividers:"",carousel_horse:"",carrot:"",cat:"",cat2:"",cd:"",chains:"",champagne:"",chart:"",chart_with_downwards_trend:"",chart_with_upwards_trend:"",checkered_flag:"",cheese:"",cherries:"",cherry_blossom:"",chestnut:"",chicken:"",children_crossing:"",chipmunk:"",chocolate_bar:"",christmas_tree:"",church:"",cinema:"",circus_tent:"",city_sunrise:"",city_sunset:"",cityscape:"",cl:"",clamp:"",clap:"",clapper:"",classical_building:"",clinking_glasses:"",clipboard:"",clock1:"",clock10:"",clock1030:"",clock11:"",clock1130:"",clock12:"",clock1230:"",clock130:"",clock2:"",clock230:"",clock3:"",clock330:"",clock4:"",clock430:"",clock5:"",clock530:"",clock6:"",clock630:"",clock7:"",clock730:"",clock8:"",clock830:"",clock9:"",clock930:"",closed_book:"",closed_lock_with_key:"",closed_umbrella:"",cloud:"",cloud_with_lightning:"",cloud_with_lightning_and_rain:"",cloud_with_rain:"",cloud_with_snow:"",clown_face:"",clubs:"",cocktail:"",coffee:"",coffin:"",cold_sweat:"",comet:"",computer:"",computer_mouse:"",confetti_ball:"",confounded:"",confused:"",congratulations:"",construction:"",construction_worker_man:"",construction_worker_woman:"&zwj;",control_knobs:"",convenience_store:"",cookie:"",cool:"",policeman:"",copyright:"",corn:"",couch_and_lamp:"",couple:"",couple_with_heart_woman_man:"",couple_with_heart_man_man:"&zwj;&zwj;",couple_with_heart_woman_woman:"&zwj;&zwj;",couplekiss_man_man:"&zwj;&zwj;&zwj;",couplekiss_man_woman:"",couplekiss_woman_woman:"&zwj;&zwj;&zwj;",cow:"",cow2:"",cowboy_hat_face:"",crab:"",crayon:"",credit_card:"",crescent_moon:"",cricket:"",crocodile:"",croissant:"",crossed_fingers:"",crossed_flags:"",crossed_swords:"",crown:"",cry:"",crying_cat_face:"",crystal_ball:"",cucumber:"",cupid:"",curly_loop:"",currency_exchange:"",curry:"",custard:"",customs:"",cyclone:"",dagger:"",dancer:"",dancing_women:"",dancing_men:"&zwj;",dango:"",dark_sunglasses:"",dart:"",dash:"",date:"",deciduous_tree:"",deer:"",department_store:"",derelict_house:"",desert:"",desert_island:"",desktop_computer:"",male_detective:"",diamond_shape_with_a_dot_inside:"",diamonds:"",disappointed:"",disappointed_relieved:"",dizzy:"",dizzy_face:"",do_not_litter:"",dog:"",dog2:"",dollar:"",dolls:"",dolphin:"",door:"",doughnut:"",dove:"",dragon:"",dragon_face:"",dress:"",dromedary_camel:"",drooling_face:"",droplet:"",drum:"",duck:"",dvd:"","e-mail":"",eagle:"",ear:"",ear_of_rice:"",earth_africa:"",earth_americas:"",earth_asia:"",egg:"",eggplant:"",eight_pointed_black_star:"",eight_spoked_asterisk:"",electric_plug:"",elephant:"",email:"",end:"",envelope_with_arrow:"",euro:"",european_castle:"",european_post_office:"",evergreen_tree:"",exclamation:"",expressionless:"",eye:"",eye_speech_bubble:"&zwj;",eyeglasses:"",eyes:"",face_with_head_bandage:"",face_with_thermometer:"",fist_oncoming:"",factory:"",fallen_leaf:"",family_man_woman_boy:"",family_man_boy:"&zwj;",family_man_boy_boy:"&zwj;&zwj;",family_man_girl:"&zwj;",family_man_girl_boy:"&zwj;&zwj;",family_man_girl_girl:"&zwj;&zwj;",family_man_man_boy:"&zwj;&zwj;",family_man_man_boy_boy:"&zwj;&zwj;&zwj;",family_man_man_girl:"&zwj;&zwj;",family_man_man_girl_boy:"&zwj;&zwj;&zwj;",family_man_man_girl_girl:"&zwj;&zwj;&zwj;",family_man_woman_boy_boy:"&zwj;&zwj;&zwj;",family_man_woman_girl:"&zwj;&zwj;",family_man_woman_girl_boy:"&zwj;&zwj;&zwj;",family_man_woman_girl_girl:"&zwj;&zwj;&zwj;",family_woman_boy:"&zwj;",family_woman_boy_boy:"&zwj;&zwj;",family_woman_girl:"&zwj;",family_woman_girl_boy:"&zwj;&zwj;",family_woman_girl_girl:"&zwj;&zwj;",family_woman_woman_boy:"&zwj;&zwj;",family_woman_woman_boy_boy:"&zwj;&zwj;&zwj;",family_woman_woman_girl:"&zwj;&zwj;",family_woman_woman_girl_boy:"&zwj;&zwj;&zwj;",family_woman_woman_girl_girl:"&zwj;&zwj;&zwj;",fast_forward:"",fax:"",fearful:"",feet:"",female_detective:"&zwj;",ferris_wheel:"",ferry:"",field_hockey:"",file_cabinet:"",file_folder:"",film_projector:"",film_strip:"",fire:"",fire_engine:"",fireworks:"",first_quarter_moon:"",first_quarter_moon_with_face:"",fish:"",fish_cake:"",fishing_pole_and_fish:"",fist_raised:"",fist_left:"",fist_right:"",flags:"",flashlight:"",fleur_de_lis:"",flight_arrival:"",flight_departure:"",floppy_disk:"",flower_playing_cards:"",flushed:"",fog:"",foggy:"",football:"",footprints:"",fork_and_knife:"",fountain:"",fountain_pen:"",four_leaf_clover:"",fox_face:"",framed_picture:"",free:"",fried_egg:"",fried_shrimp:"",fries:"",frog:"",frowning:"",frowning_face:"",frowning_man:"&zwj;",frowning_woman:"",middle_finger:"",fuelpump:"",full_moon:"",full_moon_with_face:"",funeral_urn:"",game_die:"",gear:"",gem:"",gemini:"",ghost:"",gift:"",gift_heart:"",girl:"",globe_with_meridians:"",goal_net:"",goat:"",golf:"",golfing_man:"",golfing_woman:"&zwj;",gorilla:"",grapes:"",green_apple:"",green_book:"",green_heart:"",green_salad:"",grey_exclamation:"",grey_question:"",grimacing:"",grin:"",grinning:"",guardsman:"",guardswoman:"&zwj;",guitar:"",gun:"",haircut_woman:"",haircut_man:"&zwj;",hamburger:"",hammer:"",hammer_and_pick:"",hammer_and_wrench:"",hamster:"",hand:"",handbag:"",handshake:"",hankey:"",hatched_chick:"",hatching_chick:"",headphones:"",hear_no_evil:"",heart:"",heart_decoration:"",heart_eyes:"",heart_eyes_cat:"",heartbeat:"",heartpulse:"",hearts:"",heavy_check_mark:"",heavy_division_sign:"",heavy_dollar_sign:"",heavy_heart_exclamation:"",heavy_minus_sign:"",heavy_multiplication_x:"",heavy_plus_sign:"",helicopter:"",herb:"",hibiscus:"",high_brightness:"",high_heel:"",hocho:"",hole:"",honey_pot:"",horse:"",horse_racing:"",hospital:"",hot_pepper:"",hotdog:"",hotel:"",hotsprings:"",hourglass:"",hourglass_flowing_sand:"",house:"",house_with_garden:"",houses:"",hugs:"",hushed:"",ice_cream:"",ice_hockey:"",ice_skate:"",icecream:"",id:"",ideograph_advantage:"",imp:"",inbox_tray:"",incoming_envelope:"",tipping_hand_woman:"",information_source:"",innocent:"",interrobang:"",iphone:"",izakaya_lantern:"",jack_o_lantern:"",japan:"",japanese_castle:"",japanese_goblin:"",japanese_ogre:"",jeans:"",joy:"",joy_cat:"",joystick:"",kaaba:"",key:"",keyboard:"",keycap_ten:"",kick_scooter:"",kimono:"",kiss:"",kissing:"",kissing_cat:"",kissing_closed_eyes:"",kissing_heart:"",kissing_smiling_eyes:"",kiwi_fruit:"",koala:"",koko:"",label:"",large_blue_circle:"",large_blue_diamond:"",large_orange_diamond:"",last_quarter_moon:"",last_quarter_moon_with_face:"",latin_cross:"",laughing:"",leaves:"",ledger:"",left_luggage:"",left_right_arrow:"",leftwards_arrow_with_hook:"",lemon:"",leo:"",leopard:"",level_slider:"",libra:"",light_rail:"",link:"",lion:"",lips:"",lipstick:"",lizard:"",lock:"",lock_with_ink_pen:"",lollipop:"",loop:"",loud_sound:"",loudspeaker:"",love_hotel:"",love_letter:"",low_brightness:"",lying_face:"",m:"",mag:"",mag_right:"",mahjong:"",mailbox:"",mailbox_closed:"",mailbox_with_mail:"",mailbox_with_no_mail:"",man:"",man_artist:"&zwj;",man_astronaut:"&zwj;",man_cartwheeling:"&zwj;",man_cook:"&zwj;",man_dancing:"",man_facepalming:"&zwj;",man_factory_worker:"&zwj;",man_farmer:"&zwj;",man_firefighter:"&zwj;",man_health_worker:"&zwj;",man_in_tuxedo:"",man_judge:"&zwj;",man_juggling:"&zwj;",man_mechanic:"&zwj;",man_office_worker:"&zwj;",man_pilot:"&zwj;",man_playing_handball:"&zwj;",man_playing_water_polo:"&zwj;",man_scientist:"&zwj;",man_shrugging:"&zwj;",man_singer:"&zwj;",man_student:"&zwj;",man_teacher:"&zwj;",man_technologist:"&zwj;",man_with_gua_pi_mao:"",man_with_turban:"",tangerine:"",mans_shoe:"",mantelpiece_clock:"",maple_leaf:"",martial_arts_uniform:"",mask:"",massage_woman:"",massage_man:"&zwj;",meat_on_bone:"",medal_military:"",medal_sports:"",mega:"",melon:"",memo:"",men_wrestling:"&zwj;",menorah:"",mens:"",metal:"",metro:"",microphone:"",microscope:"",milk_glass:"",milky_way:"",minibus:"",minidisc:"",mobile_phone_off:"",money_mouth_face:"",money_with_wings:"",moneybag:"",monkey:"",monkey_face:"",monorail:"",moon:"",mortar_board:"",mosque:"",motor_boat:"",motor_scooter:"",motorcycle:"",motorway:"",mount_fuji:"",mountain:"",mountain_biking_man:"",mountain_biking_woman:"&zwj;",mountain_cableway:"",mountain_railway:"",mountain_snow:"",mouse:"",mouse2:"",movie_camera:"",moyai:"",mrs_claus:"",muscle:"",mushroom:"",musical_keyboard:"",musical_note:"",musical_score:"",mute:"",nail_care:"",name_badge:"",national_park:"",nauseated_face:"",necktie:"",negative_squared_cross_mark:"",nerd_face:"",neutral_face:"",new:"",new_moon:"",new_moon_with_face:"",newspaper:"",newspaper_roll:"",next_track_button:"",ng:"",no_good_man:"&zwj;",no_good_woman:"",night_with_stars:"",no_bell:"",no_bicycles:"",no_entry:"",no_entry_sign:"",no_mobile_phones:"",no_mouth:"",no_pedestrians:"",no_smoking:"","non-potable_water":"",nose:"",notebook:"",notebook_with_decorative_cover:"",notes:"",nut_and_bolt:"",o:"",o2:"",ocean:"",octopus:"",oden:"",office:"",oil_drum:"",ok:"",ok_hand:"",ok_man:"&zwj;",ok_woman:"",old_key:"",older_man:"",older_woman:"",om:"",on:"",oncoming_automobile:"",oncoming_bus:"",oncoming_police_car:"",oncoming_taxi:"",open_file_folder:"",open_hands:"",open_mouth:"",open_umbrella:"",ophiuchus:"",orange_book:"",orthodox_cross:"",outbox_tray:"",owl:"",ox:"",package:"",page_facing_up:"",page_with_curl:"",pager:"",paintbrush:"",palm_tree:"",pancakes:"",panda_face:"",paperclip:"",paperclips:"",parasol_on_ground:"",parking:"",part_alternation_mark:"",partly_sunny:"",passenger_ship:"",passport_control:"",pause_button:"",peace_symbol:"",peach:"",peanuts:"",pear:"",pen:"",pencil2:"",penguin:"",pensive:"",performing_arts:"",persevere:"",person_fencing:"",pouting_woman:"",phone:"",pick:"",pig:"",pig2:"",pig_nose:"",pill:"",pineapple:"",ping_pong:"",pisces:"",pizza:"",place_of_worship:"",plate_with_cutlery:"",play_or_pause_button:"",point_down:"",point_left:"",point_right:"",point_up:"",point_up_2:"",police_car:"",policewoman:"&zwj;",poodle:"",popcorn:"",post_office:"",postal_horn:"",postbox:"",potable_water:"",potato:"",pouch:"",poultry_leg:"",pound:"",rage:"",pouting_cat:"",pouting_man:"&zwj;",pray:"",prayer_beads:"",pregnant_woman:"",previous_track_button:"",prince:"",princess:"",printer:"",purple_heart:"",purse:"",pushpin:"",put_litter_in_its_place:"",question:"",rabbit:"",rabbit2:"",racehorse:"",racing_car:"",radio:"",radio_button:"",radioactive:"",railway_car:"",railway_track:"",rainbow:"",rainbow_flag:"&zwj;",raised_back_of_hand:"",raised_hand_with_fingers_splayed:"",raised_hands:"",raising_hand_woman:"",raising_hand_man:"&zwj;",ram:"",ramen:"",rat:"",record_button:"",recycle:"",red_circle:"",registered:"",relaxed:"",relieved:"",reminder_ribbon:"",repeat:"",repeat_one:"",rescue_worker_helmet:"",restroom:"",revolving_hearts:"",rewind:"",rhinoceros:"",ribbon:"",rice:"",rice_ball:"",rice_cracker:"",rice_scene:"",right_anger_bubble:"",ring:"",robot:"",rocket:"",rofl:"",roll_eyes:"",roller_coaster:"",rooster:"",rose:"",rosette:"",rotating_light:"",round_pushpin:"",rowing_man:"",rowing_woman:"&zwj;",rugby_football:"",running_man:"",running_shirt_with_sash:"",running_woman:"&zwj;",sa:"",sagittarius:"",sake:"",sandal:"",santa:"",satellite:"",saxophone:"",school:"",school_satchel:"",scissors:"",scorpion:"",scorpius:"",scream:"",scream_cat:"",scroll:"",seat:"",secret:"",see_no_evil:"",seedling:"",selfie:"",shallow_pan_of_food:"",shamrock:"",shark:"",shaved_ice:"",sheep:"",shell:"",shield:"",shinto_shrine:"",ship:"",shirt:"",shopping:"",shopping_cart:"",shower:"",shrimp:"",signal_strength:"",six_pointed_star:"",ski:"",skier:"",skull:"",skull_and_crossbones:"",sleeping:"",sleeping_bed:"",sleepy:"",slightly_frowning_face:"",slightly_smiling_face:"",slot_machine:"",small_airplane:"",small_blue_diamond:"",small_orange_diamond:"",small_red_triangle:"",small_red_triangle_down:"",smile:"",smile_cat:"",smiley:"",smiley_cat:"",smiling_imp:"",smirk:"",smirk_cat:"",smoking:"",snail:"",snake:"",sneezing_face:"",snowboarder:"",snowflake:"",snowman:"",snowman_with_snow:"",sob:"",soccer:"",soon:"",sos:"",sound:"",space_invader:"",spades:"",spaghetti:"",sparkle:"",sparkler:"",sparkles:"",sparkling_heart:"",speak_no_evil:"",speaker:"",speaking_head:"",speech_balloon:"",speedboat:"",spider:"",spider_web:"",spiral_calendar:"",spiral_notepad:"",spoon:"",squid:"",stadium:"",star:"",star2:"",star_and_crescent:"",star_of_david:"",stars:"",station:"",statue_of_liberty:"",steam_locomotive:"",stew:"",stop_button:"",stop_sign:"",stopwatch:"",straight_ruler:"",strawberry:"",stuck_out_tongue:"",stuck_out_tongue_closed_eyes:"",stuck_out_tongue_winking_eye:"",studio_microphone:"",stuffed_flatbread:"",sun_behind_large_cloud:"",sun_behind_rain_cloud:"",sun_behind_small_cloud:"",sun_with_face:"",sunflower:"",sunglasses:"",sunny:"",sunrise:"",sunrise_over_mountains:"",surfing_man:"",surfing_woman:"&zwj;",sushi:"",suspension_railway:"",sweat:"",sweat_drops:"",sweat_smile:"",sweet_potato:"",swimming_man:"",swimming_woman:"&zwj;",symbols:"",synagogue:"",syringe:"",taco:"",tada:"",tanabata_tree:"",taurus:"",taxi:"",tea:"",telephone_receiver:"",telescope:"",tennis:"",tent:"",thermometer:"",thinking:"",thought_balloon:"",ticket:"",tickets:"",tiger:"",tiger2:"",timer_clock:"",tipping_hand_man:"&zwj;",tired_face:"",tm:"",toilet:"",tokyo_tower:"",tomato:"",tongue:"",top:"",tophat:"",tornado:"",trackball:"",tractor:"",traffic_light:"",train:"",train2:"",tram:"",triangular_flag_on_post:"",triangular_ruler:"",trident:"",triumph:"",trolleybus:"",trophy:"",tropical_drink:"",tropical_fish:"",truck:"",trumpet:"",tulip:"",tumbler_glass:"",turkey:"",turtle:"",tv:"",twisted_rightwards_arrows:"",two_hearts:"",two_men_holding_hands:"",two_women_holding_hands:"",u5272:"",u5408:"",u55b6:"",u6307:"",u6708:"",u6709:"",u6e80:"",u7121:"",u7533:"",u7981:"",u7a7a:"",umbrella:"",unamused:"",underage:"",unicorn:"",unlock:"",up:"",upside_down_face:"",v:"",vertical_traffic_light:"",vhs:"",vibration_mode:"",video_camera:"",video_game:"",violin:"",virgo:"",volcano:"",volleyball:"",vs:"",vulcan_salute:"",walking_man:"",walking_woman:"&zwj;",waning_crescent_moon:"",waning_gibbous_moon:"",warning:"",wastebasket:"",watch:"",water_buffalo:"",watermelon:"",wave:"",wavy_dash:"",waxing_crescent_moon:"",wc:"",weary:"",wedding:"",weight_lifting_man:"",weight_lifting_woman:"&zwj;",whale:"",whale2:"",wheel_of_dharma:"",wheelchair:"",white_check_mark:"",white_circle:"",white_flag:"",white_flower:"",white_large_square:"",white_medium_small_square:"",white_medium_square:"",white_small_square:"",white_square_button:"",wilted_flower:"",wind_chime:"",wind_face:"",wine_glass:"",wink:"",wolf:"",woman:"",woman_artist:"&zwj;",woman_astronaut:"&zwj;",woman_cartwheeling:"&zwj;",woman_cook:"&zwj;",woman_facepalming:"&zwj;",woman_factory_worker:"&zwj;",woman_farmer:"&zwj;",woman_firefighter:"&zwj;",woman_health_worker:"&zwj;",woman_judge:"&zwj;",woman_juggling:"&zwj;",woman_mechanic:"&zwj;",woman_office_worker:"&zwj;",woman_pilot:"&zwj;",woman_playing_handball:"&zwj;",woman_playing_water_polo:"&zwj;",woman_scientist:"&zwj;",woman_shrugging:"&zwj;",woman_singer:"&zwj;",woman_student:"&zwj;",woman_teacher:"&zwj;",woman_technologist:"&zwj;",woman_with_turban:"&zwj;",womans_clothes:"",womans_hat:"",women_wrestling:"&zwj;",womens:"",world_map:"",worried:"",wrench:"",writing_hand:"",x:"",yellow_heart:"",yen:"",yin_yang:"",yum:"",zap:"",zipper_mouth_face:"",zzz:"",octocat:'<img alt=":octocat:" height="20" width="20" align="absmiddle" src="https://assets-cdn.github.com/images/icons/emoji/octocat.png">',showdown:`<span style="font-family: 'Anonymous Pro', monospace; text-decoration: underline; text-decoration-style: dashed; text-decoration-color: #3e8b8a;text-underline-position: under;">S</span>`},r.Converter=function(m){var S={},x=[],_=[],b={},R=u,P={parsed:{},raw:"",format:""};A();function A(){m=m||{};for(var F in l)l.hasOwnProperty(F)&&(S[F]=l[F]);if(typeof m=="object")for(var G in m)m.hasOwnProperty(G)&&(S[G]=m[G]);else throw Error("Converter expects the passed parameter to be an object, but "+typeof m+" was passed instead.");S.extensions&&r.helper.forEach(S.extensions,H)}function H(F,G){if(G=G||null,r.helper.isString(F))if(F=r.helper.stdExtName(F),G=F,r.extensions[F]){console.warn("DEPRECATION WARNING: "+F+" is an old extension that uses a deprecated loading method.Please inform the developer that the extension should be updated!"),O(r.extensions[F],F);return}else if(!r.helper.isUndefined(o[F]))F=o[F];else throw Error('Extension "'+F+'" could not be loaded. It was either not found or is not a valid extension.');typeof F=="function"&&(F=F()),r.helper.isArray(F)||(F=[F]);var z=p(F,G);if(!z.valid)throw Error(z.error);for(var Z=0;Z<F.length;++Z){switch(F[Z].type){case"lang":x.push(F[Z]);break;case"output":_.push(F[Z]);break}if(F[Z].hasOwnProperty("listeners"))for(var ee in F[Z].listeners)F[Z].listeners.hasOwnProperty(ee)&&K(ee,F[Z].listeners[ee])}}function O(F,G){typeof F=="function"&&(F=F(new r.Converter)),r.helper.isArray(F)||(F=[F]);var z=p(F,G);if(!z.valid)throw Error(z.error);for(var Z=0;Z<F.length;++Z)switch(F[Z].type){case"lang":x.push(F[Z]);break;case"output":_.push(F[Z]);break;default:throw Error("Extension loader error: Type unrecognized!!!")}}function K(F,G){if(!r.helper.isString(F))throw Error("Invalid argument in converter.listen() method: name must be a string, but "+typeof F+" given");if(typeof G!="function")throw Error("Invalid argument in converter.listen() method: callback must be a function, but "+typeof G+" given");b.hasOwnProperty(F)||(b[F]=[]),b[F].push(G)}function Y(F){var G=F.match(/^\s*/)[0].length,z=new RegExp("^\\s{0,"+G+"}","gm");return F.replace(z,"")}this._dispatch=function(G,z,Z,ee){if(b.hasOwnProperty(G))for(var W=0;W<b[G].length;++W){var J=b[G][W](G,z,this,Z,ee);J&&typeof J<"u"&&(z=J)}return z},this.listen=function(F,G){return K(F,G),this},this.makeHtml=function(F){if(!F)return F;var G={gHtmlBlocks:[],gHtmlMdBlocks:[],gHtmlSpans:[],gUrls:{},gTitles:{},gDimensions:{},gListLevel:0,hashLinkCounts:{},langExtensions:x,outputModifiers:_,converter:this,ghCodeBlocks:[],metadata:{parsed:{},raw:"",format:""}};return F=F.replace(//g,"T"),F=F.replace(/\$/g,"D"),F=F.replace(/\r\n/g,`
`),F=F.replace(/\r/g,`
`),F=F.replace(/\u00A0/g,"&nbsp;"),S.smartIndentationFix&&(F=Y(F)),F=`

`+F+`

`,F=r.subParser("detab")(F,S,G),F=F.replace(/^[ \t]+$/mg,""),r.helper.forEach(x,function(z){F=r.subParser("runExtension")(z,F,S,G)}),F=r.subParser("metadata")(F,S,G),F=r.subParser("hashPreCodeTags")(F,S,G),F=r.subParser("githubCodeBlocks")(F,S,G),F=r.subParser("hashHTMLBlocks")(F,S,G),F=r.subParser("hashCodeTags")(F,S,G),F=r.subParser("stripLinkDefinitions")(F,S,G),F=r.subParser("blockGamut")(F,S,G),F=r.subParser("unhashHTMLSpans")(F,S,G),F=r.subParser("unescapeSpecialChars")(F,S,G),F=F.replace(/D/g,"$$"),F=F.replace(/T/g,""),F=r.subParser("completeHTMLDocument")(F,S,G),r.helper.forEach(_,function(z){F=r.subParser("runExtension")(z,F,S,G)}),P=G.metadata,F},this.makeMarkdown=this.makeMd=function(F,G){if(F=F.replace(/\r\n/g,`
`),F=F.replace(/\r/g,`
`),F=F.replace(/>[ \t]+</,">NBSP;<"),!G)if(window&&window.document)G=window.document;else throw new Error("HTMLParser is undefined. If in a webworker or nodejs environment, you need to provide a WHATWG DOM and HTML such as JSDOM");var z=G.createElement("div");z.innerHTML=F;var Z={preList:_e(z)};ue(z);for(var ee=z.childNodes,W="",J=0;J<ee.length;J++)W+=r.subParser("makeMarkdown.node")(ee[J],Z);function ue(Te){for(var ce=0;ce<Te.childNodes.length;++ce){var pe=Te.childNodes[ce];pe.nodeType===3?!/\S/.test(pe.nodeValue)&&!/^[ ]+$/.test(pe.nodeValue)?(Te.removeChild(pe),--ce):(pe.nodeValue=pe.nodeValue.split(`
`).join(" "),pe.nodeValue=pe.nodeValue.replace(/(\s)+/g,"$1")):pe.nodeType===1&&ue(pe)}}function _e(Te){for(var ce=Te.querySelectorAll("pre"),pe=[],Re=0;Re<ce.length;++Re)if(ce[Re].childElementCount===1&&ce[Re].firstChild.tagName.toLowerCase()==="code"){var Ie=ce[Re].firstChild.innerHTML.trim(),je=ce[Re].firstChild.getAttribute("data-language")||"";if(je==="")for(var Ze=ce[Re].firstChild.className.split(" "),mt=0;mt<Ze.length;++mt){var vt=Ze[mt].match(/^language-(.+)$/);if(vt!==null){je=vt[1];break}}Ie=r.helper.unescapeHTMLEntities(Ie),pe.push(Ie),ce[Re].outerHTML='<precode language="'+je+'" precodenum="'+Re.toString()+'"></precode>'}else pe.push(ce[Re].innerHTML),ce[Re].innerHTML="",ce[Re].setAttribute("prenum",Re.toString());return pe}return W},this.setOption=function(F,G){S[F]=G},this.getOption=function(F){return S[F]},this.getOptions=function(){return S},this.addExtension=function(F,G){G=G||null,H(F,G)},this.useExtension=function(F){H(F)},this.setFlavor=function(F){if(!h.hasOwnProperty(F))throw Error(F+" flavor was not found");var G=h[F];R=F;for(var z in G)G.hasOwnProperty(z)&&(S[z]=G[z])},this.getFlavor=function(){return R},this.removeExtension=function(F){r.helper.isArray(F)||(F=[F]);for(var G=0;G<F.length;++G){for(var z=F[G],Z=0;Z<x.length;++Z)x[Z]===z&&x.splice(Z,1);for(var ee=0;ee<_.length;++ee)_[ee]===z&&_.splice(ee,1)}},this.getAllExtensions=function(){return{language:x,output:_}},this.getMetadata=function(F){return F?P.raw:P.parsed},this.getMetadataFormat=function(){return P.format},this._setMetadataPair=function(F,G){P.parsed[F]=G},this._setMetadataFormat=function(F){P.format=F},this._setMetadataRaw=function(F){P.raw=F}},r.subParser("anchors",function(m,S,x){m=x.converter._dispatch("anchors.before",m,S,x);var _=function(b,R,P,A,H,O,K){if(r.helper.isUndefined(K)&&(K=""),P=P.toLowerCase(),b.search(/\(<?\s*>? ?(['"].*['"])?\)$/m)>-1)A="";else if(!A)if(P||(P=R.toLowerCase().replace(/ ?\n/g," ")),A="#"+P,!r.helper.isUndefined(x.gUrls[P]))A=x.gUrls[P],r.helper.isUndefined(x.gTitles[P])||(K=x.gTitles[P]);else return b;A=A.replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback);var Y='<a href="'+A+'"';return K!==""&&K!==null&&(K=K.replace(/"/g,"&quot;"),K=K.replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback),Y+=' title="'+K+'"'),S.openLinksInNewWindow&&!/^#/.test(A)&&(Y+=' rel="noopener noreferrer" target="E95Eblank"'),Y+=">"+R+"</a>",Y};return m=m.replace(/\[((?:\[[^\]]*]|[^\[\]])*)] ?(?:\n *)?\[(.*?)]()()()()/g,_),m=m.replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<([^>]*)>(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,_),m=m.replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,_),m=m.replace(/\[([^\[\]]+)]()()()()()/g,_),S.ghMentions&&(m=m.replace(/(^|\s)(\\)?(@([a-z\d]+(?:[a-z\d.-]+?[a-z\d]+)*))/gmi,function(b,R,P,A,H){if(P==="\\")return R+A;if(!r.helper.isString(S.ghMentionsLink))throw new Error("ghMentionsLink option must be a string");var O=S.ghMentionsLink.replace(/\{u}/g,H),K="";return S.openLinksInNewWindow&&(K=' rel="noopener noreferrer" target="E95Eblank"'),R+'<a href="'+O+'"'+K+">"+A+"</a>"})),m=x.converter._dispatch("anchors.after",m,S,x),m});var T=/([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+?\.[^'">\s]+?)()(\1)?(?=\s|$)(?!["<>])/gi,k=/([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+\.[^'">\s]+?)([.!?,()\[\]])?(\1)?(?=\s|$)(?!["<>])/gi,N=/()<(((https?|ftp|dict):\/\/|www\.)[^'">\s]+)()>()/gi,D=/(^|\s)(?:mailto:)?([A-Za-z0-9!#$%&'*+-/=?^_`{|}~.]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)(?=$|\s)/gmi,j=/<()(?:mailto:)?([-.\w]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)>/gi,L=function(m){return function(S,x,_,b,R,P,A){_=_.replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback);var H=_,O="",K="",Y=x||"",F=A||"";return/^www\./i.test(_)&&(_=_.replace(/^www\./i,"http://www.")),m.excludeTrailingPunctuationFromURLs&&P&&(O=P),m.openLinksInNewWindow&&(K=' rel="noopener noreferrer" target="E95Eblank"'),Y+'<a href="'+_+'"'+K+">"+H+"</a>"+O+F}},U=function(m,S){return function(x,_,b){var R="mailto:";return _=_||"",b=r.subParser("unescapeSpecialChars")(b,m,S),m.encodeEmails?(R=r.helper.encodeEmailAddress(R+b),b=r.helper.encodeEmailAddress(b)):R=R+b,_+'<a href="'+R+'">'+b+"</a>"}};r.subParser("autoLinks",function(m,S,x){return m=x.converter._dispatch("autoLinks.before",m,S,x),m=m.replace(N,L(S)),m=m.replace(j,U(S,x)),m=x.converter._dispatch("autoLinks.after",m,S,x),m}),r.subParser("simplifiedAutoLinks",function(m,S,x){return S.simplifiedAutoLink&&(m=x.converter._dispatch("simplifiedAutoLinks.before",m,S,x),S.excludeTrailingPunctuationFromURLs?m=m.replace(k,L(S)):m=m.replace(T,L(S)),m=m.replace(D,U(S,x)),m=x.converter._dispatch("simplifiedAutoLinks.after",m,S,x)),m}),r.subParser("blockGamut",function(m,S,x){return m=x.converter._dispatch("blockGamut.before",m,S,x),m=r.subParser("blockQuotes")(m,S,x),m=r.subParser("headers")(m,S,x),m=r.subParser("horizontalRule")(m,S,x),m=r.subParser("lists")(m,S,x),m=r.subParser("codeBlocks")(m,S,x),m=r.subParser("tables")(m,S,x),m=r.subParser("hashHTMLBlocks")(m,S,x),m=r.subParser("paragraphs")(m,S,x),m=x.converter._dispatch("blockGamut.after",m,S,x),m}),r.subParser("blockQuotes",function(m,S,x){m=x.converter._dispatch("blockQuotes.before",m,S,x),m=m+`

`;var _=/(^ {0,3}>[ \t]?.+\n(.+\n)*\n*)+/gm;return S.splitAdjacentBlockquotes&&(_=/^ {0,3}>[\s\S]*?(?:\n\n)/gm),m=m.replace(_,function(b){return b=b.replace(/^[ \t]*>[ \t]?/gm,""),b=b.replace(/0/g,""),b=b.replace(/^[ \t]+$/gm,""),b=r.subParser("githubCodeBlocks")(b,S,x),b=r.subParser("blockGamut")(b,S,x),b=b.replace(/(^|\n)/g,"$1  "),b=b.replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(R,P){var A=P;return A=A.replace(/^  /mg,"0"),A=A.replace(/0/g,""),A}),r.subParser("hashBlock")(`<blockquote>
`+b+`
</blockquote>`,S,x)}),m=x.converter._dispatch("blockQuotes.after",m,S,x),m}),r.subParser("codeBlocks",function(m,S,x){m=x.converter._dispatch("codeBlocks.before",m,S,x),m+="0";var _=/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=0))/g;return m=m.replace(_,function(b,R,P){var A=R,H=P,O=`
`;return A=r.subParser("outdent")(A,S,x),A=r.subParser("encodeCode")(A,S,x),A=r.subParser("detab")(A,S,x),A=A.replace(/^\n+/g,""),A=A.replace(/\n+$/g,""),S.omitExtraWLInCodeBlocks&&(O=""),A="<pre><code>"+A+O+"</code></pre>",r.subParser("hashBlock")(A,S,x)+H}),m=m.replace(/0/,""),m=x.converter._dispatch("codeBlocks.after",m,S,x),m}),r.subParser("codeSpans",function(m,S,x){return m=x.converter._dispatch("codeSpans.before",m,S,x),typeof m>"u"&&(m=""),m=m.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,function(_,b,R,P){var A=P;return A=A.replace(/^([ \t]*)/g,""),A=A.replace(/[ \t]*$/g,""),A=r.subParser("encodeCode")(A,S,x),A=b+"<code>"+A+"</code>",A=r.subParser("hashHTMLSpans")(A,S,x),A}),m=x.converter._dispatch("codeSpans.after",m,S,x),m}),r.subParser("completeHTMLDocument",function(m,S,x){if(!S.completeHTMLDocument)return m;m=x.converter._dispatch("completeHTMLDocument.before",m,S,x);var _="html",b=`<!DOCTYPE HTML>
`,R="",P=`<meta charset="utf-8">
`,A="",H="";typeof x.metadata.parsed.doctype<"u"&&(b="<!DOCTYPE "+x.metadata.parsed.doctype+`>
`,_=x.metadata.parsed.doctype.toString().toLowerCase(),(_==="html"||_==="html5")&&(P='<meta charset="utf-8">'));for(var O in x.metadata.parsed)if(x.metadata.parsed.hasOwnProperty(O))switch(O.toLowerCase()){case"doctype":break;case"title":R="<title>"+x.metadata.parsed.title+`</title>
`;break;case"charset":_==="html"||_==="html5"?P='<meta charset="'+x.metadata.parsed.charset+`">
`:P='<meta name="charset" content="'+x.metadata.parsed.charset+`">
`;break;case"language":case"lang":A=' lang="'+x.metadata.parsed[O]+'"',H+='<meta name="'+O+'" content="'+x.metadata.parsed[O]+`">
`;break;default:H+='<meta name="'+O+'" content="'+x.metadata.parsed[O]+`">
`}return m=b+"<html"+A+`>
<head>
`+R+P+H+`</head>
<body>
`+m.trim()+`
</body>
</html>`,m=x.converter._dispatch("completeHTMLDocument.after",m,S,x),m}),r.subParser("detab",function(m,S,x){return m=x.converter._dispatch("detab.before",m,S,x),m=m.replace(/\t(?=\t)/g,"    "),m=m.replace(/\t/g,"AB"),m=m.replace(/B(.+?)A/g,function(_,b){for(var R=b,P=4-R.length%4,A=0;A<P;A++)R+=" ";return R}),m=m.replace(/A/g,"    "),m=m.replace(/B/g,""),m=x.converter._dispatch("detab.after",m,S,x),m}),r.subParser("ellipsis",function(m,S,x){return S.ellipsis&&(m=x.converter._dispatch("ellipsis.before",m,S,x),m=m.replace(/\.\.\./g,""),m=x.converter._dispatch("ellipsis.after",m,S,x)),m}),r.subParser("emoji",function(m,S,x){if(!S.emoji)return m;m=x.converter._dispatch("emoji.before",m,S,x);var _=/:([\S]+?):/g;return m=m.replace(_,function(b,R){return r.helper.emojis.hasOwnProperty(R)?r.helper.emojis[R]:b}),m=x.converter._dispatch("emoji.after",m,S,x),m}),r.subParser("encodeAmpsAndAngles",function(m,S,x){return m=x.converter._dispatch("encodeAmpsAndAngles.before",m,S,x),m=m.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;"),m=m.replace(/<(?![a-z\/?$!])/gi,"&lt;"),m=m.replace(/</g,"&lt;"),m=m.replace(/>/g,"&gt;"),m=x.converter._dispatch("encodeAmpsAndAngles.after",m,S,x),m}),r.subParser("encodeBackslashEscapes",function(m,S,x){return m=x.converter._dispatch("encodeBackslashEscapes.before",m,S,x),m=m.replace(/\\(\\)/g,r.helper.escapeCharactersCallback),m=m.replace(/\\([`*_{}\[\]()>#+.!~=|:-])/g,r.helper.escapeCharactersCallback),m=x.converter._dispatch("encodeBackslashEscapes.after",m,S,x),m}),r.subParser("encodeCode",function(m,S,x){return m=x.converter._dispatch("encodeCode.before",m,S,x),m=m.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/([*_{}\[\]\\=~-])/g,r.helper.escapeCharactersCallback),m=x.converter._dispatch("encodeCode.after",m,S,x),m}),r.subParser("escapeSpecialCharsWithinTagAttributes",function(m,S,x){m=x.converter._dispatch("escapeSpecialCharsWithinTagAttributes.before",m,S,x);var _=/<\/?[a-z\d_:-]+(?:[\s]+[\s\S]+?)?>/gi,b=/<!(--(?:(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>/gi;return m=m.replace(_,function(R){return R.replace(/(.)<\/?code>(?=.)/g,"$1`").replace(/([\\`*_~=|])/g,r.helper.escapeCharactersCallback)}),m=m.replace(b,function(R){return R.replace(/([\\`*_~=|])/g,r.helper.escapeCharactersCallback)}),m=x.converter._dispatch("escapeSpecialCharsWithinTagAttributes.after",m,S,x),m}),r.subParser("githubCodeBlocks",function(m,S,x){return S.ghCodeBlocks?(m=x.converter._dispatch("githubCodeBlocks.before",m,S,x),m+="0",m=m.replace(/(?:^|\n)(?: {0,3})(```+|~~~+)(?: *)([^\s`~]*)\n([\s\S]*?)\n(?: {0,3})\1/g,function(_,b,R,P){var A=S.omitExtraWLInCodeBlocks?"":`
`;return P=r.subParser("encodeCode")(P,S,x),P=r.subParser("detab")(P,S,x),P=P.replace(/^\n+/g,""),P=P.replace(/\n+$/g,""),P="<pre><code"+(R?' class="'+R+" language-"+R+'"':"")+">"+P+A+"</code></pre>",P=r.subParser("hashBlock")(P,S,x),`

G`+(x.ghCodeBlocks.push({text:_,codeblock:P})-1)+`G

`}),m=m.replace(/0/,""),x.converter._dispatch("githubCodeBlocks.after",m,S,x)):m}),r.subParser("hashBlock",function(m,S,x){return m=x.converter._dispatch("hashBlock.before",m,S,x),m=m.replace(/(^\n+|\n+$)/g,""),m=`

K`+(x.gHtmlBlocks.push(m)-1)+`K

`,m=x.converter._dispatch("hashBlock.after",m,S,x),m}),r.subParser("hashCodeTags",function(m,S,x){m=x.converter._dispatch("hashCodeTags.before",m,S,x);var _=function(b,R,P,A){var H=P+r.subParser("encodeCode")(R,S,x)+A;return"C"+(x.gHtmlSpans.push(H)-1)+"C"};return m=r.helper.replaceRecursiveRegExp(m,_,"<code\\b[^>]*>","</code>","gim"),m=x.converter._dispatch("hashCodeTags.after",m,S,x),m}),r.subParser("hashElement",function(m,S,x){return function(_,b){var R=b;return R=R.replace(/\n\n/g,`
`),R=R.replace(/^\n/,""),R=R.replace(/\n+$/g,""),R=`

K`+(x.gHtmlBlocks.push(R)-1)+`K

`,R}}),r.subParser("hashHTMLBlocks",function(m,S,x){m=x.converter._dispatch("hashHTMLBlocks.before",m,S,x);var _=["pre","div","h1","h2","h3","h4","h5","h6","blockquote","table","dl","ol","ul","script","noscript","form","fieldset","iframe","math","style","section","header","footer","nav","article","aside","address","audio","canvas","figure","hgroup","output","video","p"],b=function(F,G,z,Z){var ee=F;return z.search(/\bmarkdown\b/)!==-1&&(ee=z+x.converter.makeHtml(G)+Z),`

K`+(x.gHtmlBlocks.push(ee)-1)+`K

`};S.backslashEscapesHTMLTags&&(m=m.replace(/\\<(\/?[^>]+?)>/g,function(F,G){return"&lt;"+G+"&gt;"}));for(var R=0;R<_.length;++R)for(var P,A=new RegExp("^ {0,3}(<"+_[R]+"\\b[^>]*>)","im"),H="<"+_[R]+"\\b[^>]*>",O="</"+_[R]+">";(P=r.helper.regexIndexOf(m,A))!==-1;){var K=r.helper.splitAtIndex(m,P),Y=r.helper.replaceRecursiveRegExp(K[1],b,H,O,"im");if(Y===K[1])break;m=K[0].concat(Y)}return m=m.replace(/(\n {0,3}(<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,r.subParser("hashElement")(m,S,x)),m=r.helper.replaceRecursiveRegExp(m,function(F){return`

K`+(x.gHtmlBlocks.push(F)-1)+`K

`},"^ {0,3}<!--","-->","gm"),m=m.replace(/(?:\n\n)( {0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,r.subParser("hashElement")(m,S,x)),m=x.converter._dispatch("hashHTMLBlocks.after",m,S,x),m}),r.subParser("hashHTMLSpans",function(m,S,x){m=x.converter._dispatch("hashHTMLSpans.before",m,S,x);function _(b){return"C"+(x.gHtmlSpans.push(b)-1)+"C"}return m=m.replace(/<[^>]+?\/>/gi,function(b){return _(b)}),m=m.replace(/<([^>]+?)>[\s\S]*?<\/\1>/g,function(b){return _(b)}),m=m.replace(/<([^>]+?)\s[^>]+?>[\s\S]*?<\/\1>/g,function(b){return _(b)}),m=m.replace(/<[^>]+?>/gi,function(b){return _(b)}),m=x.converter._dispatch("hashHTMLSpans.after",m,S,x),m}),r.subParser("unhashHTMLSpans",function(m,S,x){m=x.converter._dispatch("unhashHTMLSpans.before",m,S,x);for(var _=0;_<x.gHtmlSpans.length;++_){for(var b=x.gHtmlSpans[_],R=0;/C(\d+)C/.test(b);){var P=RegExp.$1;if(b=b.replace("C"+P+"C",x.gHtmlSpans[P]),R===10){console.error("maximum nesting of 10 spans reached!!!");break}++R}m=m.replace("C"+_+"C",b)}return m=x.converter._dispatch("unhashHTMLSpans.after",m,S,x),m}),r.subParser("hashPreCodeTags",function(m,S,x){m=x.converter._dispatch("hashPreCodeTags.before",m,S,x);var _=function(b,R,P,A){var H=P+r.subParser("encodeCode")(R,S,x)+A;return`

G`+(x.ghCodeBlocks.push({text:b,codeblock:H})-1)+`G

`};return m=r.helper.replaceRecursiveRegExp(m,_,"^ {0,3}<pre\\b[^>]*>\\s*<code\\b[^>]*>","^ {0,3}</code>\\s*</pre>","gim"),m=x.converter._dispatch("hashPreCodeTags.after",m,S,x),m}),r.subParser("headers",function(m,S,x){m=x.converter._dispatch("headers.before",m,S,x);var _=isNaN(parseInt(S.headerLevelStart))?1:parseInt(S.headerLevelStart),b=S.smoothLivePreview?/^(.+)[ \t]*\n={2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n=+[ \t]*\n+/gm,R=S.smoothLivePreview?/^(.+)[ \t]*\n-{2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n-+[ \t]*\n+/gm;m=m.replace(b,function(H,O){var K=r.subParser("spanGamut")(O,S,x),Y=S.noHeaderId?"":' id="'+A(O)+'"',F=_,G="<h"+F+Y+">"+K+"</h"+F+">";return r.subParser("hashBlock")(G,S,x)}),m=m.replace(R,function(H,O){var K=r.subParser("spanGamut")(O,S,x),Y=S.noHeaderId?"":' id="'+A(O)+'"',F=_+1,G="<h"+F+Y+">"+K+"</h"+F+">";return r.subParser("hashBlock")(G,S,x)});var P=S.requireSpaceBeforeHeadingText?/^(#{1,6})[ \t]+(.+?)[ \t]*#*\n+/gm:/^(#{1,6})[ \t]*(.+?)[ \t]*#*\n+/gm;m=m.replace(P,function(H,O,K){var Y=K;S.customizedHeaderId&&(Y=K.replace(/\s?\{([^{]+?)}\s*$/,""));var F=r.subParser("spanGamut")(Y,S,x),G=S.noHeaderId?"":' id="'+A(K)+'"',z=_-1+O.length,Z="<h"+z+G+">"+F+"</h"+z+">";return r.subParser("hashBlock")(Z,S,x)});function A(H){var O,K;if(S.customizedHeaderId){var Y=H.match(/\{([^{]+?)}\s*$/);Y&&Y[1]&&(H=Y[1])}return O=H,r.helper.isString(S.prefixHeaderId)?K=S.prefixHeaderId:S.prefixHeaderId===!0?K="section-":K="",S.rawPrefixHeaderId||(O=K+O),S.ghCompatibleHeaderId?O=O.replace(/ /g,"-").replace(/&amp;/g,"").replace(/T/g,"").replace(/D/g,"").replace(/[&+$,\/:;=?@"#{}|^~\[\]`\\*)(%.!'<>]/g,"").toLowerCase():S.rawHeaderId?O=O.replace(/ /g,"-").replace(/&amp;/g,"&").replace(/T/g,"").replace(/D/g,"$").replace(/["']/g,"-").toLowerCase():O=O.replace(/[^\w]/g,"").toLowerCase(),S.rawPrefixHeaderId&&(O=K+O),x.hashLinkCounts[O]?O=O+"-"+x.hashLinkCounts[O]++:x.hashLinkCounts[O]=1,O}return m=x.converter._dispatch("headers.after",m,S,x),m}),r.subParser("horizontalRule",function(m,S,x){m=x.converter._dispatch("horizontalRule.before",m,S,x);var _=r.subParser("hashBlock")("<hr />",S,x);return m=m.replace(/^ {0,2}( ?-){3,}[ \t]*$/gm,_),m=m.replace(/^ {0,2}( ?\*){3,}[ \t]*$/gm,_),m=m.replace(/^ {0,2}( ?_){3,}[ \t]*$/gm,_),m=x.converter._dispatch("horizontalRule.after",m,S,x),m}),r.subParser("images",function(m,S,x){m=x.converter._dispatch("images.before",m,S,x);var _=/!\[([^\]]*?)][ \t]*()\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,b=/!\[([^\]]*?)][ \t]*()\([ \t]?<([^>]*)>(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(?:(["'])([^"]*?)\6))?[ \t]?\)/g,R=/!\[([^\]]*?)][ \t]*()\([ \t]?<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,P=/!\[([^\]]*?)] ?(?:\n *)?\[([\s\S]*?)]()()()()()/g,A=/!\[([^\[\]]+)]()()()()()/g;function H(K,Y,F,G,z,Z,ee,W){return G=G.replace(/\s/g,""),O(K,Y,F,G,z,Z,ee,W)}function O(K,Y,F,G,z,Z,ee,W){var J=x.gUrls,ue=x.gTitles,_e=x.gDimensions;if(F=F.toLowerCase(),W||(W=""),K.search(/\(<?\s*>? ?(['"].*['"])?\)$/m)>-1)G="";else if(G===""||G===null)if((F===""||F===null)&&(F=Y.toLowerCase().replace(/ ?\n/g," ")),G="#"+F,!r.helper.isUndefined(J[F]))G=J[F],r.helper.isUndefined(ue[F])||(W=ue[F]),r.helper.isUndefined(_e[F])||(z=_e[F].width,Z=_e[F].height);else return K;Y=Y.replace(/"/g,"&quot;").replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback),G=G.replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback);var Te='<img src="'+G+'" alt="'+Y+'"';return W&&r.helper.isString(W)&&(W=W.replace(/"/g,"&quot;").replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback),Te+=' title="'+W+'"'),z&&Z&&(z=z==="*"?"auto":z,Z=Z==="*"?"auto":Z,Te+=' width="'+z+'"',Te+=' height="'+Z+'"'),Te+=" />",Te}return m=m.replace(P,O),m=m.replace(R,H),m=m.replace(b,O),m=m.replace(_,O),m=m.replace(A,O),m=x.converter._dispatch("images.after",m,S,x),m}),r.subParser("italicsAndBold",function(m,S,x){m=x.converter._dispatch("italicsAndBold.before",m,S,x);function _(b,R,P){return R+b+P}return S.literalMidWordUnderscores?(m=m.replace(/\b___(\S[\s\S]*?)___\b/g,function(b,R){return _(R,"<strong><em>","</em></strong>")}),m=m.replace(/\b__(\S[\s\S]*?)__\b/g,function(b,R){return _(R,"<strong>","</strong>")}),m=m.replace(/\b_(\S[\s\S]*?)_\b/g,function(b,R){return _(R,"<em>","</em>")})):(m=m.replace(/___(\S[\s\S]*?)___/g,function(b,R){return/\S$/.test(R)?_(R,"<strong><em>","</em></strong>"):b}),m=m.replace(/__(\S[\s\S]*?)__/g,function(b,R){return/\S$/.test(R)?_(R,"<strong>","</strong>"):b}),m=m.replace(/_([^\s_][\s\S]*?)_/g,function(b,R){return/\S$/.test(R)?_(R,"<em>","</em>"):b})),S.literalMidWordAsterisks?(m=m.replace(/([^*]|^)\B\*\*\*(\S[\s\S]*?)\*\*\*\B(?!\*)/g,function(b,R,P){return _(P,R+"<strong><em>","</em></strong>")}),m=m.replace(/([^*]|^)\B\*\*(\S[\s\S]*?)\*\*\B(?!\*)/g,function(b,R,P){return _(P,R+"<strong>","</strong>")}),m=m.replace(/([^*]|^)\B\*(\S[\s\S]*?)\*\B(?!\*)/g,function(b,R,P){return _(P,R+"<em>","</em>")})):(m=m.replace(/\*\*\*(\S[\s\S]*?)\*\*\*/g,function(b,R){return/\S$/.test(R)?_(R,"<strong><em>","</em></strong>"):b}),m=m.replace(/\*\*(\S[\s\S]*?)\*\*/g,function(b,R){return/\S$/.test(R)?_(R,"<strong>","</strong>"):b}),m=m.replace(/\*([^\s*][\s\S]*?)\*/g,function(b,R){return/\S$/.test(R)?_(R,"<em>","</em>"):b})),m=x.converter._dispatch("italicsAndBold.after",m,S,x),m}),r.subParser("lists",function(m,S,x){function _(P,A){x.gListLevel++,P=P.replace(/\n{2,}$/,`
`),P+="0";var H=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(0| {0,3}([*+-]|\d+[.])[ \t]+))/gm,O=/\n[ \t]*\n(?!0)/.test(P);return S.disableForced4SpacesIndentedSublists&&(H=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(0|\2([*+-]|\d+[.])[ \t]+))/gm),P=P.replace(H,function(K,Y,F,G,z,Z,ee){ee=ee&&ee.trim()!=="";var W=r.subParser("outdent")(z,S,x),J="";return Z&&S.tasklists&&(J=' class="task-list-item" style="list-style-type: none;"',W=W.replace(/^[ \t]*\[(x|X| )?]/m,function(){var ue='<input type="checkbox" disabled style="margin: 0px 0.35em 0.25em -1.6em; vertical-align: middle;"';return ee&&(ue+=" checked"),ue+=">",ue})),W=W.replace(/^([-*+]|\d\.)[ \t]+[\S\n ]*/g,function(ue){return"A"+ue}),Y||W.search(/\n{2,}/)>-1?(W=r.subParser("githubCodeBlocks")(W,S,x),W=r.subParser("blockGamut")(W,S,x)):(W=r.subParser("lists")(W,S,x),W=W.replace(/\n$/,""),W=r.subParser("hashHTMLBlocks")(W,S,x),W=W.replace(/\n\n+/g,`

`),O?W=r.subParser("paragraphs")(W,S,x):W=r.subParser("spanGamut")(W,S,x)),W=W.replace("A",""),W="<li"+J+">"+W+`</li>
`,W}),P=P.replace(/0/g,""),x.gListLevel--,A&&(P=P.replace(/\s+$/,"")),P}function b(P,A){if(A==="ol"){var H=P.match(/^ *(\d+)\./);if(H&&H[1]!=="1")return' start="'+H[1]+'"'}return""}function R(P,A,H){var O=S.disableForced4SpacesIndentedSublists?/^ ?\d+\.[ \t]/gm:/^ {0,3}\d+\.[ \t]/gm,K=S.disableForced4SpacesIndentedSublists?/^ ?[*+-][ \t]/gm:/^ {0,3}[*+-][ \t]/gm,Y=A==="ul"?O:K,F="";if(P.search(Y)!==-1)(function z(Z){var ee=Z.search(Y),W=b(P,A);ee!==-1?(F+=`

<`+A+W+`>
`+_(Z.slice(0,ee),!!H)+"</"+A+`>
`,A=A==="ul"?"ol":"ul",Y=A==="ul"?O:K,z(Z.slice(ee))):F+=`

<`+A+W+`>
`+_(Z,!!H)+"</"+A+`>
`})(P);else{var G=b(P,A);F=`

<`+A+G+`>
`+_(P,!!H)+"</"+A+`>
`}return F}return m=x.converter._dispatch("lists.before",m,S,x),m+="0",x.gListLevel?m=m.replace(/^(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,function(P,A,H){var O=H.search(/[*+-]/g)>-1?"ul":"ol";return R(A,O,!0)}):m=m.replace(/(\n\n|^\n?)(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,function(P,A,H,O){var K=O.search(/[*+-]/g)>-1?"ul":"ol";return R(H,K,!1)}),m=m.replace(/0/,""),m=x.converter._dispatch("lists.after",m,S,x),m}),r.subParser("metadata",function(m,S,x){if(!S.metadata)return m;m=x.converter._dispatch("metadata.before",m,S,x);function _(b){x.metadata.raw=b,b=b.replace(/&/g,"&amp;").replace(/"/g,"&quot;"),b=b.replace(/\n {4}/g," "),b.replace(/^([\S ]+): +([\s\S]+?)$/gm,function(R,P,A){return x.metadata.parsed[P]=A,""})}return m=m.replace(/^\s*+(\S*?)\n([\s\S]+?)\n+\n/,function(b,R,P){return _(P),"M"}),m=m.replace(/^\s*---+(\S*?)\n([\s\S]+?)\n---+\n/,function(b,R,P){return R&&(x.metadata.format=R),_(P),"M"}),m=m.replace(/M/g,""),m=x.converter._dispatch("metadata.after",m,S,x),m}),r.subParser("outdent",function(m,S,x){return m=x.converter._dispatch("outdent.before",m,S,x),m=m.replace(/^(\t|[ ]{1,4})/gm,"0"),m=m.replace(/0/g,""),m=x.converter._dispatch("outdent.after",m,S,x),m}),r.subParser("paragraphs",function(m,S,x){m=x.converter._dispatch("paragraphs.before",m,S,x),m=m.replace(/^\n+/g,""),m=m.replace(/\n+$/g,"");for(var _=m.split(/\n{2,}/g),b=[],R=_.length,P=0;P<R;P++){var A=_[P];A.search(/(K|G)(\d+)\1/g)>=0?b.push(A):A.search(/\S/)>=0&&(A=r.subParser("spanGamut")(A,S,x),A=A.replace(/^([ \t]*)/g,"<p>"),A+="</p>",b.push(A))}for(R=b.length,P=0;P<R;P++){for(var H="",O=b[P],K=!1;/(K|G)(\d+)\1/.test(O);){var Y=RegExp.$1,F=RegExp.$2;Y==="K"?H=x.gHtmlBlocks[F]:K?H=r.subParser("encodeCode")(x.ghCodeBlocks[F].text,S,x):H=x.ghCodeBlocks[F].codeblock,H=H.replace(/\$/g,"$$$$"),O=O.replace(/(\n\n)?(K|G)\d+\2(\n\n)?/,H),/^<pre\b[^>]*>\s*<code\b[^>]*>/.test(O)&&(K=!0)}b[P]=O}return m=b.join(`
`),m=m.replace(/^\n+/g,""),m=m.replace(/\n+$/g,""),x.converter._dispatch("paragraphs.after",m,S,x)}),r.subParser("runExtension",function(m,S,x,_){if(m.filter)S=m.filter(S,_.converter,x);else if(m.regex){var b=m.regex;b instanceof RegExp||(b=new RegExp(b,"g")),S=S.replace(b,m.replace)}return S}),r.subParser("spanGamut",function(m,S,x){return m=x.converter._dispatch("spanGamut.before",m,S,x),m=r.subParser("codeSpans")(m,S,x),m=r.subParser("escapeSpecialCharsWithinTagAttributes")(m,S,x),m=r.subParser("encodeBackslashEscapes")(m,S,x),m=r.subParser("images")(m,S,x),m=r.subParser("anchors")(m,S,x),m=r.subParser("autoLinks")(m,S,x),m=r.subParser("simplifiedAutoLinks")(m,S,x),m=r.subParser("emoji")(m,S,x),m=r.subParser("underline")(m,S,x),m=r.subParser("italicsAndBold")(m,S,x),m=r.subParser("strikethrough")(m,S,x),m=r.subParser("ellipsis")(m,S,x),m=r.subParser("hashHTMLSpans")(m,S,x),m=r.subParser("encodeAmpsAndAngles")(m,S,x),S.simpleLineBreaks?/\n\nK/.test(m)||(m=m.replace(/\n+/g,`<br />
`)):m=m.replace(/  +\n/g,`<br />
`),m=x.converter._dispatch("spanGamut.after",m,S,x),m}),r.subParser("strikethrough",function(m,S,x){function _(b){return S.simplifiedAutoLink&&(b=r.subParser("simplifiedAutoLinks")(b,S,x)),"<del>"+b+"</del>"}return S.strikethrough&&(m=x.converter._dispatch("strikethrough.before",m,S,x),m=m.replace(/(?:~){2}([\s\S]+?)(?:~){2}/g,function(b,R){return _(R)}),m=x.converter._dispatch("strikethrough.after",m,S,x)),m}),r.subParser("stripLinkDefinitions",function(m,S,x){var _=/^ {0,3}\[([^\]]+)]:[ \t]*\n?[ \t]*<?([^>\s]+)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n+|(?=0))/gm,b=/^ {0,3}\[([^\]]+)]:[ \t]*\n?[ \t]*<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n\n|(?=0)|(?=\n\[))/gm;m+="0";var R=function(P,A,H,O,K,Y,F){return A=A.toLowerCase(),m.toLowerCase().split(A).length-1<2?P:(H.match(/^data:.+?\/.+?;base64,/)?x.gUrls[A]=H.replace(/\s/g,""):x.gUrls[A]=r.subParser("encodeAmpsAndAngles")(H,S,x),Y?Y+F:(F&&(x.gTitles[A]=F.replace(/"|'/g,"&quot;")),S.parseImgDimensions&&O&&K&&(x.gDimensions[A]={width:O,height:K}),""))};return m=m.replace(b,R),m=m.replace(_,R),m=m.replace(/0/,""),m}),r.subParser("tables",function(m,S,x){if(!S.tables)return m;var _=/^ {0,3}\|?.+\|.+\n {0,3}\|?[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*:?[ \t]*(?:[-=]){2,}[\s\S]+?(?:\n\n|0)/gm,b=/^ {0,3}\|.+\|[ \t]*\n {0,3}\|[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*\n( {0,3}\|.+\|[ \t]*\n)*(?:\n|0)/gm;function R(K){return/^:[ \t]*--*$/.test(K)?' style="text-align:left;"':/^--*[ \t]*:[ \t]*$/.test(K)?' style="text-align:right;"':/^:[ \t]*--*[ \t]*:$/.test(K)?' style="text-align:center;"':""}function P(K,Y){var F="";return K=K.trim(),(S.tablesHeaderId||S.tableHeaderId)&&(F=' id="'+K.replace(/ /g,"_").toLowerCase()+'"'),K=r.subParser("spanGamut")(K,S,x),"<th"+F+Y+">"+K+`</th>
`}function A(K,Y){var F=r.subParser("spanGamut")(K,S,x);return"<td"+Y+">"+F+`</td>
`}function H(K,Y){for(var F=`<table>
<thead>
<tr>
`,G=K.length,z=0;z<G;++z)F+=K[z];for(F+=`</tr>
</thead>
<tbody>
`,z=0;z<Y.length;++z){F+=`<tr>
`;for(var Z=0;Z<G;++Z)F+=Y[z][Z];F+=`</tr>
`}return F+=`</tbody>
</table>
`,F}function O(K){var Y,F=K.split(`
`);for(Y=0;Y<F.length;++Y)/^ {0,3}\|/.test(F[Y])&&(F[Y]=F[Y].replace(/^ {0,3}\|/,"")),/\|[ \t]*$/.test(F[Y])&&(F[Y]=F[Y].replace(/\|[ \t]*$/,"")),F[Y]=r.subParser("codeSpans")(F[Y],S,x);var G=F[0].split("|").map(function(Te){return Te.trim()}),z=F[1].split("|").map(function(Te){return Te.trim()}),Z=[],ee=[],W=[],J=[];for(F.shift(),F.shift(),Y=0;Y<F.length;++Y)F[Y].trim()!==""&&Z.push(F[Y].split("|").map(function(Te){return Te.trim()}));if(G.length<z.length)return K;for(Y=0;Y<z.length;++Y)W.push(R(z[Y]));for(Y=0;Y<G.length;++Y)r.helper.isUndefined(W[Y])&&(W[Y]=""),ee.push(P(G[Y],W[Y]));for(Y=0;Y<Z.length;++Y){for(var ue=[],_e=0;_e<ee.length;++_e)r.helper.isUndefined(Z[Y][_e]),ue.push(A(Z[Y][_e],W[_e]));J.push(ue)}return H(ee,J)}return m=x.converter._dispatch("tables.before",m,S,x),m=m.replace(/\\(\|)/g,r.helper.escapeCharactersCallback),m=m.replace(_,O),m=m.replace(b,O),m=x.converter._dispatch("tables.after",m,S,x),m}),r.subParser("underline",function(m,S,x){return S.underline&&(m=x.converter._dispatch("underline.before",m,S,x),S.literalMidWordUnderscores?(m=m.replace(/\b___(\S[\s\S]*?)___\b/g,function(_,b){return"<u>"+b+"</u>"}),m=m.replace(/\b__(\S[\s\S]*?)__\b/g,function(_,b){return"<u>"+b+"</u>"})):(m=m.replace(/___(\S[\s\S]*?)___/g,function(_,b){return/\S$/.test(b)?"<u>"+b+"</u>":_}),m=m.replace(/__(\S[\s\S]*?)__/g,function(_,b){return/\S$/.test(b)?"<u>"+b+"</u>":_})),m=m.replace(/(_)/g,r.helper.escapeCharactersCallback),m=x.converter._dispatch("underline.after",m,S,x)),m}),r.subParser("unescapeSpecialChars",function(m,S,x){return m=x.converter._dispatch("unescapeSpecialChars.before",m,S,x),m=m.replace(/E(\d+)E/g,function(_,b){var R=parseInt(b);return String.fromCharCode(R)}),m=x.converter._dispatch("unescapeSpecialChars.after",m,S,x),m}),r.subParser("makeMarkdown.blockquote",function(m,S){var x="";if(m.hasChildNodes())for(var _=m.childNodes,b=_.length,R=0;R<b;++R){var P=r.subParser("makeMarkdown.node")(_[R],S);P!==""&&(x+=P)}return x=x.trim(),x="> "+x.split(`
`).join(`
> `),x}),r.subParser("makeMarkdown.codeBlock",function(m,S){var x=m.getAttribute("language"),_=m.getAttribute("precodenum");return"```"+x+`
`+S.preList[_]+"\n```"}),r.subParser("makeMarkdown.codeSpan",function(m){return"`"+m.innerHTML+"`"}),r.subParser("makeMarkdown.emphasis",function(m,S){var x="";if(m.hasChildNodes()){x+="*";for(var _=m.childNodes,b=_.length,R=0;R<b;++R)x+=r.subParser("makeMarkdown.node")(_[R],S);x+="*"}return x}),r.subParser("makeMarkdown.header",function(m,S,x){var _=new Array(x+1).join("#"),b="";if(m.hasChildNodes()){b=_+" ";for(var R=m.childNodes,P=R.length,A=0;A<P;++A)b+=r.subParser("makeMarkdown.node")(R[A],S)}return b}),r.subParser("makeMarkdown.hr",function(){return"---"}),r.subParser("makeMarkdown.image",function(m){var S="";return m.hasAttribute("src")&&(S+="!["+m.getAttribute("alt")+"](",S+="<"+m.getAttribute("src")+">",m.hasAttribute("width")&&m.hasAttribute("height")&&(S+=" ="+m.getAttribute("width")+"x"+m.getAttribute("height")),m.hasAttribute("title")&&(S+=' "'+m.getAttribute("title")+'"'),S+=")"),S}),r.subParser("makeMarkdown.links",function(m,S){var x="";if(m.hasChildNodes()&&m.hasAttribute("href")){var _=m.childNodes,b=_.length;x="[";for(var R=0;R<b;++R)x+=r.subParser("makeMarkdown.node")(_[R],S);x+="](",x+="<"+m.getAttribute("href")+">",m.hasAttribute("title")&&(x+=' "'+m.getAttribute("title")+'"'),x+=")"}return x}),r.subParser("makeMarkdown.list",function(m,S,x){var _="";if(!m.hasChildNodes())return"";for(var b=m.childNodes,R=b.length,P=m.getAttribute("start")||1,A=0;A<R;++A)if(!(typeof b[A].tagName>"u"||b[A].tagName.toLowerCase()!=="li")){var H="";x==="ol"?H=P.toString()+". ":H="- ",_+=H+r.subParser("makeMarkdown.listItem")(b[A],S),++P}return _+=`
<!-- -->
`,_.trim()}),r.subParser("makeMarkdown.listItem",function(m,S){for(var x="",_=m.childNodes,b=_.length,R=0;R<b;++R)x+=r.subParser("makeMarkdown.node")(_[R],S);return/\n$/.test(x)?x=x.split(`
`).join(`
    `).replace(/^ {4}$/gm,"").replace(/\n\n+/g,`

`):x+=`
`,x}),r.subParser("makeMarkdown.node",function(m,S,x){x=x||!1;var _="";if(m.nodeType===3)return r.subParser("makeMarkdown.txt")(m,S);if(m.nodeType===8)return"<!--"+m.data+`-->

`;if(m.nodeType!==1)return"";var b=m.tagName.toLowerCase();switch(b){case"h1":x||(_=r.subParser("makeMarkdown.header")(m,S,1)+`

`);break;case"h2":x||(_=r.subParser("makeMarkdown.header")(m,S,2)+`

`);break;case"h3":x||(_=r.subParser("makeMarkdown.header")(m,S,3)+`

`);break;case"h4":x||(_=r.subParser("makeMarkdown.header")(m,S,4)+`

`);break;case"h5":x||(_=r.subParser("makeMarkdown.header")(m,S,5)+`

`);break;case"h6":x||(_=r.subParser("makeMarkdown.header")(m,S,6)+`

`);break;case"p":x||(_=r.subParser("makeMarkdown.paragraph")(m,S)+`

`);break;case"blockquote":x||(_=r.subParser("makeMarkdown.blockquote")(m,S)+`

`);break;case"hr":x||(_=r.subParser("makeMarkdown.hr")(m,S)+`

`);break;case"ol":x||(_=r.subParser("makeMarkdown.list")(m,S,"ol")+`

`);break;case"ul":x||(_=r.subParser("makeMarkdown.list")(m,S,"ul")+`

`);break;case"precode":x||(_=r.subParser("makeMarkdown.codeBlock")(m,S)+`

`);break;case"pre":x||(_=r.subParser("makeMarkdown.pre")(m,S)+`

`);break;case"table":x||(_=r.subParser("makeMarkdown.table")(m,S)+`

`);break;case"code":_=r.subParser("makeMarkdown.codeSpan")(m,S);break;case"em":case"i":_=r.subParser("makeMarkdown.emphasis")(m,S);break;case"strong":case"b":_=r.subParser("makeMarkdown.strong")(m,S);break;case"del":_=r.subParser("makeMarkdown.strikethrough")(m,S);break;case"a":_=r.subParser("makeMarkdown.links")(m,S);break;case"img":_=r.subParser("makeMarkdown.image")(m,S);break;default:_=m.outerHTML+`

`}return _}),r.subParser("makeMarkdown.paragraph",function(m,S){var x="";if(m.hasChildNodes())for(var _=m.childNodes,b=_.length,R=0;R<b;++R)x+=r.subParser("makeMarkdown.node")(_[R],S);return x=x.trim(),x}),r.subParser("makeMarkdown.pre",function(m,S){var x=m.getAttribute("prenum");return"<pre>"+S.preList[x]+"</pre>"}),r.subParser("makeMarkdown.strikethrough",function(m,S){var x="";if(m.hasChildNodes()){x+="~~";for(var _=m.childNodes,b=_.length,R=0;R<b;++R)x+=r.subParser("makeMarkdown.node")(_[R],S);x+="~~"}return x}),r.subParser("makeMarkdown.strong",function(m,S){var x="";if(m.hasChildNodes()){x+="**";for(var _=m.childNodes,b=_.length,R=0;R<b;++R)x+=r.subParser("makeMarkdown.node")(_[R],S);x+="**"}return x}),r.subParser("makeMarkdown.table",function(m,S){var x="",_=[[],[]],b=m.querySelectorAll("thead>tr>th"),R=m.querySelectorAll("tbody>tr"),P,A;for(P=0;P<b.length;++P){var H=r.subParser("makeMarkdown.tableCell")(b[P],S),O="---";if(b[P].hasAttribute("style")){var K=b[P].getAttribute("style").toLowerCase().replace(/\s/g,"");switch(K){case"text-align:left;":O=":---";break;case"text-align:right;":O="---:";break;case"text-align:center;":O=":---:";break}}_[0][P]=H.trim(),_[1][P]=O}for(P=0;P<R.length;++P){var Y=_.push([])-1,F=R[P].getElementsByTagName("td");for(A=0;A<b.length;++A){var G=" ";typeof F[A]<"u"&&(G=r.subParser("makeMarkdown.tableCell")(F[A],S)),_[Y].push(G)}}var z=3;for(P=0;P<_.length;++P)for(A=0;A<_[P].length;++A){var Z=_[P][A].length;Z>z&&(z=Z)}for(P=0;P<_.length;++P){for(A=0;A<_[P].length;++A)P===1?_[P][A].slice(-1)===":"?_[P][A]=r.helper.padEnd(_[P][A].slice(-1),z-1,"-")+":":_[P][A]=r.helper.padEnd(_[P][A],z,"-"):_[P][A]=r.helper.padEnd(_[P][A],z);x+="| "+_[P].join(" | ")+` |
`}return x.trim()}),r.subParser("makeMarkdown.tableCell",function(m,S){var x="";if(!m.hasChildNodes())return"";for(var _=m.childNodes,b=_.length,R=0;R<b;++R)x+=r.subParser("makeMarkdown.node")(_[R],S,!0);return x.trim()}),r.subParser("makeMarkdown.txt",function(m){var S=m.nodeValue;return S=S.replace(/ +/g," "),S=S.replace(/NBSP;/g," "),S=r.helper.unescapeHTMLEntities(S),S=S.replace(/([*_~|`])/g,"\\$1"),S=S.replace(/^(\s*)>/g,"\\$1>"),S=S.replace(/^#/gm,"\\#"),S=S.replace(/^(\s*)([-=]{3,})(\s*)$/,"$1\\$2$3"),S=S.replace(/^( {0,3}\d+)\./gm,"$1\\."),S=S.replace(/^( {0,3})([+-])/gm,"$1\\$2"),S=S.replace(/]([\s]*)\(/g,"\\]$1\\("),S=S.replace(/^ {0,3}\[([\S \t]*?)]:/gm,"\\[$1]:"),S});var B=this;t.exports?t.exports=r:B.showdown=r}).call(D$)})(fp)),fp.exports}var M$=j$();const O$=ol(M$);function L$({chatHistory:t,isNewChat:e=!1,isLoading:n=!1,isLoadingSolutions:r=!1}){const s=t,o=E.useMemo(()=>{const u=new O$.Converter({simpleLineBreaks:!0,strikethrough:!0,tables:!0,tasklists:!0,ghCodeBlocks:!0,emoji:!0,parseImgDimensions:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,simplifiedAutoLink:!0,smoothLivePreview:!1,smartIndentationFix:!0,disableForced4SpacesIndentedSublists:!0});u.setOption("noHeaderId",!0),u.setOption("ghCompatibleHeaderId",!1),u.setOption("omitExtraWLInCodeBlocks",!0);const h=()=>[{type:"output",filter:p=>(p=p.replace(/>\s+</g,"><"),p=p.replace(/\n\s*\n/g,`
`),p=p.replace(/<\/p>\s*<p>/g,"</p><p>"),p=p.replace(/<\/li>\s*<li>/g,"</li><li>"),p=p.replace(/<ul>\s*<li>/g,"<ul><li>"),p=p.replace(/<ol>\s*<li>/g,"<ol><li>"),p=p.replace(/<\/li>\s*<\/ul>/g,"</li></ul>"),p=p.replace(/<\/li>\s*<\/ol>/g,"</li></ol>"),p=p.trim(),p)},{type:"lang",filter:p=>p.replace(/\n\n+/g,`

`)}];return u.addExtension(h(),"removeWhitespace"),u},[]),l=u=>u.replace(/>\s+</g,"><");return c.jsx("div",{className:"prompt-history",children:s.length===0?e?c.jsxs("div",{className:"welcome-message",children:[c.jsx("p",{className:"title",children:"What are you looking to purchase today?"}),c.jsx("p",{className:"subtitle",children:"I'll help you find the best credit card to maximize your rewards."})]}):c.jsx("div",{className:"loading-message",children:c.jsx(xt,{type:"loading",message:Xn.promptHistoryLoading,showTitle:!1,transparent:!0})}):c.jsxs(c.Fragment,{children:[s.map(u=>c.jsx("div",{className:`${u.chatSource==="user"?"entry entry-user":"entry entry-assistant"}`,children:c.jsxs("div",{className:"entry-content",children:[u.chatSource==="assistant"&&c.jsx("img",{src:HN,alt:"AI Assistant",className:"assistant-avatar"}),c.jsx("div",{className:"message-text",dangerouslySetInnerHTML:{__html:l(o.makeHtml(u.chatMessage))}})]})},u.id)),n&&c.jsx("div",{className:"loading-indicator",children:c.jsx(xt,{type:"loading",message:"Thinking...",showTitle:!1,transparent:!0})}),r&&c.jsx("div",{className:"loading-indicator",children:c.jsx(xt,{type:"loading",message:"Looking for Card Recommendations...",showTitle:!1,transparent:!0})})]})})}const OS=(t,e)=>{t&&(t.style.height="auto",t.style.height=`${Math.min(t.scrollHeight,e)}px`)},F$=(t,e)=>!e&&t.trim().length>0,V$=(t,e)=>t.key==="Enter"&&!t.shiftKey&&!e,LS=zN;function U$({returnPrompt:t,isProcessing:e,onCancel:n}){const[r,s]=E.useState(""),o=E.useRef(null);E.useEffect(()=>{OS(o.current,LS)},[r]),E.useEffect(()=>{const p=o.current;if(!p)return;const v=window.matchMedia(`(max-width: ${Zr}px)`).matches,y=window.visualViewport;if(!v||!y)return;let T=y.height;const k=()=>{const j=document.documentElement,L=p.getBoundingClientRect(),U=y.height,m=T-U,S=document.querySelector(".prompt-history-container");S&&S.scrollTo({top:S.scrollHeight,behavior:"smooth"});const x=Math.max(18,Math.min(50,U*.04)),_=Math.max(15,m*.05),b=Math.min(x,_),R=U-b,A=L.bottom-R,H=j.scrollTop+A;j.style.scrollBehavior="auto";const O=j.scrollTop,K=H-O,Y=250,F=performance.now(),G=z=>{const Z=z-F,ee=Math.min(Z/Y,1),W=1-Math.pow(1-ee,3),J=O+K*W;j.scrollTop=J,ee<1?requestAnimationFrame(G):j.style.scrollBehavior=""};requestAnimationFrame(G)},N=()=>{const j=document.querySelector(".prompt-history-container");j&&j.scrollTo({top:j.scrollHeight,behavior:"smooth"}),p.scrollIntoView({behavior:"instant",block:"nearest",inline:"nearest"}),setTimeout(k,50)},D=()=>{const j=y.height;T-j>150&&setTimeout(k,16)};return p.addEventListener("focus",N),y.addEventListener("resize",D),()=>{p.removeEventListener("focus",N),y.removeEventListener("resize",D)}},[]);const l=p=>{s(p.target.value),OS(o.current,LS)},u=()=>{F$(r,e)&&(t(r),s(""))},h=p=>{V$(p,e)&&(p.preventDefault(),u())};return c.jsxs("div",{className:"prompt-field",children:[c.jsx("textarea",{ref:o,name:"promptField",value:r,onChange:l,onKeyDown:h,placeholder:"Where are you shopping today?",rows:1,"data-virtualkeyboard":"true"}),e?c.jsx("button",{className:"button icon",onClick:n,title:"Cancel",children:c.jsx(De,{name:"stop",variant:"solid",size:16})}):c.jsx("button",{className:"button icon",onClick:u,disabled:!r.trim(),title:"Submit",children:c.jsx(De,{name:"arrow-up",variant:"solid",size:16})})]})}function H$({promptSolutions:t,creditCards:e,chatId:n,selectedCardId:r,onHistoryUpdate:s,chatHistory:o}){const{chatId:l}=JS(),[u,h]=E.useState([]),[p,v]=E.useState(r||""),[y,T]=E.useState(null),[k,N]=E.useState(!1),[D,j]=E.useState(!1),[L,U]=E.useState(!0),[B,m]=E.useState(()=>typeof window>"u"?!1:window.matchMedia(`(max-width: ${Zr}px)`).matches),S=!1,x=!0,[_,b]=E.useState("");E.useEffect(()=>{v(r||"")},[r]),E.useEffect(()=>{const H=(Array.isArray(t)?t:t?[t]:[]).filter((O,K,Y)=>Y.findIndex(F=>F.id===O.id)===K);h(H)},[t]),E.useEffect(()=>{j(!1),U(!0),b(""),T(null),N(!1),v(r||""),h([])},[l]),E.useEffect(()=>{if(typeof window>"u")return;const A=window.matchMedia(`(max-width: ${Zr}px)`),H=O=>{const K=("matches"in O,O.matches);m(K)};H(A);try{A.addEventListener("change",H)}catch{A.addListener(H)}return()=>{try{A.removeEventListener("change",H)}catch{A.removeListener(H)}}},[]);const R=async A=>{const H=n||l;if(!H||k)return;const O=A===p&&!D,K=O?"":A;if(!O&&A===p){j(!1);return}N(!0),T(A);try{await Xr.updateTransactionCardSelection(H,K);const Y=await Xr.fetchChatHistoryById(H);Y&&s(Y),v(K)}catch(Y){console.error("Error updating card selection:",Y),v(r||"")}finally{T(null),N(!1)}},P=A=>{R(A.id),j(!1)};return u.length===0||!u.some(A=>A.cardName)?null:c.jsxs("div",{className:"solutions-container",children:[c.jsxs("div",{className:"solutions-header",onClick:()=>U(!L),children:[c.jsxs("div",{className:"header-title",children:[c.jsx(De,{name:"card",variant:"mini",color:"#B5BBC2",size:18}),c.jsx("p",{className:"caps-label",children:"Select Card for Purchase"})]}),c.jsx("button",{className:`collapse-button ${L?"expanded":""}`,"aria-label":L?"Collapse solutions":"Expand solutions",children:c.jsx(De,{name:L?"chevron-up":"chevron-down",variant:"mini",color:"black",size:18})})]}),c.jsxs("div",{className:`collapsible-content ${L?"expanded":""}`,children:[c.jsx("div",{className:"solution-cards",children:u.filter(A=>A.cardName).map((A,H)=>{const O=e==null?void 0:e.find(G=>G.id===A.id),K=(O==null?void 0:O.CardName)||A.cardName,Y=A.id===p,F=k&&A.id===y;return c.jsxs("div",{className:`solution-card ${H===0?"primary-solution-turned-off":""} ${Y?"selected-card":""}`,onClick:()=>R(A.id),children:[c.jsx("div",{className:"card-checkbox-container",children:c.jsx("button",{className:`use-card-button ${Y?"selected":""}`,onClick:G=>{G.stopPropagation(),R(A.id)},disabled:k,"aria-label":F?"Updating...":Y?"Selected for purchase":"Select for purchase",children:Y?c.jsx(DF,{size:16}):null})}),c.jsxs("div",{className:"card-content-container",children:[c.jsxs("div",{className:"card-header",children:[c.jsx(Kr,{title:K,size:24,primary:O==null?void 0:O.CardPrimaryColor,secondary:O==null?void 0:O.CardSecondaryColor}),c.jsxs("h3",{children:[K,H===0&&c.jsx("span",{className:"recommended-badge",children:"Recommended"})]})]}),c.jsx("div",{className:"card-content",children:c.jsx("div",{className:"card-details",children:(A.rewardCategory||A.rewardRate)&&c.jsx("p",{children:A.rewardCategory&&A.rewardRate?`${A.rewardCategory}: ${A.rewardRate}`:A.rewardCategory||A.rewardRate})})})]})]},A.id||H)})}),c.jsx(vy,{selectedCardId:p,creditCards:e||[],isUpdating:k,onSelectCardClick:()=>j(!0),onDeselectCard:()=>R(p),selectLabel:"Select a different card:",className:"expanded"})]}),(B?x:S)?c.jsx(Jo,{open:D,onOpenChange:j,direction:"bottom",children:c.jsxs(ci,{fitContent:!0,maxHeight:"80vh",children:[c.jsx(qi,{className:"sr-only",children:"Select a Credit Card"}),c.jsxs("div",{className:"dialog-header drawer-sticky-header",children:[c.jsx("h2",{children:"Select a Credit Card"}),c.jsx("div",{className:"search-container",style:{marginTop:6},children:c.jsx(th,{type:"text",placeholder:"Search cards...",value:_,onChange:H=>b(H.target.value)})})]}),c.jsx("div",{className:"dialog-body",style:{overflowY:"auto"},children:e&&c.jsx(Uo,{creditCards:e,onSelectCard:P,selectedCardId:p,hideInternalSearch:!0,externalSearchTerm:_,onExternalSearchTermChange:b})})]})}):c.jsx(As,{open:D,onOpenChange:j,children:c.jsxs(Jr,{children:[c.jsx(es,{children:c.jsx(Rs,{children:"Select a Credit Card"})}),e&&c.jsx(Uo,{creditCards:e,onSelectCard:P,selectedCardId:p})]})})]})}const B$=gx.ASSISTANT,FS=gx.USER,A3=$N,VS=KN,US={[Ho.DO_NOT_TRACK_HISTORY]:"Your chat history is not being stored. Messages will vanish when you leave or refresh the page.",[Ho.KEEP_HISTORY]:""},$$=(t,e,n,r,s,o,l,u)=>{const h=s.filter(v=>v.selected),p={name:t,prompt:n,chatHistory:_c(r),creditCards:h,currentDate:e,preferencesInstructions:o};return l&&u&&(p.userCardDetails=u),p},z$=async(t,e,n,r,s,o,l,u)=>{const h=await $2.getChatResponse(t,n),p=[...r,e,{id:`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,chatSource:B$,chatMessage:h}];s(!1),o(!0),l(_c(p));const v=await $2.getChatSolution({...t,chatHistory:_c(p)},n);if(n.aborted)throw new Error("Request aborted");const y=Array.isArray(v)&&v.length>0,T=Array.isArray(u)&&u.length>0,k=r.length>0;return{updatedHistory:p,solutions:y?v:T&&k?u:[]}},W$=async(t,e,n,r,s,o,l,u,h,p,v,y,T)=>{if(!r||s===Ho.DO_NOT_TRACK_HISTORY){h(!1);return}if(o){const k=await Xr.createChatHistory(t,e,n),N={chatId:k.chatId,timestamp:new Date().toISOString(),conversation:t,solutions:e,cardSelection:"",chatDescription:k.chatDescription||VS};p(N),v(k.chatId),y(k.chatId),T(!1),h(!1)}else{await Xr.updateChatHistory(l,t,e,n);const k=u.find(D=>D.chatId===l),N={chatId:l,timestamp:new Date().toISOString(),conversation:t,solutions:e,cardSelection:(k==null?void 0:k.cardSelection)||"",chatDescription:(k==null?void 0:k.chatDescription)||VS};p(N)}},_c=t=>Array.isArray(t)?t.slice(-A3):[],G$=()=>{const t=new Date,e=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0"),s=String(t.getHours()).padStart(2,"0"),o=String(t.getMinutes()).padStart(2,"0"),l=String(t.getSeconds()).padStart(2,"0");return`${e}-${n}-${r} ${s}:${o}:${l}`};function q$({creditCards:t,userCardDetails:e,user:n,returnCurrentChatId:r,onHistoryUpdate:s,clearChatCallback:o,setClearChatCallback:l,existingHistoryList:u,preferencesInstructions:h,chatHistoryPreference:p}){const{chatId:v}=JS(),y=js(),T=E.useRef(null),[k,N]=E.useState(!0),[D,j]=E.useState(""),[L,U]=E.useState([]),[B,m]=E.useState([]),[S,x]=E.useState(""),[_,b]=E.useState(""),[R,P]=E.useState(!1),[A,H]=E.useState(!1),[O,K]=E.useState(!1),[Y,F]=E.useState(!1),G=E.useRef(null),[z,Z]=E.useState(0),[ee,W]=E.useState(!1),[J,ue]=E.useState(""),[_e,Te]=E.useState(!1),[ce,pe]=E.useState(!1),[Re,Ie]=E.useState(!1);Hm(!0);const je=de=>{if(Te(!1),pe(!1),Ie(!1),R&&ee){console.log("New chat creation in progress, please wait...");return}j(de),Z(we=>we+1)},Ze=(de,we)=>{const me={id:`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,chatSource:de,chatMessage:we};U(Pe=>{const tt=[...Pe,me];return _c(tt)})},mt=(de,we,me,Pe)=>{U(_c(de)),m(we),b(me),P(!1),r(me),x(Pe||"")};E.useEffect(()=>{D!==""&&(R&&W(!0),Ze(FS,D),vt())},[z]),E.useEffect(()=>{_&&_!==v&&(r(_),y(`/${_}`,{replace:!0}))},[_]),E.useEffect(()=>{n&&(async()=>{if(!n)return;if(!v){x(""),m([]),U([]),b(""),P(!0),r("");return}if(v===_)return;x(""),m([]),U([]);const we=u.find(me=>me.chatId===v);if(we){mt(we.conversation,we.solutions,v,we.cardSelection);return}try{const me=await Xr.fetchChatHistoryById(v);mt(me.conversation,me.solutions,v,me.cardSelection)}catch(me){console.error("Error loading chat:",me),ue("Error loading chat history"),Te(!0)}})()},[v,n,u]),E.useEffect(()=>{o>0&&(ne(),l(0))},[o,l]),E.useEffect(()=>{_||x("")},[_]),E.useEffect(()=>{T.current&&k&&setTimeout(()=>{const we=T.current;we&&we.scrollTo({top:we.scrollHeight,behavior:"smooth"})},100)},[L,k]),E.useEffect(()=>{const de=T.current;if(!de)return;const we=()=>{const{scrollTop:me,scrollHeight:Pe,clientHeight:tt}=de,Qe=Pe-(me+tt)<400;N(Qe)};return de.addEventListener("scroll",we),()=>de.removeEventListener("scroll",we)},[]);const vt=async()=>{var tt,Qe,Wt,mn;F(!0),H(!0),G.current=new AbortController;const de=G.current.signal,we=G$(),me=(n==null?void 0:n.displayName)||GN,Pe={id:`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,chatSource:FS,chatMessage:D};try{const xn=$$(me,we,D,L,t,h,n,e),{updatedHistory:Dt,solutions:Rt}=await z$(xn,Pe,de,L,H,K,U,B);m(Rt),K(!1),U(_c(Dt)),await W$(Dt,Rt,de,n,p,R,_,u,W,s,b,r,P),Te(!1),pe(!1),Ie(!1)}catch(xn){if($e.isCancel(xn)){console.log("Request cancelled"),W(!1),Oe(),G.current=null;return}console.error(xn),W(!1),$e.isAxiosError(xn)&&((tt=xn.response)==null?void 0:tt.status)===429?((mn=(Wt=(Qe=xn.response)==null?void 0:Qe.data)==null?void 0:Wt.error)==null?void 0:mn.code)==="DAILY_RATE_LIMIT_EXCEEDED"?(ue("You've run out of messages for the day. Your limit will reset in 24 hours."),Ie(!0),pe(!1)):(ue("You're sending messages too quickly. Please wait before trying again."),pe(!0),Ie(!1)):(ue("Error processing request, please try again."),pe(!1),Ie(!1)),Te(!0)}finally{Oe(),G.current=null}},Oe=()=>{F(!1),H(!1),K(!1)},ke=()=>{G.current&&G.current.abort(),Oe()},ne=()=>{U([]),m([]),x(""),P(!0),W(!1),b(""),r(""),y(fe.HOME.PATH)};return E.useEffect(()=>{v?P(!1):!v&&L.length===0&&P(!0)},[v,L.length]),c.jsxs("div",{className:"prompt-window",children:[c.jsx("div",{ref:T,className:"prompt-history-container",children:c.jsx(L$,{chatHistory:L,isNewChat:R,isLoading:A,isLoadingSolutions:O})}),_e&&c.jsx("div",{className:"error-container",children:c.jsx(xt,{type:Re||ce?"warning":"error",message:J,transparent:!0,showTitle:!Re})}),c.jsxs("div",{className:"prompt-combined-container",children:[c.jsx("div",{className:"prompt-solutions-container",children:c.jsx(H$,{promptSolutions:B,creditCards:t,chatId:_,selectedCardId:S,onHistoryUpdate:s,chatHistory:L})}),c.jsx("div",{className:"prompt-input-container",children:c.jsx(U$,{returnPrompt:je,isProcessing:Y,onCancel:ke})}),L.length>=A3&&c.jsxs("div",{className:"below-prompt-field-text",children:["Remember to ",c.jsx("button",{onClick:ne,className:"inline-button",children:Xn.inlineNewChatReminder})," for best results."]}),US[p]&&c.jsx("div",{className:"below-prompt-field-text",children:US[p]})]})]})}const HS=E.forwardRef(({returnCreditCards:t,existingCreditCards:e,showSaveButton:n=!0,onSaveComplete:r,isSaving:s=!1,externalSearchTerm:o,onExternalSearchTermChange:l,hideInternalSearch:u=!1},h)=>{const[p,v]=E.useState(Ld(e||[])),[y,T]=E.useState(""),[k,N]=E.useState(p.length===0),{user:D}=di(),j=js();E.useEffect(()=>{(async()=>{if(D){const H=await i3(p);v(H),N(!1)}})()},[D]),E.useEffect(()=>{t(p)},[p]);const L=A=>{v(H=>GB(H,A))},U=A=>{v(H=>qB(H,A))},B=async()=>{const A=await KB(p);A.success&&A.updatedCards&&v(A.updatedCards),r&&r(A.success,A.message)};E.useImperativeHandle(h,()=>({handleSave:B}));const m=typeof o=="string"?o:y,S=s3(p,m),x=S.filter(A=>A.selected),_=S.filter(A=>!A.selected),b=[...x].sort((A,H)=>A.isDefaultCard!==H.isDefaultCard?A.isDefaultCard?-1:1:A.CardName.localeCompare(H.CardName)),R=x.length>0?"Other Cards":"All Cards",P=A=>{j(A)};return D?c.jsxs("div",{className:"credit-card-selector",children:[!u&&c.jsx("div",{className:"search-container",children:c.jsx(th,{type:"text",placeholder:"Search cards...",value:m,onChange:A=>{l?l(A.target.value):T(A.target.value)},disabled:s})}),k?c.jsx("div",{className:"loading",children:c.jsx(xt,{type:"loading",message:"Loading cards...",showTitle:!1,transparent:!0,centered:!0})}):c.jsxs("div",{className:"cards-container",children:[x.length>0&&c.jsxs("div",{className:"card-section",children:[c.jsx("h4",{className:"section-header",children:"My Cards"}),c.jsx("div",{className:"section-cards",children:b.map(A=>c.jsxs("div",{className:`card ${s?"disabled":""}`,children:[c.jsxs("label",{className:"card-select",htmlFor:A.id,children:[c.jsx("input",{type:"checkbox",id:A.id,name:A.CardName,value:A.CardName,checked:A.selected||!1,onChange:()=>L(A.id),disabled:s}),c.jsx(Kr,{title:`${A.CardName} card`,size:32,primary:A.CardPrimaryColor,secondary:A.CardSecondaryColor}),c.jsxs("div",{className:"card-desc",children:[c.jsxs("p",{className:"card-name",children:[A.CardName,A.isDefaultCard&&c.jsx("span",{className:"default-tag",children:"Preferred Card"})]}),c.jsx("p",{className:"card-type",children:A.CardIssuer})]})]}),A.selected&&!A.isDefaultCard&&c.jsx("button",{className:"set-default-button",onClick:()=>U(A.id),disabled:s,children:"Set as Preferred Card"})]},A.id))})]}),_.length>0&&c.jsxs("div",{className:"card-section",children:[c.jsx("h4",{className:"section-header",children:R}),c.jsx("div",{className:"section-cards",children:_.map(A=>c.jsxs("div",{className:`card ${s?"disabled":""}`,children:[c.jsxs("label",{className:"card-select",htmlFor:A.id,children:[c.jsx("input",{type:"checkbox",id:A.id,name:A.CardName,value:A.CardName,checked:A.selected||!1,onChange:()=>L(A.id),disabled:s}),c.jsx(Kr,{title:`${A.CardName} card`,size:32,primary:A.CardPrimaryColor,secondary:A.CardSecondaryColor}),c.jsxs("div",{className:"card-desc",children:[c.jsxs("p",{className:"card-name",children:[A.CardName,A.isDefaultCard&&c.jsx("span",{className:"default-tag",children:"Preferred Card"})]}),c.jsx("p",{className:"card-type",children:A.CardIssuer})]})]}),A.selected&&!A.isDefaultCard&&c.jsx("button",{className:"set-default-button",onClick:()=>U(A.id),disabled:s,children:"Set as Preferred Card"})]},A.id))})]}),S.length===0&&c.jsx("div",{className:"no-results",children:c.jsx(xt,{type:"default",message:"No cards match your search",showTitle:!1,transparent:!0,showIcon:!1,centered:!0})}),n&&c.jsx("div",{className:"save-section",children:c.jsx("button",{onClick:B,className:"save-button",children:"Save"})})]})]}):c.jsxs("div",{className:"auth-prompt",children:[c.jsx("h2",{children:"Sign In Required"}),c.jsxs("p",{children:["Log in to unlock full features, manage your credit cards, and get the most out of ",Bn,"!"]}),c.jsxs("div",{className:"auth-buttons",children:[c.jsx("button",{onClick:()=>P(fe.SIGN_IN.PATH),children:"Sign In"}),c.jsx("button",{onClick:()=>P(fe.SIGN_UP.PATH),children:"Sign Up"})]})]})}),Pi=({children:t})=>{const{user:e}=di();return e?t:c.jsx(nx,{to:fe.SIGN_IN.PATH,replace:!0})},cv=({children:t})=>{const{user:e}=di();return e?c.jsx(nx,{to:fe.HOME.PATH,replace:!0}):c.jsx(c.Fragment,{children:t})},K$=({children:t,isSidePanelOpen:e,className:n="",fullHeight:r=!1,disableSidebarMargin:s=!1})=>c.jsx("div",{className:`universal-content-wrapper ${e?"side-panel-open":"side-panel-closed"} ${r?"full-height":""} ${s?"no-sidebar-margin":""} ${n}`,children:t}),Y$=()=>c.jsxs("div",{className:"help-modal",children:[c.jsx("h2",{children:"How to Use the Card Recommendation Chat"}),c.jsxs("ul",{children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Ask for recommendations:"}),' Type your goals or spending habits (e.g., "Whats the best card for groceries and travel?").']}),c.jsxs("li",{children:[c.jsx("strong",{children:"Be specific:"})," Mention if you want cash back, travel rewards, or have a preferred issuer."]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Compare cards:"}),' You can ask to compare two or more cards (e.g., "Compare Chase Sapphire Preferred and Amex Gold").']}),c.jsxs("li",{children:[c.jsx("strong",{children:"Personalize:"})," Share your credit score range or annual fee preferences for tailored suggestions."]}),c.jsxs("li",{children:[c.jsx("strong",{children:"History:"})," Your previous chats are saved for easy reference. Start a new chat for a new scenario."]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Privacy:"})," No sensitive personal info is requiredjust your preferences and goals!"]})]}),c.jsx("p",{children:'Need more help? Try asking, "How do I get the most points for travel?" or "Which card is best for dining out?"'})]}),Z$=({title:t,rightContent:e,showHelpButton:n=!1,onHelpClick:r,onLogout:s,chatHistory:o=[],currentChatId:l=null,onCurrentChatIdChange:u,onHistoryUpdate:h,subscriptionPlan:p="free",creditCards:v=[],isLoadingCreditCards:y=!1,isLoadingHistory:T=!1,onCardSelect:k,quickHistorySize:N=3,user:D=null,onNewChat:j,onOpenCardSelector:L})=>{const U=Mr(),B=js(),[m,S]=E.useState(!1),x=F=>U.pathname===F,_=F=>Ma.isPage(F,"HOME"),b=()=>{if(!l)return!1;const F=o==null?void 0:o.find(G=>G.chatId===l);return F?F.conversation&&F.conversation.length>0:!1},R=Array.isArray(v)?v.some(F=>F&&F.selected===!0):!1,P=(y||R)&&b(),A=!y&&!R,H=()=>{const F=U.pathname;if(_(F))return rt.HOME;switch(F){case fe.HISTORY.PATH:return rt.TRANSACTION_HISTORY;case fe.MY_CARDS.PATH:return rt.MY_CARDS;case fe.PREFERENCES.PATH:return rt.PREFERENCES;case fe.ACCOUNT.PATH:return rt.MY_ACCOUNT;case fe.MY_CREDITS.PATH:return rt.MY_CREDITS;case fe.MY_CREDITS_HISTORY.PATH:return rt.MY_CREDITS;case fe.DELETE_HISTORY.PATH:return"Delete History";default:const G=Ma.getTitleByPath(F);return G||rt.HOME}},O=()=>{const F=U.pathname;if(_(F))return null;switch(F){case fe.HISTORY.PATH:return c.jsx(De,{name:"history",variant:"solid",size:18,color:Qn,className:"title-icon"});case fe.MY_CARDS.PATH:return c.jsx(De,{name:"card",variant:"solid",size:18,color:Qn,className:"title-icon"});case fe.PREFERENCES.PATH:return c.jsx(De,{name:"preferences",variant:"solid",size:18,color:Qn,className:"title-icon"});case fe.ACCOUNT.PATH:return c.jsx(De,{name:"account",variant:"solid",size:18,color:Qn,className:"title-icon"});case fe.MY_CREDITS.PATH:return c.jsx(De,{name:"banknotes",variant:"solid",size:18,color:Qn,className:"title-icon"});case fe.MY_CREDITS_HISTORY.PATH:return c.jsx(De,{name:"banknotes",variant:"solid",size:18,color:Qn,className:"title-icon"});case fe.DELETE_HISTORY.PATH:return c.jsx(De,{name:"delete",variant:"solid",size:18,color:Qn,className:"title-icon"});default:return null}},K=()=>{_(U.pathname)?j==null||j():(u==null||u(null),B(fe.HOME.PATH)),S(!1)},Y=()=>{L==null||L(),S(!1)};return c.jsx(c.Fragment,{children:c.jsx("header",{className:"mobile-header",role:"banner",children:c.jsxs(en.Root,{direction:"left",open:m,onOpenChange:S,children:[c.jsxs("div",{className:"mobile-header__left",children:[c.jsx(en.Trigger,{asChild:!0,children:c.jsx("button",{className:"button no-outline small icon-gray-hover-fill mobile-header__menu-button","aria-label":"Open menu",children:c.jsx(De,{name:"bar-menu",variant:"mini",size:22,color:td})})}),_(U.pathname)?c.jsx("div",{className:"mobile-header__brand","aria-label":Bn,children:c.jsx("img",{src:an.LOGO,alt:`${Bn} logo`})}):null]}),c.jsx("div",{className:"mobile-header__center",children:(()=>{const F=H();return _(U.pathname)?null:c.jsxs("h1",{className:"mobile-header__title",children:[O(),c.jsx("span",{children:F})]})})()}),c.jsxs("div",{className:"mobile-header__actions",children:[_(U.pathname)&&(j||L)?c.jsxs(c.Fragment,{children:[P&&c.jsxs("button",{className:"button ghost small icon with-text mobile-header__new-chat-button",onClick:K,"aria-label":rt.NEW_TRANSACTION_CHAT,title:rt.NEW_TRANSACTION_CHAT,children:[c.jsx(De,{name:"chat-bubble",variant:"micro",size:16,color:gp}),c.jsx("span",{children:rt.NEW_TRANSACTION_CHAT})]}),A&&c.jsxs("button",{className:"button ghost small icon with-text mobile-header__new-chat-button",onClick:Y,"aria-label":"Add cards",title:"Add Cards",children:[c.jsx(De,{name:"card",variant:"mini",size:16,color:gp}),c.jsx("span",{children:"Add Cards"})]})]}):null,n&&r?c.jsx("button",{className:"button no-outline small icon-gray-hover mobile-header__help-button",onClick:r,"aria-label":"Open help",title:"Help",children:c.jsx(De,{name:"help",variant:"outline",size:22,color:td})}):e||c.jsx("span",{"aria-hidden":!0,className:"header-spacer"})]}),c.jsxs(en.Portal,{children:[c.jsx(en.Overlay,{className:"mobile-drawer-overlay"}),c.jsx(en.Content,{className:"mobile-drawer-content","aria-label":`${Bn} mobile navigation`,"aria-describedby":void 0,children:c.jsxs("div",{className:"mobile-drawer-container",children:[c.jsxs("div",{className:"mobile-drawer-header",children:[c.jsx(en.Close,{asChild:!0,children:c.jsx("button",{className:"mobile-drawer-close button no-outline small icon-gray-hover-fill","aria-label":"Close menu",children:c.jsx(De,{name:"arrow-left",variant:"mini",size:22,color:td})})}),c.jsx(en.Close,{asChild:!0,children:c.jsxs(Ht,{to:fe.HOME.PATH,className:"mobile-drawer-brand","aria-label":Bn,children:[c.jsx("img",{src:an.LOGO,alt:"Logo"}),c.jsx("span",{className:"brand-name",children:Bn})]})}),c.jsx(en.Title,{className:"visually-hidden",children:"Menu"}),c.jsx(en.Description,{className:"visually-hidden",children:"Mobile navigation drawer"})]}),c.jsxs("div",{className:"mobile-drawer-body",children:[c.jsx("nav",{className:"mobile-drawer-nav",role:"navigation",children:c.jsxs("ul",{className:"primary-links",children:[c.jsx("li",{className:"nav-item-new-chat",children:c.jsx(en.Close,{asChild:!0,children:c.jsxs("button",{onClick:K,"aria-label":rt.NEW_TRANSACTION_CHAT,children:[c.jsx(De,{name:"chat-bubble",variant:"mini",size:18}),c.jsx("span",{children:rt.NEW_TRANSACTION_CHAT})]})})}),c.jsx("li",{className:x(fe.HISTORY.PATH)?"active":"",children:c.jsx(en.Close,{asChild:!0,children:c.jsxs(Ht,{to:fe.HISTORY.PATH,children:[c.jsx(De,{name:"history",variant:x(fe.HISTORY.PATH)?"solid":"outline",size:18,color:ko}),c.jsx("span",{children:rt.TRANSACTION_HISTORY})]})})}),c.jsx("li",{className:x(fe.MY_CARDS.PATH)?"active":"",children:c.jsx(en.Close,{asChild:!0,children:c.jsxs(Ht,{to:fe.MY_CARDS.PATH,children:[c.jsx(De,{name:"card",variant:x(fe.MY_CARDS.PATH)?"solid":"outline",size:18,color:ko}),c.jsx("span",{children:rt.MY_CARDS})]})})}),c.jsx("li",{className:x(fe.MY_CREDITS.PATH)?"active":"",children:c.jsx(en.Close,{asChild:!0,children:c.jsxs(Ht,{to:fe.MY_CREDITS.PATH,children:[c.jsx(De,{name:"banknotes",variant:x(fe.MY_CREDITS.PATH)?"solid":"outline",size:18,color:ko}),c.jsx("span",{children:rt.MY_CREDITS})]})})})]})}),c.jsxs("div",{className:"mobile-drawer-section",children:[c.jsx("div",{className:"section-title",children:Xn.recentSectionTitle}),c.jsx("div",{onClick:F=>{F.target.closest(".actions-dropdown")||S(!1)},children:c.jsx(I3,{existingHistoryList:o,listSize:N,currentChatId:l,returnCurrentChatId:u,onHistoryUpdate:h,creditCards:v,historyRefreshTrigger:0,loading:T})})]}),c.jsxs("div",{className:"mobile-drawer-section",children:[c.jsx("div",{className:"section-title",children:"My Cards"}),c.jsx(aw,{cards:v,loading:y,showOnlySelected:!0,onCardSelect:k,variant:"mobile-sidebar"})]})]}),D&&c.jsx("div",{className:"mobile-drawer-bottom",children:c.jsx("div",{className:"user-profile-section",children:c.jsxs(jd,{children:[c.jsx(Md,{asChild:!0,children:c.jsx("button",{className:"profile-trigger-button",children:c.jsxs("div",{className:"profile-trigger",children:[D.photoURL&&c.jsx("img",{src:D.photoURL,alt:"Profile",crossOrigin:"anonymous",referrerPolicy:"no-referrer",className:"profile-image"}),c.jsxs("div",{className:"profile-info",children:[c.jsx("span",{className:"profile-name",children:D.displayName||D.email}),c.jsx("span",{className:"profile-plan",children:p==="free"?vp.FREE:vp.PREMIUM})]}),c.jsx(De,{name:"ellipsis-vertical",variant:"mini",size:20,color:Ki,className:"profile-options-icon"})]})})}),c.jsxs(Od,{align:"start",side:"top",sideOffset:8,className:"mobile-drawer-dropdown",children:[c.jsx(en.Close,{asChild:!0,children:c.jsx(Ht,{to:fe.PREFERENCES.PATH,children:c.jsx(ws,{icon:Do.PREFERENCES.NORMAL,children:rt.PREFERENCES})})}),c.jsx(en.Close,{asChild:!0,children:c.jsx(Ht,{to:fe.ACCOUNT.PATH,children:c.jsx(ws,{icon:Do.MY_ACCOUNT.NORMAL,children:rt.MY_ACCOUNT})})}),c.jsx(en.Close,{asChild:!0,children:c.jsx(ws,{onClick:s,className:"signout-action",icon:Do.SIGN_OUT.RED,children:rt.SIGN_OUT})})]})]})})})]})})]})]})})})},BS={[fe.HOME.PATH]:"bg-white",[fe.SIGN_IN.PATH]:"bg-white",[fe.SIGN_UP.PATH]:"bg-white",[fe.WELCOME.PATH]:"bg-white",[fe.FORGOT_PASSWORD.PATH]:"bg-white"},Q$={WHITE:"bg-white",LIGHT:"bg-light",DARK:"bg-dark",PRIMARY:"bg-primary"},X$=()=>{const t=Mr();E.useEffect(()=>{const e=Object.values(Q$);document.body.classList.remove(...e);const n=t.pathname;let r=BS[n];return!r&&n!==fe.HOME.PATH&&/^\/[^\/]+$/.test(n)&&(r=BS[fe.HOME.PATH]),r&&document.body.classList.add(r),()=>{document.body.classList.remove(...e)}},[t.pathname])};function J$(){E.useEffect(()=>{if(typeof window>"u"||typeof document>"u")return;const t=document.documentElement,e=()=>{try{const l=window.visualViewport,u=(l==null?void 0:l.height)??window.innerHeight;t.style.setProperty("--app-vh-px",`${u}px`),t.style.setProperty("--app-vh",`${u*.01}px`)}catch{t.style.setProperty("--app-vh",`${window.innerHeight*.01}px`)}};e();const n=()=>e(),r=()=>e(),s=()=>e();window.addEventListener("pageshow",n),window.addEventListener("resize",r,{passive:!0}),window.addEventListener("orientationchange",s,{passive:!0});const o=window.visualViewport;return o&&(o.addEventListener("resize",r,{passive:!0}),o.addEventListener("scroll",r,{passive:!0})),()=>{window.removeEventListener("pageshow",n),window.removeEventListener("resize",r),window.removeEventListener("orientationchange",s),o&&(o.removeEventListener("resize",r),o.removeEventListener("scroll",r))}},[])}const $S=vv;function ez({}){const{user:t,logout:e}=di(),n=js(),r=Mr();X$(),J$();const[s,o]=E.useState([]),[l,u]=E.useState(!0),[h,p]=E.useState(!0),[v,y]=E.useState([]),[T,k]=E.useState([]),[N,D]=E.useState(null),[j,L]=E.useState(!1),[U,B]=E.useState(null),[m,S]=E.useState([]),[x,_]=E.useState(null),[b,R]=E.useState(0),[P,A]=E.useState(null),[H,O]=E.useState(0),[K,Y]=E.useState(""),[F,G]=E.useState(Ho.KEEP_HISTORY),[z,Z]=E.useState(!1),[ee,W]=E.useState(Ts.FREE),[J,ue]=E.useState(()=>{const Ee=localStorage.getItem("sidePanelOpen");return Ee!==null?JSON.parse(Ee):!0}),[_e,Te]=E.useState(!1),[ce,pe]=E.useState(!1),[Re,Ie]=E.useState(!1),[je,Ze]=E.useState(!1),[mt,vt]=E.useState(!1),[Oe,ke]=E.useState(""),[ne,de]=E.useState(!1),[we,me]=E.useState(0),[Pe,tt]=E.useState(!1),[Qe,Wt]=E.useState(""),mn=()=>{Wt(""),ke(""),de(!1)},[xn,Dt]=E.useState(()=>typeof window>"u"?!1:window.matchMedia(`(max-width: ${Zr}px)`).matches),Rt=E.useRef(null);E.useEffect(()=>{_(null)},[t]),E.useEffect(()=>{r.pathname===fe.HOME.PATH&&x&&n(`${fe.HOME.PATH}${x}`,{replace:!0})},[r.pathname,x,n]),E.useEffect(()=>{mt&&vt(!1)},[r.pathname]),E.useEffect(()=>{(async()=>{if(!t){o([]),B(null),y([]),k([]),S([]),W(Ts.FREE),Y(""),G(Ho.KEEP_HISTORY),Z(!1),u(!1),p(!1);return}u(!0),p(!0);try{const[Fe,et]=await Promise.all([Vo.fetchCreditCards(!0),IC.fetchUserSubscriptionPlan().catch(rn=>(console.error("Error fetching subscription plan:",rn),Ts.FREE))]);o(Fe),W(et);const[Nt,Zt,Qt,zn]=await Promise.all([Pn.fetchCreditTrackingPreferences().catch(rn=>(console.error("Error fetching credit tracking preferences:",rn),{Cards:[]})),fd.loadInstructionsPreferences().catch(rn=>(console.error("Error fetching preferences instructions:",rn),{instructions:""})),fd.loadChatHistoryPreferences().catch(rn=>(console.error("Error fetching chat history preference:",rn),{data:null})),fd.loadShowCompletedOnlyPreference().catch(rn=>(console.error("Error fetching show completed only preference:",rn),{data:"false"}))]);B(Nt),Y(Zt.instructions||""),Qt.data&&G(Qt.data),Z(zn.data==="true");const _r={lastUpdate:void 0,page_size:vv,page:1,forceShowAll:"true"},[Wn,pi,Bs]=await Promise.all([qr.fetchUserCardDetails().catch(rn=>(console.error("Error fetching user card details:",rn),[])),qr.fetchUserCardsDetailedInfo().catch(rn=>(console.error("Error fetching user detailed card info:",rn),[])),Xr.fetchPagedHistory(_r).catch(rn=>(console.error("Error fetching chat history:",rn),{chatHistory:[],hasUpdates:!1}))]);y(Wn),k(pi),Bs.hasUpdates&&(S(Bs.chatHistory),A(new Date().toISOString()))}catch(Fe){console.error("Error loading initial data:",Fe)}finally{u(!1),p(!1)}})()},[t,we]),E.useEffect(()=>{if(typeof window>"u")return;const Ee=window.matchMedia(`(max-width: ${Zr}px)`),Fe=et=>{const Nt=("matches"in et,et.matches);Dt(Nt)};Fe(Ee);try{Ee.addEventListener("change",Fe)}catch{Ee.addListener(Fe)}return()=>{try{Ee.removeEventListener("change",Fe)}catch{Ee.removeListener(Fe)}}},[]),E.useEffect(()=>{(async()=>{if(!(!t||b===0)){p(!0);try{const Fe={lastUpdate:P||void 0,page_size:vv,page:1,forceShowAll:"true"},et=await Xr.fetchPagedHistory(Fe);et.hasUpdates&&(S(et.chatHistory),A(new Date().toISOString()))}catch(Fe){console.error("Error refreshing chat history:",Fe)}finally{p(!1)}}})()},[b,F,z]);const Tn=async Ee=>{if(o(Ee),t)try{const Fe=await qr.fetchUserCardsDetailedInfo();k(Fe)}catch(Fe){console.error("Error fetching updated user card details:",Fe)}},fi=async()=>{if(t)try{const Ee=await Pn.fetchCreditTrackingPreferences();B(Ee)}catch(Ee){console.error("Error refreshing credit tracking preferences:",Ee)}},$n=Ee=>{_(Ee)},Or=async()=>{y([]),k([]),B(null),_(null),S([]),o([]),u(!1),p(!1),Ie(!1),Ze(!1),R(0),A(null),O(0),Y(""),G(Ho.KEEP_HISTORY),Z(!1),await e(),n(fe.SIGN_IN.PATH)},bn=async Ee=>{Ee&&(typeof Ee=="function"?(S(Ee),wr()):S(Fe=>{const et=[...Fe],Nt=et.findIndex(Zt=>Zt.chatId===Ee.chatId);return Nt!==-1?et[Nt]={...Ee,chatDescription:Ee.chatDescription||et[Nt].chatDescription}:et.unshift(Ee),et}),A(new Date().toISOString()),R(Fe=>Fe+1))},wr=()=>{O(Ee=>Ee+1)},Fs=async Ee=>{L(!0);try{const Fe=T.find(et=>et.id===Ee.id);Fe&&(D(Fe),Ze(!0))}catch(Fe){console.error("Error loading card details:",Fe)}finally{L(!1)}},Vs=async()=>{if(Rt.current){tt(!0),ke(""),de(!1);try{await Rt.current.handleSave()}catch(Ee){console.error("Error saving card selections:",Ee)}finally{tt(!1)}}},Us=(Ee,Fe)=>{ke(Fe),de(Ee),Ee&&(async()=>{try{const et=await Vo.fetchCreditCards(!0);o(et),me(Nt=>Nt+1)}catch(et){console.error("Error refreshing cards after save:",et)}})()},Hs=Ee=>Ee?Bn+" - "+Ee:Bn,ts=()=>{const Ee=r.pathname,Fe=Ma.getTitleByPath(Ee);return Fe?Hs(Fe):Hs()};E.useEffect(()=>{localStorage.setItem("sidePanelOpen",JSON.stringify(J))},[J]);const qe=()=>{ue(Ee=>!Ee)},ft=()=>{const Ee=r.pathname;return!!(Ma.isPage(Ee,"HOME")||Ee===fe.HISTORY.PATH||Ee===fe.MY_CARDS.PATH||Ee===fe.PREFERENCES.PATH||Ee===fe.MY_CREDITS.PATH)},lt=()=>{const Ee=r.pathname;return Ma.isPage(Ee,"HOME")?c.jsx(Y$,{}):Ee===fe.HISTORY.PATH?c.jsx(r3,{}):Ee===fe.MY_CARDS.PATH?c.jsx(a3,{}):Ee===fe.PREFERENCES.PATH?c.jsx(MI,{}):Ee===fe.MY_CREDITS.PATH?c.jsx(l3,{}):null},it=()=>{const Ee=Array.isArray(s)?s.some(Qt=>Qt&&Qt.selected===!0):!1,Fe=!x,et=!Ee,Nt=Ee&&!Fe,Zt=c.jsx(c.Fragment,{children:et?c.jsxs("button",{className:"button ghost small icon with-text",onClick:()=>Ie(!0),"aria-label":"Add cards",children:[c.jsx(De,{name:"card",variant:"mini",color:gp,size:16}),"Add Cards"]}):Nt?c.jsxs("button",{className:"button ghost small icon with-text",onClick:wr,"aria-label":rt.NEW_TRANSACTION_CHAT,children:[c.jsx(De,{name:"chat-bubble",variant:"micro",color:gp,size:16}),rt.NEW_TRANSACTION_CHAT]}):null});return c.jsxs("div",{className:"home-wrapper",children:[c.jsx(Xi,{title:rt.HOME,icon:an.HOME.MINI,actions:Zt,withActions:!0,showHelpButton:!0,onHelpClick:()=>vt(!0)}),c.jsx("div",{className:"app-content",children:c.jsx("div",{className:"prompt-window-container",children:c.jsx(q$,{creditCards:s,userCardDetails:v,user:t,returnCurrentChatId:$n,onHistoryUpdate:bn,clearChatCallback:H,setClearChatCallback:O,existingHistoryList:m,preferencesInstructions:K,chatHistoryPreference:F})})})]})};return c.jsx(n3.Provider,{value:{setFullHeight:Te},children:c.jsx(RC.Provider,{value:{setScrollHeight:pe},children:c.jsxs("div",{className:"app",children:[c.jsx(FN,{children:c.jsx("title",{children:ts()})}),t&&c.jsx(k$,{isOpen:J,onToggle:qe,chatHistory:m,currentChatId:x,onCurrentChatIdChange:$n,onHistoryUpdate:bn,subscriptionPlan:ee,creditCards:s,historyRefreshTrigger:b,isLoadingCreditCards:l,isLoadingHistory:h,onCardSelect:Fs,quickHistorySize:$S,user:t,onLogout:Or,onNewChat:wr}),(()=>{const Fe=new Set([fe.SIGN_IN.PATH,fe.SIGN_UP.PATH,fe.FORGOT_PASSWORD.PATH]).has(r.pathname),et=Ma.getTitleByPath(r.pathname)||Bn;return t&&!Fe?c.jsx(Z$,{title:et,showHelpButton:ft(),onHelpClick:()=>vt(!0),onLogout:Or,chatHistory:m,currentChatId:x,onCurrentChatIdChange:$n,onHistoryUpdate:bn,subscriptionPlan:ee,creditCards:s,isLoadingCreditCards:l,isLoadingHistory:h,onCardSelect:Fs,quickHistorySize:$S,user:t,onNewChat:wr,onOpenCardSelector:()=>Ie(!0)}):null})(),c.jsx(As,{open:mt,onOpenChange:vt,children:c.jsxs(Jr,{children:[c.jsx(es,{children:c.jsx(Rs,{children:"Help"})}),c.jsx(zi,{children:lt()})]})}),xn?c.jsx(Jo,{open:Re,onOpenChange:Ee=>{Ee||mn(),Ie(Ee)},direction:"bottom",children:c.jsxs(ci,{className:"mobile-card-selector-drawer",fitContent:!0,maxHeight:"80vh",children:[c.jsx(qi,{className:"sr-only",children:"Select Your Credit Cards"}),c.jsxs("div",{className:"dialog-header drawer-sticky-header",children:[c.jsx("h2",{children:"Select Your Credit Cards"}),c.jsx("div",{className:"search-container",style:{marginTop:6},children:c.jsx(th,{type:"text",placeholder:"Search cards...",value:Qe,onChange:Ee=>Wt(Ee.target.value),disabled:Pe})})]}),c.jsx("div",{className:"dialog-body",style:{overflowY:"auto",minHeight:0},children:c.jsx(HS,{ref:Rt,returnCreditCards:Tn,existingCreditCards:s,showSaveButton:!1,onSaveComplete:Us,isSaving:Pe,hideInternalSearch:!0,externalSearchTerm:Qe,onExternalSearchTermChange:Wt})}),c.jsxs("div",{className:"dialog-footer",children:[Oe&&c.jsx(xt,{type:ne?"success":"error",message:Oe}),c.jsxs("div",{className:"button-group",children:[c.jsxs("button",{className:`button ${Pe?"loading icon with-text":""}`,onClick:Vs,disabled:Pe,children:[Pe&&c.jsx(Go,{size:qa}),Pe?"Saving...":"Save"]}),c.jsx("button",{className:`button outline ${Pe?"disabled":""}`,onClick:()=>{mn(),Ie(!1)},disabled:Pe,children:"Cancel"})]})]})]})}):c.jsx(As,{open:Re,onOpenChange:Ee=>{Ee||mn(),Ie(Ee)},children:c.jsxs(Jr,{children:[c.jsx(es,{children:c.jsx(Rs,{children:"Select Your Credit Cards"})}),c.jsx(zi,{children:c.jsx(HS,{ref:Rt,returnCreditCards:Tn,existingCreditCards:s,showSaveButton:!1,onSaveComplete:Us,isSaving:Pe})}),c.jsxs(Rd,{children:[Oe&&c.jsx(xt,{type:ne?"success":"error",message:Oe}),c.jsxs("div",{className:"button-group",children:[c.jsxs("button",{className:`button ${Pe?"loading icon with-text":""}`,onClick:Vs,disabled:Pe,children:[Pe&&c.jsx(Go,{size:qa}),Pe?"Saving...":"Save"]}),c.jsx("button",{className:`button outline ${Pe?"disabled":""}`,onClick:()=>{mn(),Ie(!1)},disabled:Pe,children:"Cancel"})]})]})]})}),c.jsx(Jo,{open:je,onOpenChange:Ze,direction:"bottom",children:c.jsxs(ci,{fitContent:!0,maxHeight:"80vh",children:[c.jsx(bB,{children:c.jsx(qi,{className:"sr-only",children:N?N.CardName:"Card Details"})}),c.jsx("div",{className:"dialog-body",children:c.jsx(o3,{cardDetails:N,isLoading:j})})]})}),(()=>{const Fe=new Set([fe.SIGN_IN.PATH,fe.SIGN_UP.PATH,fe.FORGOT_PASSWORD.PATH]).has(r.pathname);return c.jsx(K$,{isSidePanelOpen:t?J:!1,fullHeight:Fe?!0:_e,className:Fe?"center-content":"",disableSidebarMargin:Fe,children:c.jsxs(DP,{children:[c.jsx(fr,{path:fe.HOME.PATH,element:c.jsx(Pi,{children:it()})}),c.jsx(fr,{path:fe.HOME.DYNAMIC_PATH,element:c.jsx(Pi,{children:it()})}),c.jsx(fr,{path:fe.PREFERENCES.PATH,element:c.jsx(Pi,{children:c.jsx($F,{preferencesInstructions:K,setPreferencesInstructions:Y,chatHistoryPreference:F,setChatHistoryPreference:et=>G(et),showCompletedOnlyPreference:z,setShowCompletedOnlyPreference:et=>Z(et)})})}),c.jsx(fr,{path:fe.SIGN_IN.PATH,element:c.jsx(cv,{children:c.jsx(zF,{})})}),c.jsx(fr,{path:fe.FORGOT_PASSWORD.PATH,element:c.jsx(cv,{children:c.jsx(GF,{})})}),c.jsx(fr,{path:fe.SIGN_UP.PATH,element:c.jsx(cv,{children:c.jsx(WF,{})})}),c.jsx(fr,{path:fe.WELCOME.PATH,element:c.jsx(Pi,{children:c.jsx(qF,{onModalOpen:()=>Ie(!0)})})}),c.jsx(fr,{path:fe.MY_CREDITS.PATH,element:c.jsx(Pi,{children:c.jsx(JB,{})})}),c.jsx(fr,{path:fe.MY_CREDITS_HISTORY.PATH,element:c.jsx(Pi,{children:c.jsx(N$,{userCardDetails:T,reloadTrigger:we})})}),c.jsx(fr,{path:fe.ACCOUNT.PATH,element:c.jsx(Pi,{children:c.jsx(X4,{subscriptionPlan:ee})})}),c.jsx(fr,{path:fe.HISTORY.PATH,element:c.jsx(zB,{existingHistoryList:m,currentChatId:x,returnCurrentChatId:$n,onHistoryUpdate:bn,subscriptionPlan:ee,creditCards:s,historyRefreshTrigger:b,showCompletedOnlyPreference:z})}),c.jsx(fr,{path:fe.MY_CARDS.PATH,element:c.jsx(Pi,{children:c.jsx(XB,{onCardsUpdate:Tn,onOpenCardSelector:()=>Ie(!0),reloadTrigger:we,onPreferencesUpdate:fi})})}),c.jsx(fr,{path:fe.DELETE_HISTORY.PATH,element:c.jsx(Pi,{children:c.jsx(TF,{setChatHistory:S,setHistoryRefreshTrigger:R})})})]})})})()]})})})}function tz(){return c.jsx(nN,{children:c.jsx(mx,{children:c.jsx(ez,{})})})}const nz=$R.createRoot(document.getElementById("root"));nz.render(c.jsx(E.StrictMode,{children:c.jsx(K4,{children:c.jsx(tz,{})})}));
